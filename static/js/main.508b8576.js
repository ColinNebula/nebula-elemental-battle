/*! For license information please see main.508b8576.js.LICENSE.txt */
(()=>{"use strict";var e={85:(e,t,n)=>{var a=n(340),r=n(950),l=n(119);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(i(e)!==e)throw Error(s(188))}function f(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=f(e)))return t;e=e.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var j=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case E:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var O=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},D=[],F=-1;function z(e){return{current:e}}function B(e){0>F||(e.current=D[F],D[F]=null,F--)}function U(e,t){F++,D[F]=e.current,e.current=t}var H,G,W=z(null),q=z(null),V=z(null),Y=z(null);function $(e,t){switch(U(V,t),U(q,e),U(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),U(W,e)}function K(){B(W),B(q),B(V)}function Q(e){null!==e.memoizedState&&U(Y,e);var t=W.current,n=yd(t,e.type);t!==n&&(U(q,e),U(W,n))}function J(e){q.current===e&&(B(W),B(q)),Y.current===e&&(B(Y),df._currentValue=L)}function X(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",G=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+G}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var a=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(l){a=l}e.call(n.prototype)}}else{try{throw Error()}catch(s){a=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&a&&"string"===typeof o.stack)return[o.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=a.DetermineComponentFrameRoot(),s=l[0],o=l[1];if(s&&o){var i=s.split("\n"),c=o.split("\n");for(r=a=0;a<i.length&&!i[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===i.length||r===c.length)for(a=i.length-1,r=c.length-1;1<=a&&0<=r&&i[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(i[a]!==c[r]){if(1!==a||1!==r)do{if(a--,0>--r||i[a]!==c[r]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=r);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var ae=Object.prototype.hasOwnProperty,re=a.unstable_scheduleCallback,le=a.unstable_cancelCallback,se=a.unstable_shouldYield,oe=a.unstable_requestPaint,ie=a.unstable_now,ce=a.unstable_getCurrentPriorityLevel,ue=a.unstable_ImmediatePriority,de=a.unstable_UserBlockingPriority,fe=a.unstable_NormalPriority,me=a.unstable_LowPriority,pe=a.unstable_IdlePriority,he=a.log,ge=a.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof he&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var Ee=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/Se|0)|0},xe=Math.log,Se=Math.LN2;var ke=256,Ne=262144,we=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&a;return 0!==o?0!==(a=o&~l)?r=Ce(a):0!==(s&=o)?r=Ce(s):n||0!==(n=o&~e)&&(r=Ce(n)):0!==(o=a&~l)?r=Ce(o):0!==s?r=Ce(s):n||0!==(n=a&~e)&&(r=Ce(n)),0===r?0:0!==t&&t!==r&&0===(t&l)&&((l=r&-r)>=(n=t&-t)||32===l&&0!==(4194048&n))?t:r}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Re(){var e=we;return 0===(62914560&(we<<=1))&&(we=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ee(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|261930&n}function Me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ee(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function _e(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=_.p;return 0!==e?e:void 0===(e=window.event)?32:Tf(e.type)}function ze(e,t){var n=_.p;try{return _.p=e,t()}finally{_.p=n}}var Be=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Be,He="__reactProps$"+Be,Ge="__reactContainer$"+Be,We="__reactEvents$"+Be,qe="__reactListeners$"+Be,Ve="__reactHandles$"+Be,Ye="__reactResources$"+Be,$e="__reactMarker$"+Be;function Ke(e){delete e[Ue],delete e[He],delete e[We],delete e[qe],delete e[Ve]}function Qe(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ge]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ld(e);null!==e;){if(n=e[Ue])return n;e=Ld(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[Ue]||e[Ge]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ye];return t||(t=e[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[$e]=!0}var tt=new Set,nt={};function at(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var lt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},ot={};function it(e,t,n){if(r=t,ae.call(ot,r)||!ae.call(st,r)&&(lt.test(r)?ot[r]=!0:(st[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ft(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=ft(e)?"checked":"value";e._valueTracker=function(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,l=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ft(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,a,r,l,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?Et(e,s,dt(t)):null!=n?Et(e,s,dt(n)):null!=a&&e.removeAttribute("value"),null==r&&null!=l&&(e.defaultChecked=!!l),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,a,r,l,s,o){if(null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.type=l),null!=t||null!=n){if(!("submit"!==l&&"reset"!==l||void 0!==t&&null!==t))return void mt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:r)&&"symbol"!==typeof a&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),mt(e)}function Et(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(s(92));if(O(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a),mt(e)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!==typeof n||0===n||wt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&Ct(e,r,a)}else for(var l in t)t.hasOwnProperty(l)&&Ct(e,l,t[l])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Rt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var Ot=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _t=null,Lt=null;function Dt(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[He]||null;if(!r)throw Error(s(90));yt(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&pt(a)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ft=!1;function zt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==_t||null!==Lt)&&(Zc(),_t&&(t=_t,e=Lt,Lt=_t=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var a=n[He]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ht=!1;if(Ut)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch(Xf){Ht=!1}var Wt=null,qt=null,Vt=null;function Yt(){if(Vt)return Vt;var e,t,n=qt,a=n.length,r="value"in Wt?Wt.value:Wt.textContent,l=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[l-t];t++);return Vt=r.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Qt(){return!1}function Jt(e){function t(t,n,a,r,l){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Kt:Qt,this.isPropagationStopped=Qt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Jt(tn),an=m({},tn,{view:0,detail:0}),rn=Jt(an),ln=m({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Jt(ln),on=Jt(m({},ln,{dataTransfer:0})),cn=Jt(m({},an,{relatedTarget:0})),un=Jt(m({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Jt(m({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=Jt(m({},tn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function vn(){return gn}var yn=Jt(m({},an,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Jt(m({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=Jt(m({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),xn=Jt(m({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Jt(m({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Jt(m({},tn,{newState:0,oldState:0})),Nn=[9,13,27,32],wn=Ut&&"CompositionEvent"in window,Cn=null;Ut&&"documentMode"in document&&(Cn=document.documentMode);var Tn=Ut&&"TextEvent"in window&&!Cn,An=Ut&&(!wn||Cn&&8<Cn&&11>=Cn),jn=String.fromCharCode(32),Rn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Ln(e,t,n,a){_t?Lt?Lt.push(a):Lt=[a]:_t=a,0<(t=ad(t,"onChange")).length&&(n=new nn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Dn=null,Fn=null;function zn(e){Ku(e,0)}function Bn(e){if(pt(Xe(e)))return e}function Un(e,t){if("change"===e)return t}var Hn=!1;if(Ut){var Gn;if(Ut){var Wn="oninput"in document;if(!Wn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Wn="function"===typeof qn.oninput}Gn=Wn}else Gn=!1;Hn=Gn&&(!document.documentMode||9<document.documentMode)}function Vn(){Dn&&(Dn.detachEvent("onpropertychange",Yn),Fn=Dn=null)}function Yn(e){if("value"===e.propertyName&&Bn(Fn)){var t=[];Ln(t,Fn,e,Mt(e)),zt(zn,t)}}function $n(e,t,n){"focusin"===e?(Vn(),Fn=n,(Dn=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&Vn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Fn)}function Qn(e,t){if("click"===e)return Bn(t)}function Jn(e,t){if("input"===e||"change"===e)return Bn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!ae.call(t,r)||!Xn(e[r],t[r]))return!1}return!0}function ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ta(e,t){var n,a=ea(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ea(a)}}function na(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?na(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function aa(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var la=Ut&&"documentMode"in document&&11>=document.documentMode,sa=null,oa=null,ia=null,ca=!1;function ua(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ca||null==sa||sa!==ht(a)||("selectionStart"in(a=sa)&&ra(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ia&&Zn(ia,a)||(ia=a,0<(a=ad(oa,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=sa)))}function da(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fa={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},ma={},pa={};function ha(e){if(ma[e])return ma[e];if(!fa[e])return e;var t,n=fa[e];for(t in n)if(n.hasOwnProperty(t)&&t in pa)return ma[e]=n[t];return e}Ut&&(pa=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);var ga=ha("animationend"),va=ha("animationiteration"),ya=ha("animationstart"),ba=ha("transitionrun"),Ea=ha("transitionstart"),xa=ha("transitioncancel"),Sa=ha("transitionend"),ka=new Map,Na="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,t){ka.set(e,t),at(t,[e])}Na.push("scrollEnd");var Ca="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ta=[],Aa=0,ja=0;function Ra(){for(var e=Aa,t=ja=Aa=0;t<e;){var n=Ta[t];Ta[t++]=null;var a=Ta[t];Ta[t++]=null;var r=Ta[t];Ta[t++]=null;var l=Ta[t];if(Ta[t++]=null,null!==a&&null!==r){var s=a.pending;null===s?r.next=r:(r.next=s.next,s.next=r),a.pending=r}0!==l&&Ma(n,r,l)}}function Pa(e,t,n,a){Ta[Aa++]=e,Ta[Aa++]=t,Ta[Aa++]=n,Ta[Aa++]=a,ja|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Ia(e,t,n,a){return Pa(e,t,n,a),_a(e)}function Oa(e,t){return Pa(e,null,null,t),_a(e)}function Ma(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var r=!1,l=e.return;null!==l;)l.childLanes|=n,null!==(a=l.alternate)&&(a.childLanes|=n),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(r=!0)),e=l,l=l.return;return 3===e.tag?(l=e.stateNode,r&&null!==t&&(r=31-Ee(n),null===(a=(e=l.hiddenUpdates)[r])?e[r]=[t]:a.push(t),t.lane=536870912|n),l):null}function _a(e){if(50<Wc)throw Wc=0,qc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var La={};function Da(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(e,t,n,a){return new Da(e,t,n,a)}function za(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ba(e,t){var n=e.alternate;return null===n?((n=Fa(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ua(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ha(e,t,n,a,r,l){var o=0;if(a=e,"function"===typeof e)za(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Fa(31,n,t,r)).elementType=T,e.lanes=l,e;case v:return Ga(n.children,r,l,t);case y:o=8,r|=24;break;case b:return(e=Fa(12,n,t,2|r)).elementType=b,e.lanes=l,e;case k:return(e=Fa(13,n,t,r)).elementType=k,e.lanes=l,e;case N:return(e=Fa(19,n,t,r)).elementType=N,e.lanes=l,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case E:o=9;break e;case S:o=11;break e;case w:o=14;break e;case C:o=16,a=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),a=null}return(t=Fa(o,n,t,r)).elementType=e,t.type=a,t.lanes=l,t}function Ga(e,t,n,a){return(e=Fa(7,e,a,t)).lanes=n,e}function Wa(e,t,n){return(e=Fa(6,e,null,t)).lanes=n,e}function qa(e){var t=Fa(18,null,null,0);return t.stateNode=e,t}function Va(e,t,n){return(t=Fa(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ya=new WeakMap;function $a(e,t){if("object"===typeof e&&null!==e){var n=Ya.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Ya.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Ka=[],Qa=0,Ja=null,Xa=0,Za=[],er=0,tr=null,nr=1,ar="";function rr(e,t){Ka[Qa++]=Xa,Ka[Qa++]=Ja,Ja=e,Xa=t}function lr(e,t,n){Za[er++]=nr,Za[er++]=ar,Za[er++]=tr,tr=e;var a=nr;e=ar;var r=32-Ee(a)-1;a&=~(1<<r),n+=1;var l=32-Ee(t)+r;if(30<l){var s=r-r%5;l=(a&(1<<s)-1).toString(32),a>>=s,r-=s,nr=1<<32-Ee(t)+r|n<<r|a,ar=l+e}else nr=1<<l|n<<r|a,ar=e}function sr(e){null!==e.return&&(rr(e,1),lr(e,1,0))}function or(e){for(;e===Ja;)Ja=Ka[--Qa],Ka[Qa]=null,Xa=Ka[--Qa],Ka[Qa]=null;for(;e===tr;)tr=Za[--er],Za[er]=null,ar=Za[--er],Za[er]=null,nr=Za[--er],Za[er]=null}function ir(e,t){Za[er++]=nr,Za[er++]=ar,Za[er++]=tr,nr=t.id,ar=t.overflow,tr=e}var cr=null,ur=null,dr=!1,fr=null,mr=!1,pr=Error(s(519));function hr(e){throw xr($a(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pr}function gr(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ue]=e,t[He]=a,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Yu.length;n++)Qu(Yu[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),bt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),kt(t,a.value,a.defaultValue,a.children)}"string"!==typeof(n=a.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||cd(t.textContent,n)?(null!=a.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=a.onScroll&&Qu("scroll",t),null!=a.onScrollEnd&&Qu("scrollend",t),null!=a.onClick&&(t.onclick=It),t=!0):t=!1,t||hr(e,!0)}function vr(e){for(cr=e.return;cr;)switch(cr.tag){case 5:case 31:case 13:return void(mr=!1);case 27:case 3:return void(mr=!0);default:cr=cr.return}}function yr(e){if(e!==cr)return!1;if(!dr)return vr(e),dr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ur&&hr(e),vr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ur=_d(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ur=_d(e)}else 27===n?(n=ur,Cd(e.type)?(e=Md,Md=null,ur=e):ur=n):ur=cr?Od(e.stateNode.nextSibling):null;return!0}function br(){ur=cr=null,dr=!1}function Er(){var e=fr;return null!==e&&(null===Rc?Rc=e:Rc.push.apply(Rc,e),fr=null),e}function xr(e){null===fr?fr=[e]:fr.push(e)}var Sr=z(null),kr=null,Nr=null;function wr(e,t,n){U(Sr,t._currentValue),t._currentValue=n}function Cr(e){e._currentValue=Sr.current,B(Sr)}function Tr(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t,n,a){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var l=r.dependencies;if(null!==l){var o=r.child;l=l.firstContext;e:for(;null!==l;){var i=l;l=r;for(var c=0;c<t.length;c++)if(i.context===t[c]){l.lanes|=n,null!==(i=l.alternate)&&(i.lanes|=n),Tr(l.return,n,e),a||(o=null);break e}l=i.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Tr(o,n,e),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===e){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function jr(e,t,n,a){e=null;for(var r=t,l=!1;null!==r;){if(!l)if(0!==(524288&r.flags))l=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var o=r.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var i=r.type;Xn(r.pendingProps.value,o.value)||(null!==e?e.push(i):e=[i])}}else if(r===Y.current){if(null===(o=r.alternate))throw Error(s(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(df):e=[df])}r=r.return}null!==e&&Ar(t,e,n,a),t.flags|=262144}function Rr(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pr(e){kr=e,Nr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ir(e){return Mr(kr,e)}function Or(e,t){return null===kr&&Pr(e),Mr(e,t)}function Mr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Nr){if(null===e)throw Error(s(308));Nr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Nr=Nr.next=t;return n}var _r="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Lr=a.unstable_scheduleCallback,Dr=a.unstable_NormalPriority,Fr={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zr(){return{controller:new _r,data:new Map,refCount:0}}function Br(e){e.refCount--,0===e.refCount&&Lr(Dr,function(){e.controller.abort()})}var Ur=null,Hr=0,Gr=0,Wr=null;function qr(){if(0===--Hr&&null!==Ur){null!==Wr&&(Wr.status="fulfilled");var e=Ur;Ur=null,Gr=0,Wr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vr=M.S;M.S=function(e,t){Oc=ie(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ur){var n=Ur=[];Hr=0,Gr=Hu(),Wr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hr++,t.then(qr,qr)}(0,t),null!==Vr&&Vr(e,t)};var Yr=z(null);function $r(){var e=Yr.current;return null!==e?e:pc.pooledCache}function Kr(e,t){U(Yr,null===t?Yr.current:t.pool)}function Qr(){var e=$r();return null===e?null:{parent:Fr._currentValue,pool:e}}var Jr=Error(s(460)),Xr=Error(s(474)),Zr=Error(s(542)),el={then:function(){}};function tl(e){return"fulfilled"===(e=e.status)||"rejected"===e}function nl(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(It,It),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw sl(e=t.reason),e;default:if("string"===typeof t.status)t.then(It,It);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw sl(e=t.reason),e}throw rl=t,Jr}}function al(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw rl=t,Jr;throw t}}var rl=null;function ll(){if(null===rl)throw Error(s(459));var e=rl;return rl=null,e}function sl(e){if(e===Jr||e===Zr)throw Error(s(483))}var ol=null,il=0;function cl(e){var t=il;return il+=1,null===ol&&(ol=[]),nl(ol,e,t)}function ul(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function dl(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fl(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Ba(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function i(e,t,n,a){return null===t||6!==t.tag?((t=Wa(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var l=n.type;return l===v?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===C&&al(l)===t.type)?(ul(t=r(t,n.props),n),t.return=e,t):(ul(t=Ha(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Va(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,a,l){return null===t||7!==t.tag?((t=Ga(n,e.mode,a,l)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wa(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case h:return ul(n=Ha(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Va(t,e.mode,n)).return=e,t;case C:return f(e,t=al(t),n)}if(O(t)||R(t))return(t=Ga(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,cl(t),n);if(t.$$typeof===x)return f(e,Or(e,t),n);dl(e,t)}return null}function m(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:i(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===r?c(e,t,n,a):null;case g:return n.key===r?u(e,t,n,a):null;case C:return m(e,t,n=al(n),a)}if(O(n)||R(n))return null!==r?null:d(e,t,n,a,null);if("function"===typeof n.then)return m(e,t,cl(n),a);if(n.$$typeof===x)return m(e,t,Or(e,n),a);dl(e,n)}return null}function p(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return i(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case h:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case g:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r);case C:return p(e,t,n,a=al(a),r)}if(O(a)||R(a))return d(t,e=e.get(n)||null,a,r,null);if("function"===typeof a.then)return p(e,t,n,cl(a),r);if(a.$$typeof===x)return p(e,t,n,Or(t,a),r);dl(t,a)}return null}function y(i,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case h:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(i,c.sibling),(d=r(c,u.props.children)).return=i,i=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&al(b)===c.type){n(i,c.sibling),ul(d=r(c,u.props),u),d.return=i,i=d;break e}n(i,c);break}t(i,c),c=c.sibling}u.type===v?((d=Ga(u.props.children,i.mode,d,u.key)).return=i,i=d):(ul(d=Ha(u.type,u.key,u.props,null,i.mode,d),u),d.return=i,i=d)}return o(i);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(i,c.sibling),(d=r(c,u.children||[])).return=i,i=d;break e}n(i,c);break}t(i,c),c=c.sibling}(d=Va(u,i.mode,d)).return=i,i=d}return o(i);case C:return y(i,c,u=al(u),d)}if(O(u))return function(r,s,o,i){for(var c=null,u=null,d=s,h=s=0,g=null;null!==d&&h<o.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var v=m(r,d,o[h],i);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),s=l(v,s,h),null===u?c=v:u.sibling=v,u=v,d=g}if(h===o.length)return n(r,d),dr&&rr(r,h),c;if(null===d){for(;h<o.length;h++)null!==(d=f(r,o[h],i))&&(s=l(d,s,h),null===u?c=d:u.sibling=d,u=d);return dr&&rr(r,h),c}for(d=a(d);h<o.length;h++)null!==(g=p(d,r,h,o[h],i))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),s=l(g,s,h),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(r,e)}),dr&&rr(r,h),c}(i,c,u,d);if(R(u)){if("function"!==typeof(b=R(u)))throw Error(s(150));return function(r,o,i,c){if(null==i)throw Error(s(151));for(var u=null,d=null,h=o,g=o=0,v=null,y=i.next();null!==h&&!y.done;g++,y=i.next()){h.index>g?(v=h,h=null):v=h.sibling;var b=m(r,h,y.value,c);if(null===b){null===h&&(h=v);break}e&&h&&null===b.alternate&&t(r,h),o=l(b,o,g),null===d?u=b:d.sibling=b,d=b,h=v}if(y.done)return n(r,h),dr&&rr(r,g),u;if(null===h){for(;!y.done;g++,y=i.next())null!==(y=f(r,y.value,c))&&(o=l(y,o,g),null===d?u=y:d.sibling=y,d=y);return dr&&rr(r,g),u}for(h=a(h);!y.done;g++,y=i.next())null!==(y=p(h,r,g,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?g:y.key),o=l(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(r,e)}),dr&&rr(r,g),u}(i,c,u=b.call(u),d)}if("function"===typeof u.then)return y(i,c,cl(u),d);if(u.$$typeof===x)return y(i,c,Or(i,u),d);dl(i,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(i,c.sibling),(d=r(c,u)).return=i,i=d):(n(i,c),(d=Wa(u,i.mode,d)).return=i,i=d),o(i)):n(i,c)}return function(e,t,n,a){try{il=0;var r=y(e,t,n,a);return ol=null,r}catch(s){if(s===Jr||s===Zr)throw s;var l=Fa(29,s,null,e.mode);return l.lanes=a,l.return=e,l}}}var ml=fl(!0),pl=fl(!1),hl=!1;function gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bl(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&mc)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=_a(e),Ma(e,null,n),t}return Pa(e,a,t,n),_a(e)}function El(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Me(e,n)}}function xl(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===l?r=l=s:l=l.next=s,n=n.next}while(null!==n);null===l?r=l=t:l=l.next=t}else r=l=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Sl=!1;function kl(){if(Sl){if(null!==Wr)throw Wr}}function Nl(e,t,n,a){Sl=!1;var r=e.updateQueue;hl=!1;var l=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var i=o,c=i.next;i.next=null,null===s?l=c:s.next=c,s=i;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=i))}if(null!==l){var d=r.baseState;for(s=0,u=c=i=null,o=l;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(gc&f)===f:(a&f)===f){0!==f&&f===Gr&&(Sl=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var h=e,g=o;f=t;var v=n;switch(g.tag){case 1:if("function"===typeof(h=g.payload)){d=h.call(v,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=g.payload)?h.call(v,d,f):h)||void 0===f)break e;d=m({},d,f);break e;case 2:hl=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,i=d):u=u.next=p,s|=f;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(i=d),r.baseState=i,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===l&&(r.shared.lanes=0),Nc|=s,e.lanes=s,e.memoizedState=d}}function wl(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Cl(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)wl(n[e],t)}var Tl=z(null),Al=z(0);function jl(e,t){U(Al,e=Sc),U(Tl,t),Sc=e|t.baseLanes}function Rl(){U(Al,Sc),U(Tl,Tl.current)}function Pl(){Sc=Al.current,B(Tl),B(Al)}var Il=z(null),Ol=null;function Ml(e){var t=e.alternate;U(zl,1&zl.current),U(Il,e),null===Ol&&(null===t||null!==Tl.current||null!==t.memoizedState)&&(Ol=e)}function _l(e){U(zl,zl.current),U(Il,e),null===Ol&&(Ol=e)}function Ll(e){22===e.tag?(U(zl,zl.current),U(Il,e),null===Ol&&(Ol=e)):Dl()}function Dl(){U(zl,zl.current),U(Il,Il.current)}function Fl(e){B(Il),Ol===e&&(Ol=null),B(zl)}var zl=z(0);function Bl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pd(n)||Id(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ul=0,Hl=null,Gl=null,Wl=null,ql=!1,Vl=!1,Yl=!1,$l=0,Kl=0,Ql=null,Jl=0;function Xl(){throw Error(s(321))}function Zl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function es(e,t,n,a,r,l){return Ul=l,Hl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?go:vo,Yl=!1,l=n(a,r),Yl=!1,Vl&&(l=ns(t,n,a,r)),ts(e),l}function ts(e){M.H=ho;var t=null!==Gl&&null!==Gl.next;if(Ul=0,Wl=Gl=Hl=null,ql=!1,Kl=0,Ql=null,t)throw Error(s(300));null===e||Oo||null!==(e=e.dependencies)&&Rr(e)&&(Oo=!0)}function ns(e,t,n,a){Hl=e;var r=0;do{if(Vl&&(Ql=null),Kl=0,Vl=!1,25<=r)throw Error(s(301));if(r+=1,Wl=Gl=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}M.H=yo,l=t(n,a)}while(Vl);return l}function as(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?cs(t):t,e=e.useState()[0],(null!==Gl?Gl.memoizedState:null)!==e&&(Hl.flags|=1024),t}function rs(){var e=0!==$l;return $l=0,e}function ls(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ss(e){if(ql){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ql=!1}Ul=0,Wl=Gl=Hl=null,Vl=!1,Kl=$l=0,Ql=null}function os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wl?Hl.memoizedState=Wl=e:Wl=Wl.next=e,Wl}function is(){if(null===Gl){var e=Hl.alternate;e=null!==e?e.memoizedState:null}else e=Gl.next;var t=null===Wl?Hl.memoizedState:Wl.next;if(null!==t)Wl=t,Gl=e;else{if(null===e){if(null===Hl.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Gl=e).memoizedState,baseState:Gl.baseState,baseQueue:Gl.baseQueue,queue:Gl.queue,next:null},null===Wl?Hl.memoizedState=Wl=e:Wl=Wl.next=e}return Wl}function cs(e){var t=Kl;return Kl+=1,null===Ql&&(Ql=[]),e=nl(Ql,e,t),t=Hl,null===(null===Wl?t.memoizedState:Wl.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?go:vo),e}function us(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return cs(e);if(e.$$typeof===x)return Ir(e)}throw Error(s(438,String(e)))}function ds(e){var t=null,n=Hl.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=Hl.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Hl.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=A;return t.index++,n}function fs(e,t){return"function"===typeof t?t(e):t}function ms(e){return ps(is(),Gl,e)}function ps(e,t,n){var a=e.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=n;var r=e.baseQueue,l=a.pending;if(null!==l){if(null!==r){var o=r.next;r.next=l.next,l.next=o}t.baseQueue=r=l,a.pending=null}if(l=e.baseState,null===r)e.memoizedState=l;else{var i=o=null,c=null,u=t=r.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(gc&f)===f:(Ul&f)===f){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Gr&&(d=!0);else{if((Ul&m)===m){u=u.next,m===Gr&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(i=c=f,o=l):c=c.next=f,Hl.lanes|=m,Nc|=m}f=u.action,Yl&&n(l,f),l=u.hasEagerState?u.eagerState:n(l,f)}else m={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(i=c=m,o=l):c=c.next=m,Hl.lanes|=f,Nc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?o=l:c.next=i,!Xn(l,e.memoizedState)&&(Oo=!0,d&&null!==(n=Wr)))throw n;e.memoizedState=l,e.baseState=o,e.baseQueue=c,a.lastRenderedState=l}return null===r&&(a.lanes=0),[e.memoizedState,a.dispatch]}function hs(e){var t=is(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,l=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{l=e(l,o.action),o=o.next}while(o!==r);Xn(l,t.memoizedState)||(Oo=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function gs(e,t,n){var a=Hl,r=is(),l=dr;if(l){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Xn((Gl||r).memoizedState,n);if(o&&(r.memoizedState=n,Oo=!0),r=r.queue,Us(bs.bind(null,a,r,e),[e]),r.getSnapshot!==t||o||null!==Wl&&1&Wl.memoizedState.tag){if(a.flags|=2048,Ls(9,{destroy:void 0},ys.bind(null,a,r,n,t),null),null===pc)throw Error(s(349));l||0!==(127&Ul)||vs(a,t,n)}return n}function vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Hl.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Hl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ys(e,t,n,a){t.value=n,t.getSnapshot=a,Es(t)&&xs(e)}function bs(e,t,n){return n(function(){Es(t)&&xs(e)})}function Es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(a){return!0}}function xs(e){var t=Oa(e,2);null!==t&&$c(t,e,2)}function Ss(e){var t=os();if("function"===typeof e){var n=e;if(e=n(),Yl){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t}function ks(e,t,n,a){return e.baseState=n,ps(e,Gl,"function"===typeof a?a:fs)}function Ns(e,t,n,a,r){if(fo(e))throw Error(s(485));if(null!==(e=t.action)){var l={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==M.T?n(!0):l.isTransition=!1,a(l),null===(n=t.pending)?(l.next=t.pending=l,ws(t,l)):(l.next=n.next,t.pending=n.next=l)}}function ws(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var l=M.T,s={};M.T=s;try{var o=n(r,a),i=M.S;null!==i&&i(s,o),Cs(e,t,o)}catch(c){As(e,t,c)}finally{null!==l&&null!==s.types&&(l.types=s.types),M.T=l}}else try{Cs(e,t,l=n(r,a))}catch(u){As(e,t,u)}}function Cs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ts(e,t,n)},function(n){return As(e,t,n)}):Ts(e,t,n)}function Ts(e,t,n){t.status="fulfilled",t.value=n,js(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ws(e,n)))}function As(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,js(t),t=t.next}while(t!==a)}e.action=null}function js(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rs(e,t){return t}function Ps(e,t){if(dr){var n=pc.formState;if(null!==n){e:{var a=Hl;if(dr){if(ur){t:{for(var r=ur,l=mr;8!==r.nodeType;){if(!l){r=null;break t}if(null===(r=Od(r.nextSibling))){r=null;break t}}r="F!"===(l=r.data)||"F"===l?r:null}if(r){ur=Od(r.nextSibling),a="F!"===r.data;break e}}hr(a)}a=!1}a&&(t=n[0])}}return(n=os()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:t},n.queue=a,n=io.bind(null,Hl,a),a.dispatch=n,a=Ss(!1),l=uo.bind(null,Hl,!1,a.queue),r={state:t,dispatch:null,action:e,pending:null},(a=os()).queue=r,n=Ns.bind(null,Hl,r,l,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function Is(e){return Os(is(),Gl,e)}function Os(e,t,n){if(t=ps(e,t,Rs)[0],e=ms(fs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=cs(t)}catch(s){if(s===Jr)throw Zr;throw s}else a=t;var r=(t=is()).queue,l=r.dispatch;return n!==t.memoizedState&&(Hl.flags|=2048,Ls(9,{destroy:void 0},Ms.bind(null,r,n),null)),[a,l,e]}function Ms(e,t){e.action=t}function _s(e){var t=is(),n=Gl;if(null!==n)return Os(t,n,e);is(),t=t.memoizedState;var a=(n=is()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ls(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=Hl.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Hl.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ds(){return is().memoizedState}function Fs(e,t,n,a){var r=os();Hl.flags|=e,r.memoizedState=Ls(1|t,{destroy:void 0},n,void 0===a?null:a)}function zs(e,t,n,a){var r=is();a=void 0===a?null:a;var l=r.memoizedState.inst;null!==Gl&&null!==a&&Zl(a,Gl.memoizedState.deps)?r.memoizedState=Ls(t,l,n,a):(Hl.flags|=e,r.memoizedState=Ls(1|t,l,n,a))}function Bs(e,t){Fs(8390656,8,e,t)}function Us(e,t){zs(2048,8,e,t)}function Hs(e){var t=is().memoizedState;return function(e){Hl.flags|=4;var t=Hl.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Hl.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&mc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Gs(e,t){return zs(4,2,e,t)}function Ws(e,t){return zs(4,4,e,t)}function qs(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Vs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zs(4,4,qs.bind(null,t,e),n)}function Ys(){}function $s(e,t){var n=is();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&Zl(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ks(e,t){var n=is();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&Zl(t,a[1]))return a[0];if(a=e(),Yl){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[a,t],a}function Qs(e,t,n){return void 0===n||0!==(1073741824&Ul)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Yc(),Hl.lanes|=e,Nc|=e,n)}function Js(e,t,n,a){return Xn(n,t)?n:null!==Tl.current?(e=Qs(e,n,a),Xn(e,t)||(Oo=!0),e):0===(42&Ul)||0!==(1073741824&Ul)&&0===(261930&gc)?(Oo=!0,e.memoizedState=n):(e=Yc(),Hl.lanes|=e,Nc|=e,t)}function Xs(e,t,n,a,r){var l=_.p;_.p=0!==l&&8>l?l:8;var s=M.T,o={};M.T=o,uo(e,!1,t,n);try{var i=r(),c=M.S;if(null!==c&&c(o,i),null!==i&&"object"===typeof i&&"function"===typeof i.then)co(e,t,function(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),a}(i,a),Vc());else co(e,t,a,Vc())}catch(u){co(e,t,{then:function(){},status:"rejected",reason:u},Vc())}finally{_.p=l,null!==s&&null!==o.types&&(s.types=o.types),M.T=s}}function Zs(){}function eo(e,t,n,a){if(5!==e.tag)throw Error(s(476));var r=to(e).queue;Xs(e,r,t,L,null===n?Zs:function(){return no(e),n(a)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function no(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Vc())}function ao(){return Ir(df)}function ro(){return is().memoizedState}function lo(){return is().memoizedState}function so(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Vc(),a=bl(t,e=yl(n),n);return null!==a&&($c(a,t,n),El(a,t,n)),t={cache:zr()},void(e.payload=t)}t=t.return}}function oo(e,t,n){var a=Vc();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fo(e)?mo(t,n):null!==(n=Ia(e,t,n,a))&&($c(n,e,a),po(n,t,a))}function io(e,t,n){co(e,t,n,Vc())}function co(e,t,n,a){var r={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fo(e))mo(t,r);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=l(s,n);if(r.hasEagerState=!0,r.eagerState=o,Xn(o,s))return Pa(e,t,r,0),null===pc&&Ra(),!1}catch(i){}if(null!==(n=Ia(e,t,r,a)))return $c(n,e,a),po(n,t,a),!0}return!1}function uo(e,t,n,a){if(a={lane:2,revertLane:Hu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fo(e)){if(t)throw Error(s(479))}else null!==(t=Ia(e,n,a,2))&&$c(t,e,2)}function fo(e){var t=e.alternate;return e===Hl||null!==t&&t===Hl}function mo(e,t){Vl=ql=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function po(e,t,n){if(0!==(4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Me(e,n)}}var ho={readContext:Ir,use:us,useCallback:Xl,useContext:Xl,useEffect:Xl,useImperativeHandle:Xl,useLayoutEffect:Xl,useInsertionEffect:Xl,useMemo:Xl,useReducer:Xl,useRef:Xl,useState:Xl,useDebugValue:Xl,useDeferredValue:Xl,useTransition:Xl,useSyncExternalStore:Xl,useId:Xl,useHostTransitionStatus:Xl,useFormState:Xl,useActionState:Xl,useOptimistic:Xl,useMemoCache:Xl,useCacheRefresh:Xl};ho.useEffectEvent=Xl;var go={readContext:Ir,use:us,useCallback:function(e,t){return os().memoizedState=[e,void 0===t?null:t],e},useContext:Ir,useEffect:Bs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fs(4194308,4,qs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){Fs(4,2,e,t)},useMemo:function(e,t){var n=os();t=void 0===t?null:t;var a=e();if(Yl){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=os();if(void 0!==n){var r=n(t);if(Yl){be(!0);try{n(t)}finally{be(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=oo.bind(null,Hl,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},os().memoizedState=e},useState:function(e){var t=(e=Ss(e)).queue,n=io.bind(null,Hl,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ys,useDeferredValue:function(e,t){return Qs(os(),e,t)},useTransition:function(){var e=Ss(!1);return e=Xs.bind(null,Hl,e.queue,!0,!1),os().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Hl,r=os();if(dr){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===pc)throw Error(s(349));0!==(127&gc)||vs(a,t,n)}r.memoizedState=n;var l={value:n,getSnapshot:t};return r.queue=l,Bs(bs.bind(null,a,l,e),[e]),a.flags|=2048,Ls(9,{destroy:void 0},ys.bind(null,a,l,n,t),null),n},useId:function(){var e=os(),t=pc.identifierPrefix;if(dr){var n=ar;t="_"+t+"R_"+(n=(nr&~(1<<32-Ee(nr)-1)).toString(32)+n),0<(n=$l++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Jl++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ao,useFormState:Ps,useActionState:Ps,useOptimistic:function(e){var t=os();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uo.bind(null,Hl,!0,n),n.dispatch=t,[e,t]},useMemoCache:ds,useCacheRefresh:function(){return os().memoizedState=so.bind(null,Hl)},useEffectEvent:function(e){var t=os(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&mc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},vo={readContext:Ir,use:us,useCallback:$s,useContext:Ir,useEffect:Us,useImperativeHandle:Vs,useInsertionEffect:Gs,useLayoutEffect:Ws,useMemo:Ks,useReducer:ms,useRef:Ds,useState:function(){return ms(fs)},useDebugValue:Ys,useDeferredValue:function(e,t){return Js(is(),Gl.memoizedState,e,t)},useTransition:function(){var e=ms(fs)[0],t=is().memoizedState;return["boolean"===typeof e?e:cs(e),t]},useSyncExternalStore:gs,useId:ro,useHostTransitionStatus:ao,useFormState:Is,useActionState:Is,useOptimistic:function(e,t){return ks(is(),0,e,t)},useMemoCache:ds,useCacheRefresh:lo};vo.useEffectEvent=Hs;var yo={readContext:Ir,use:us,useCallback:$s,useContext:Ir,useEffect:Us,useImperativeHandle:Vs,useInsertionEffect:Gs,useLayoutEffect:Ws,useMemo:Ks,useReducer:hs,useRef:Ds,useState:function(){return hs(fs)},useDebugValue:Ys,useDeferredValue:function(e,t){var n=is();return null===Gl?Qs(n,e,t):Js(n,Gl.memoizedState,e,t)},useTransition:function(){var e=hs(fs)[0],t=is().memoizedState;return["boolean"===typeof e?e:cs(e),t]},useSyncExternalStore:gs,useId:ro,useHostTransitionStatus:ao,useFormState:_s,useActionState:_s,useOptimistic:function(e,t){var n=is();return null!==Gl?ks(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ds,useCacheRefresh:lo};function bo(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}yo.useEffectEvent=Hs;var Eo={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Vc(),r=yl(a);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=bl(e,r,a))&&($c(t,e,a),El(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Vc(),r=yl(a);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=bl(e,r,a))&&($c(t,e,a),El(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vc(),a=yl(n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=bl(e,a,n))&&($c(t,e,n),El(t,e,n))}};function xo(e,t,n,a,r,l,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,a)||!Zn(r,l))}function So(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function ko(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var r in n===t&&(n=m({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function No(e){Ca(e)}function wo(e){console.error(e)}function Co(e){Ca(e)}function To(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ao(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function jo(e,t,n){return(n=yl(n)).tag=3,n.payload={element:null},n.callback=function(){To(e,t)},n}function Ro(e){return(e=yl(e)).tag=3,e}function Po(e,t,n,a){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var l=a.value;e.payload=function(){return r(l)},e.callback=function(){Ao(t,n,a)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Ao(t,n,a),"function"!==typeof r&&(null===Lc?Lc=new Set([this]):Lc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Io=Error(s(461)),Oo=!1;function Mo(e,t,n,a){t.child=null===e?pl(t,null,n,a):ml(t,e.child,n,a)}function _o(e,t,n,a,r){n=n.render;var l=t.ref;if("ref"in a){var s={};for(var o in a)"ref"!==o&&(s[o]=a[o])}else s=a;return Pr(t),a=es(e,t,n,s,l,r),o=rs(),null===e||Oo?(dr&&o&&sr(t),t.flags|=1,Mo(e,t,a,r),t.child):(ls(e,t,r),ri(e,t,r))}function Lo(e,t,n,a,r){if(null===e){var l=n.type;return"function"!==typeof l||za(l)||void 0!==l.defaultProps||null!==n.compare?((e=Ha(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Do(e,t,l,a,r))}if(l=e.child,!li(e,r)){var s=l.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,a)&&e.ref===t.ref)return ri(e,t,r)}return t.flags|=1,(e=Ba(l,a)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,a,r){if(null!==e){var l=e.memoizedProps;if(Zn(l,a)&&e.ref===t.ref){if(Oo=!1,t.pendingProps=a=l,!li(e,r))return t.lanes=e.lanes,ri(e,t,r);0!==(131072&e.flags)&&(Oo=!0)}}return Wo(e,t,n,a,r)}function Fo(e,t,n,a){var r=a.children,l=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(0!==(128&t.flags)){if(l=null!==l?l.baseLanes|n:n,null!==e){for(a=t.child=e.child,r=0;null!==a;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~l}else a=0,t.child=null;return Bo(e,t,l,n,a)}if(0===(536870912&n))return a=t.lanes=536870912,Bo(e,t,null!==l?l.baseLanes|n:n,n,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Kr(0,null!==l?l.cachePool:null),null!==l?jl(t,l):Rl(),Ll(t)}else null!==l?(Kr(0,l.cachePool),jl(t,l),Dl(),t.memoizedState=null):(null!==e&&Kr(0,null),Rl(),Dl());return Mo(e,t,r,n),t.child}function zo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bo(e,t,n,a,r){var l=$r();return l=null===l?null:{parent:Fr._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},null!==e&&Kr(0,null),Rl(),Ll(t),null!==e&&jr(e,t,a,!0),t.childLanes=r,null}function Uo(e,t){return(t=Zo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ho(e,t,n){return ml(t,e.child,null,n),(e=Uo(t,t.pendingProps)).flags|=2,Fl(t),t.memoizedState=null,e}function Go(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Wo(e,t,n,a,r){return Pr(t),n=es(e,t,n,a,void 0,r),a=rs(),null===e||Oo?(dr&&a&&sr(t),t.flags|=1,Mo(e,t,n,r),t.child):(ls(e,t,r),ri(e,t,r))}function qo(e,t,n,a,r,l){return Pr(t),t.updateQueue=null,n=ns(t,a,n,r),ts(e),a=rs(),null===e||Oo?(dr&&a&&sr(t),t.flags|=1,Mo(e,t,n,l),t.child):(ls(e,t,l),ri(e,t,l))}function Vo(e,t,n,a,r){if(Pr(t),null===t.stateNode){var l=La,s=n.contextType;"object"===typeof s&&null!==s&&(l=Ir(s)),l=new n(a,l),t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=Eo,t.stateNode=l,l._reactInternals=t,(l=t.stateNode).props=a,l.state=t.memoizedState,l.refs={},gl(t),s=n.contextType,l.context="object"===typeof s&&null!==s?Ir(s):La,l.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(bo(t,n,s,a),l.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(s=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),s!==l.state&&Eo.enqueueReplaceState(l,l.state,null),Nl(t,a,l,r),kl(),l.state=t.memoizedState),"function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){l=t.stateNode;var o=t.memoizedProps,i=ko(n,o);l.props=i;var c=l.context,u=n.contextType;s=La,"object"===typeof u&&null!==u&&(s=Ir(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o||c!==s)&&So(t,l,a,s),hl=!1;var f=t.memoizedState;l.state=f,Nl(t,a,l,r),kl(),c=t.memoizedState,o||f!==c||hl?("function"===typeof d&&(bo(t,n,d,a),c=t.memoizedState),(i=hl||xo(t,n,i,a,f,c,s))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=s,a=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,vl(e,t),u=ko(n,s=t.memoizedProps),l.props=u,d=t.pendingProps,f=l.context,c=n.contextType,i=La,"object"===typeof c&&null!==c&&(i=Ir(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(s!==d||f!==i)&&So(t,l,a,i),hl=!1,f=t.memoizedState,l.state=f,Nl(t,a,l,r),kl();var m=t.memoizedState;s!==d||f!==m||hl||null!==e&&null!==e.dependencies&&Rr(e.dependencies)?("function"===typeof o&&(bo(t,n,o,a),m=t.memoizedState),(u=hl||xo(t,n,u,a,f,m,i)||null!==e&&null!==e.dependencies&&Rr(e.dependencies))?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,m,i),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,m,i)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),l.props=a,l.state=m,l.context=i,a=u):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return l=a,Go(e,t),a=0!==(128&t.flags),l||a?(l=t.stateNode,n=a&&"function"!==typeof n.getDerivedStateFromError?null:l.render(),t.flags|=1,null!==e&&a?(t.child=ml(t,e.child,null,r),t.child=ml(t,null,n,r)):Mo(e,t,n,r),t.memoizedState=l.state,e=t.child):e=ri(e,t,r),e}function Yo(e,t,n,a){return br(),t.flags|=256,Mo(e,t,n,a),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ko(e){return{baseLanes:e,cachePool:Qr()}}function Qo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Jo(e,t,n){var a,r=t.pendingProps,l=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&zl.current)),a&&(l=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(dr){if(l?Ml(t):Dl(),(e=ur)?null!==(e=null!==(e=Rd(e,mr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},(n=qa(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw hr(t);return Id(e)?t.lanes=32:t.lanes=536870912,null}var i=r.children;return r=r.fallback,l?(Dl(),i=Zo({mode:"hidden",children:i},l=t.mode),r=Ga(r,l,n,null),i.return=t,r.return=t,i.sibling=r,t.child=i,(r=t.child).memoizedState=Ko(n),r.childLanes=Qo(e,a,n),t.memoizedState=$o,zo(null,r)):(Ml(t),Xo(t,i))}var c=e.memoizedState;if(null!==c&&null!==(i=c.dehydrated)){if(o)256&t.flags?(Ml(t),t.flags&=-257,t=ei(e,t,n)):null!==t.memoizedState?(Dl(),t.child=e.child,t.flags|=128,t=null):(Dl(),i=r.fallback,l=t.mode,r=Zo({mode:"visible",children:r.children},l),(i=Ga(i,l,n,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,ml(t,e.child,null,n),(r=t.child).memoizedState=Ko(n),r.childLanes=Qo(e,a,n),t.memoizedState=$o,t=zo(null,r));else if(Ml(t),Id(i)){if(a=i.nextSibling&&i.nextSibling.dataset)var u=a.dgst;a=u,(r=Error(s(419))).stack="",r.digest=a,xr({value:r,source:null,stack:null}),t=ei(e,t,n)}else if(Oo||jr(e,t,n,!1),a=0!==(n&e.childLanes),Oo||a){if(null!==(a=pc)&&(0!==(r=_e(a,n))&&r!==c.retryLane))throw c.retryLane=r,Oa(e,r),$c(a,e,r),Io;Pd(i)||su(),t=ei(e,t,n)}else Pd(i)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ur=Od(i.nextSibling),cr=t,dr=!0,fr=null,mr=!1,null!==e&&ir(t,e),(t=Xo(t,r.children)).flags|=4096);return t}return l?(Dl(),i=r.fallback,l=t.mode,u=(c=e.child).sibling,(r=Ba(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?i=Ba(u,i):(i=Ga(i,l,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,zo(null,r),r=t.child,null===(i=e.child.memoizedState)?i=Ko(n):(null!==(l=i.cachePool)?(c=Fr._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Qr(),i={baseLanes:i.baseLanes|n,cachePool:l}),r.memoizedState=i,r.childLanes=Qo(e,a,n),t.memoizedState=$o,zo(e.child,r)):(Ml(t),e=(n=e.child).sibling,(n=Ba(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Xo(e,t){return(t=Zo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zo(e,t){return(e=Fa(22,e,null,t)).lanes=0,e}function ei(e,t,n){return ml(t,e.child,null,n),(e=Xo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ti(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Tr(e.return,t,n)}function ni(e,t,n,a,r,l){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,treeForkCount:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r,s.treeForkCount=l)}function ai(e,t,n){var a=t.pendingProps,r=a.revealOrder,l=a.tail;a=a.children;var s=zl.current,o=0!==(2&s);if(o?(s=1&s|2,t.flags|=128):s&=1,U(zl,s),Mo(e,t,a,n),a=dr?Xa:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ti(e,n,t);else if(19===e.tag)ti(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Bl(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ni(t,!1,r,n,l,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Bl(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ni(t,!0,n,null,l,a);break;case"together":ni(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ri(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(jr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ba(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ba(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function li(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Rr(e))}function si(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Oo=!0;else{if(!li(e,n)&&0===(128&t.flags))return Oo=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),wr(0,Fr,e.memoizedState.cache),br();break;case 27:case 5:Q(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:wr(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,_l(t),null;break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(Ml(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Jo(e,t,n):(Ml(t),null!==(e=ri(e,t,n))?e.sibling:null);Ml(t);break;case 19:var r=0!==(128&e.flags);if((a=0!==(n&t.childLanes))||(jr(e,t,n,!1),a=0!==(n&t.childLanes)),r){if(a)return ai(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),U(zl,zl.current),a)break;return null;case 22:return t.lanes=0,Fo(e,t,n,t.pendingProps);case 24:wr(0,Fr,e.memoizedState.cache)}return ri(e,t,n)}(e,t,n);Oo=0!==(131072&e.flags)}else Oo=!1,dr&&0!==(1048576&t.flags)&&lr(t,Xa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=al(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var r=e.$$typeof;if(r===S){t.tag=11,t=_o(null,t,e,a,n);break e}if(r===w){t.tag=14,t=Lo(null,t,e,a,n);break e}}throw t=I(e)||e,Error(s(306,t,""))}za(e)?(a=ko(e,a),t.tag=1,t=Vo(null,t,e,a,n)):(t.tag=0,t=Wo(null,t,e,a,n))}return t;case 0:return Wo(e,t,t.type,t.pendingProps,n);case 1:return Vo(e,t,a=t.type,r=ko(a,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(s(387));a=t.pendingProps;var l=t.memoizedState;r=l.element,vl(e,t),Nl(t,a,null,n);var o=t.memoizedState;if(a=o.cache,wr(0,Fr,a),a!==l.cache&&Ar(t,[Fr],n,!0),kl(),a=o.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Yo(e,t,a,n);break e}if(a!==r){xr(r=$a(Error(s(424)),t)),t=Yo(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ur=Od(e.firstChild),cr=t,dr=!0,fr=null,mr=!0,n=pl(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(br(),a===r){t=ri(e,t,n);break e}Mo(e,t,a,n)}t=t.child}return t;case 26:return Go(e,t),null===e?(n=qd(t.type,null,t.pendingProps,null))?t.memoizedState=n:dr||(n=t.type,e=t.pendingProps,(a=gd(V.current).createElement(n))[Ue]=t,a[He]=e,fd(a,n,e),et(a),t.stateNode=a):t.memoizedState=qd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&dr&&(a=t.stateNode=Dd(t.type,t.pendingProps,V.current),cr=t,mr=!0,r=ur,Cd(t.type)?(Md=r,ur=Od(a.firstChild)):ur=r),Mo(e,t,t.pendingProps.children,n),Go(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&dr&&((r=a=ur)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var l=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===l)return e}if(null===(e=Od(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,mr))?(t.stateNode=a,cr=t,ur=Od(a.firstChild),mr=!1,r=!0):r=!1),r||hr(t)),Q(t),r=t.type,l=t.pendingProps,o=null!==e?e.memoizedProps:null,a=l.children,bd(r,l)?a=null:null!==o&&bd(r,o)&&(t.flags|=32),null!==t.memoizedState&&(r=es(e,t,as,null,null,n),df._currentValue=r),Go(e,t),Mo(e,t,a,n),t.child;case 6:return null===e&&dr&&((e=n=ur)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Od(e.nextSibling)))return null}return e}(n,t.pendingProps,mr))?(t.stateNode=n,cr=t,ur=null,e=!0):e=!1),e||hr(t)),null;case 13:return Jo(e,t,n);case 4:return $(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ml(t,null,a,n):Mo(e,t,a,n),t.child;case 11:return _o(e,t,t.type,t.pendingProps,n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,wr(0,t.type,a.value),Mo(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Pr(t),a=a(r=Ir(r)),t.flags|=1,Mo(e,t,a,n),t.child;case 14:return Lo(e,t,t.type,t.pendingProps,n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 19:return ai(e,t,n);case 31:return function(e,t,n){var a=t.pendingProps,r=0!==(128&t.flags);if(t.flags&=-129,null===e){if(dr){if("hidden"===a.mode)return e=Uo(t,a),t.lanes=536870912,zo(null,e);if(_l(t),(e=ur)?null!==(e=null!==(e=Rd(e,mr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},(n=qa(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw hr(t);return t.lanes=536870912,null}return Uo(t,a)}var l=e.memoizedState;if(null!==l){var o=l.dehydrated;if(_l(t),r)if(256&t.flags)t.flags&=-257,t=Ho(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Oo||jr(e,t,n,!1),r=0!==(n&e.childLanes),Oo||r){if(null!==(a=pc)&&0!==(o=_e(a,n))&&o!==l.retryLane)throw l.retryLane=o,Oa(e,o),$c(a,e,o),Io;su(),t=Ho(e,t,n)}else e=l.treeContext,ur=Od(o.nextSibling),cr=t,dr=!0,fr=null,mr=!1,null!==e&&ir(t,e),(t=Uo(t,a)).flags|=4096;return t}return(e=Ba(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fo(e,t,n,t.pendingProps);case 24:return Pr(t),a=Ir(Fr),null===e?(null===(r=$r())&&(r=pc,l=zr(),r.pooledCache=l,l.refCount++,null!==l&&(r.pooledCacheLanes|=n),r=l),t.memoizedState={parent:a,cache:r},gl(t),wr(0,Fr,r)):(0!==(e.lanes&n)&&(vl(e,t),Nl(t,null,null,n),kl()),r=e.memoizedState,l=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),wr(0,Fr,a)):(a=l.cache,wr(0,Fr,a),a!==r.cache&&Ar(t,[Fr],n,!0))),Mo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function oi(e){e.flags|=4}function ii(e,t,n,a,r){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!au())throw rl=el,Xr;e.flags|=8192}}else e.flags&=-16777217}function ci(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!rf(t)){if(!au())throw rl=el,Xr;e.flags|=8192}}function ui(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Re():536870912,e.lanes|=t,Ac|=t)}function di(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function fi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=65011712&r.subtreeFlags,a|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function mi(e,t,n){var a=t.pendingProps;switch(or(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fi(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Cr(Fr),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(yr(t)?oi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,Er())),fi(t),null;case 26:var r=t.type,l=t.memoizedState;return null===e?(oi(t),null!==l?(fi(t),ci(t,l)):(fi(t),ii(t,r,0,0,n))):l?l!==e.memoizedState?(oi(t),fi(t),ci(t,l)):(fi(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&oi(t),fi(t),ii(t,r,0,0,n)),null;case 27:if(J(t),n=V.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&oi(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return fi(t),null}e=W.current,yr(t)?gr(t):(e=Dd(r,a,n),t.stateNode=e,oi(t))}return fi(t),null;case 5:if(J(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&oi(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return fi(t),null}if(l=W.current,yr(t))gr(t);else{var o=gd(V.current);switch(l){case 1:l=o.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:l=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":l=o.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":l=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(l=o.createElement("div")).innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l="string"===typeof a.is?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?l.multiple=!0:a.size&&(l.size=a.size);break;default:l="string"===typeof a.is?o.createElement(r,{is:a.is}):o.createElement(r)}}l[Ue]=t,l[He]=a;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)l.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=l;e:switch(fd(l,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&oi(t)}}return fi(t),ii(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&oi(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(e=V.current,yr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(r=cr))switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||cd(e.nodeValue,n)))||hr(t,!0)}else(e=gd(e).createTextNode(a))[Ue]=t,t.stateNode=e}return fi(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(a=yr(t),null!==n){if(null===e){if(!a)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ue]=t}else br(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fi(t),e=!1}else n=Er(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fl(t),t):(Fl(t),null);if(0!==(128&t.flags))throw Error(s(558))}return fi(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=yr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[Ue]=t}else br(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fi(t),r=!1}else r=Er(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(Fl(t),t):(Fl(t),null)}return Fl(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==a,e=null!==e&&null!==e.memoizedState,n&&(r=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(r=a.alternate.memoizedState.cachePool.pool),l=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(l=a.memoizedState.cachePool.pool),l!==r&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ui(t,t.updateQueue),fi(t),null);case 4:return K(),null===e&&Zu(t.stateNode.containerInfo),fi(t),null;case 10:return Cr(t.type),fi(t),null;case 19:if(B(zl),null===(a=t.memoizedState))return fi(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)di(a,!1);else{if(0!==kc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Bl(e))){for(t.flags|=128,di(a,!1),e=l.updateQueue,t.updateQueue=e,ui(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ua(n,e),n=n.sibling;return U(zl,1&zl.current|2),dr&&rr(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&ie()>Mc&&(t.flags|=128,r=!0,di(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Bl(l))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ui(t,e),di(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!dr)return fi(t),null}else 2*ie()-a.renderingStartTime>Mc&&536870912!==n&&(t.flags|=128,r=!0,di(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=a.last)?e.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ie(),e.sibling=null,n=zl.current,U(zl,r?1&n|2:1&n),dr&&rr(t,a.treeForkCount),e):(fi(t),null);case 22:case 23:return Fl(t),Pl(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&n)&&0===(128&t.flags)&&(fi(t),6&t.subtreeFlags&&(t.flags|=8192)):fi(t),null!==(n=t.updateQueue)&&ui(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&B(Yr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cr(Fr),fi(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function pi(e,t){switch(or(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Cr(Fr),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(Fl(t),null===t.alternate)throw Error(s(340));br()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fl(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));br()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(zl),null;case 4:return K(),null;case 10:return Cr(t.type),null;case 22:case 23:return Fl(t),Pl(),null!==e&&B(Yr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Cr(Fr),null;default:return null}}function hi(e,t){switch(or(t),t.tag){case 3:Cr(Fr),K();break;case 26:case 27:case 5:J(t);break;case 4:K();break;case 31:null!==t.memoizedState&&Fl(t);break;case 13:Fl(t);break;case 19:B(zl);break;case 10:Cr(t.type);break;case 22:case 23:Fl(t),Pl(),null!==e&&B(Yr);break;case 24:Cr(Fr)}}function gi(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var l=n.create,s=n.inst;a=l(),s.destroy=a}n=n.next}while(n!==r)}}catch(o){ku(t,t.return,o)}}function vi(e,t,n){try{var a=t.updateQueue,r=null!==a?a.lastEffect:null;if(null!==r){var l=r.next;a=l;do{if((a.tag&e)===e){var s=a.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,r=t;var i=n,c=o;try{c()}catch(u){ku(r,i,u)}}}a=a.next}while(a!==l)}}catch(u){ku(t,t.return,u)}}function yi(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Cl(t,n)}catch(a){ku(e,e.return,a)}}}function bi(e,t,n){n.props=ko(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ku(e,t,a)}}function Ei(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(r){ku(e,t,r)}}function xi(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"===typeof a)try{a()}catch(r){ku(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(l){ku(e,t,l)}else n.current=null}function Si(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){ku(e,e.return,r)}}function ki(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,l=null,o=null,i=null,c=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":c=f;default:a.hasOwnProperty(p)||ud(e,t,p,null,a,f)}}for(var m in a){var p=a[m];if(f=n[m],a.hasOwnProperty(m)&&(null!=p||null!=f))switch(m){case"type":l=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":i=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==f&&ud(e,t,m,p,a,f)}}return void yt(e,o,i,c,u,d,l,r);case"select":for(l in p=o=i=m=null,n)if(c=n[l],n.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":p=c;default:a.hasOwnProperty(l)||ud(e,t,l,null,a,c)}for(r in a)if(l=a[r],c=n[r],a.hasOwnProperty(r)&&(null!=l||null!=c))switch(r){case"value":m=l;break;case"defaultValue":i=l;break;case"multiple":o=l;default:l!==c&&ud(e,t,r,l,a,c)}return t=i,n=o,a=p,void(null!=m?xt(e,!!n,m,!1):!!a!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(i in p=m=null,n)if(r=n[i],n.hasOwnProperty(i)&&null!=r&&!a.hasOwnProperty(i))switch(i){case"value":case"children":break;default:ud(e,t,i,null,a,r)}for(o in a)if(r=a[o],l=n[o],a.hasOwnProperty(o)&&(null!=r||null!=l))switch(o){case"value":m=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==l&&ud(e,t,o,r,a,l)}return void St(e,m,p);case"option":for(var h in n)if(m=n[h],n.hasOwnProperty(h)&&null!=m&&!a.hasOwnProperty(h))if("selected"===h)e.selected=!1;else ud(e,t,h,null,a,m);for(c in a)if(m=a[c],p=n[c],a.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else ud(e,t,c,m,a,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!a.hasOwnProperty(g)&&ud(e,t,g,null,a,m);for(u in a)if(m=a[u],p=n[u],a.hasOwnProperty(u)&&m!==p&&(null!=m||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:ud(e,t,u,m,a,p)}return;default:if(At(t)){for(var v in n)m=n[v],n.hasOwnProperty(v)&&void 0!==m&&!a.hasOwnProperty(v)&&dd(e,t,v,void 0,a,m);for(d in a)m=a[d],p=n[d],!a.hasOwnProperty(d)||m===p||void 0===m&&void 0===p||dd(e,t,d,m,a,p);return}}for(var y in n)m=n[y],n.hasOwnProperty(y)&&null!=m&&!a.hasOwnProperty(y)&&ud(e,t,y,null,a,m);for(f in a)m=a[f],p=n[f],!a.hasOwnProperty(f)||m===p||null==m&&null==p||ud(e,t,f,m,a,p)}(a,e.type,n,t),a[He]=t}catch(r){ku(e,e.return,r)}}function Ni(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function wi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ni(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ci(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=It));else if(4!==a&&(27===a&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ci(e,t,n),e=e.sibling;null!==e;)Ci(e,t,n),e=e.sibling}function Ti(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Ti(e,t,n),e=e.sibling;null!==e;)Ti(e,t,n),e=e.sibling}function Ai(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);fd(t,a,n),t[Ue]=e,t[He]=n}catch(l){ku(e,e.return,l)}}var ji=!1,Ri=!1,Pi=!1,Ii="function"===typeof WeakSet?WeakSet:Set,Oi=null;function Mi(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:$i(e,n),4&a&&gi(5,n);break;case 1:if($i(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ku(n,n.return,s)}else{var r=ko(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ku(n,n.return,o)}}64&a&&yi(n),512&a&&Ei(n,n.return);break;case 3:if($i(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Cl(e,t)}catch(s){ku(n,n.return,s)}}break;case 27:null===t&&4&a&&Ai(n);case 26:case 5:$i(e,n),null===t&&4&a&&Si(n),512&a&&Ei(n,n.return);break;case 12:$i(e,n);break;case 31:$i(e,n),4&a&&Bi(e,n);break;case 13:$i(e,n),4&a&&Ui(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=Tu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||ji)){t=null!==t&&null!==t.memoizedState||Ri,r=ji;var l=Ri;ji=a,(Ri=t)&&!l?Qi(e,n,0!==(8772&n.subtreeFlags)):$i(e,n),ji=r,Ri=l}break;case 30:break;default:$i(e,n)}}function _i(e){var t=e.alternate;null!==t&&(e.alternate=null,_i(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Li=null,Di=!1;function Fi(e,t,n){for(n=n.child;null!==n;)zi(e,t,n),n=n.sibling}function zi(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(l){}switch(n.tag){case 26:Ri||xi(n,t),Fi(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ri||xi(n,t);var a=Li,r=Di;Cd(n.type)&&(Li=n.stateNode,Di=!1),Fi(e,t,n),Fd(n.stateNode),Li=a,Di=r;break;case 5:Ri||xi(n,t);case 6:if(a=Li,r=Di,Li=null,Fi(e,t,n),Di=r,null!==(Li=a))if(Di)try{(9===Li.nodeType?Li.body:"HTML"===Li.nodeName?Li.ownerDocument.body:Li).removeChild(n.stateNode)}catch(s){ku(n,t,s)}else try{Li.removeChild(n.stateNode)}catch(s){ku(n,t,s)}break;case 18:null!==Li&&(Di?(Td(9===(e=Li).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),qf(e)):Td(Li,n.stateNode));break;case 4:a=Li,r=Di,Li=n.stateNode.containerInfo,Di=!0,Fi(e,t,n),Li=a,Di=r;break;case 0:case 11:case 14:case 15:vi(2,n,t),Ri||vi(4,n,t),Fi(e,t,n);break;case 1:Ri||(xi(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount&&bi(n,t,a)),Fi(e,t,n);break;case 21:Fi(e,t,n);break;case 22:Ri=(a=Ri)||null!==n.memoizedState,Fi(e,t,n),Ri=a;break;default:Fi(e,t,n)}}function Bi(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qf(e)}catch(n){ku(t,t.return,n)}}}function Ui(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qf(e)}catch(n){ku(t,t.return,n)}}function Hi(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ii),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ii),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var a=Au.bind(null,e,t);t.then(a,a)}})}function Gi(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a],l=e,o=t,i=o;e:for(;null!==i;){switch(i.tag){case 27:if(Cd(i.type)){Li=i.stateNode,Di=!1;break e}break;case 5:Li=i.stateNode,Di=!1;break e;case 3:case 4:Li=i.stateNode.containerInfo,Di=!0;break e}i=i.return}if(null===Li)throw Error(s(160));zi(l,o,r),Li=null,Di=!1,null!==(l=r.alternate)&&(l.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)qi(t,e),t=t.sibling}var Wi=null;function qi(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gi(t,e),Vi(e),4&a&&(vi(3,e,e.return),gi(3,e),vi(5,e,e.return));break;case 1:Gi(t,e),Vi(e),512&a&&(Ri||null===n||xi(n,n.return)),64&a&&ji&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var r=Wi;if(Gi(t,e),Vi(e),512&a&&(Ri||null===n||xi(n,n.return)),4&a){var l=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":(!(l=r.getElementsByTagName("title")[0])||l[$e]||l[Ue]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=r.createElement(a),r.head.insertBefore(l,r.querySelector("head > title"))),fd(l,a,n),l[Ue]=e,et(l),a=l;break e;case"link":var o=nf("link","href",r).get(a+(n.href||""));if(o)for(var i=0;i<o.length;i++)if((l=o[i]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(i,1);break t}fd(l=r.createElement(a),a,n),r.head.appendChild(l);break;case"meta":if(o=nf("meta","content",r).get(a+(n.content||"")))for(i=0;i<o.length;i++)if((l=o[i]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(i,1);break t}fd(l=r.createElement(a),a,n),r.head.appendChild(l);break;default:throw Error(s(468,a))}l[Ue]=e,et(l),a=l}e.stateNode=a}else af(r,e.type,e.stateNode);else e.stateNode=Jd(r,a,e.memoizedProps);else l!==a?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===a?af(r,e.type,e.stateNode):Jd(r,a,e.memoizedProps)):null===a&&null!==e.stateNode&&ki(e,e.memoizedProps,n.memoizedProps)}break;case 27:Gi(t,e),Vi(e),512&a&&(Ri||null===n||xi(n,n.return)),null!==n&&4&a&&ki(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Gi(t,e),Vi(e),512&a&&(Ri||null===n||xi(n,n.return)),32&e.flags){r=e.stateNode;try{Nt(r,"")}catch(h){ku(e,e.return,h)}}4&a&&null!=e.stateNode&&ki(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&a&&(Pi=!0);break;case 6:if(Gi(t,e),Vi(e),4&a){if(null===e.stateNode)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(h){ku(e,e.return,h)}}break;case 3:if(tf=null,r=Wi,Wi=Ud(t.containerInfo),Gi(t,e),Wi=r,Vi(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{qf(t.containerInfo)}catch(h){ku(e,e.return,h)}Pi&&(Pi=!1,Yi(e));break;case 4:a=Wi,Wi=Ud(e.stateNode.containerInfo),Gi(t,e),Vi(e),Wi=a;break;case 12:default:Gi(t,e),Vi(e);break;case 31:case 19:Gi(t,e),Vi(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Hi(e,a)));break;case 13:Gi(t,e),Vi(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ic=ie()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Hi(e,a)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=ji,d=Ri;if(ji=u||r,Ri=d||c,Gi(t,e),Ri=d,ji=u,Vi(e),8192&a)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||ji||Ri||Ki(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(l=c.stateNode,r)"function"===typeof(o=l.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{i=c.stateNode;var f=c.memoizedProps.style,m=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;i.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(h){ku(c,c.return,h)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(h){ku(c,c.return,h)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;r?Ad(p,!0):Ad(c.stateNode,!1)}catch(h){ku(c,c.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Hi(e,n))));case 30:case 21:}}function Vi(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(Ni(a)){n=a;break}a=a.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;Ti(e,wi(e),r);break;case 5:var l=n.stateNode;32&n.flags&&(Nt(l,""),n.flags&=-33),Ti(e,wi(e),l);break;case 3:case 4:var o=n.stateNode.containerInfo;Ci(e,wi(e),o);break;default:throw Error(s(161))}}catch(i){ku(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Yi(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Yi(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $i(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Mi(e,t.alternate,t),t=t.sibling}function Ki(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vi(4,t,t.return),Ki(t);break;case 1:xi(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bi(t,t.return,n),Ki(t);break;case 27:Fd(t.stateNode);case 26:case 5:xi(t,t.return),Ki(t);break;case 22:null===t.memoizedState&&Ki(t);break;default:Ki(t)}e=e.sibling}}function Qi(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,r=e,l=t,s=l.flags;switch(l.tag){case 0:case 11:case 15:Qi(r,l,n),gi(4,l);break;case 1:if(Qi(r,l,n),"function"===typeof(r=(a=l).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){ku(a,a.return,c)}if(null!==(r=(a=l).updateQueue)){var o=a.stateNode;try{var i=r.shared.hiddenCallbacks;if(null!==i)for(r.shared.hiddenCallbacks=null,r=0;r<i.length;r++)wl(i[r],o)}catch(c){ku(a,a.return,c)}}n&&64&s&&yi(l),Ei(l,l.return);break;case 27:Ai(l);case 26:case 5:Qi(r,l,n),n&&null===a&&4&s&&Si(l),Ei(l,l.return);break;case 12:Qi(r,l,n);break;case 31:Qi(r,l,n),n&&4&s&&Bi(r,l);break;case 13:Qi(r,l,n),n&&4&s&&Ui(r,l);break;case 22:null===l.memoizedState&&Qi(r,l,n),Ei(l,l.return);break;case 30:break;default:Qi(r,l,n)}t=t.sibling}}function Ji(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Br(n))}function Xi(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Br(e))}function Zi(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,a),t=t.sibling}function ec(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Zi(e,t,n,a),2048&r&&gi(9,t);break;case 1:case 31:case 13:default:Zi(e,t,n,a);break;case 3:Zi(e,t,n,a),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Br(e)));break;case 12:if(2048&r){Zi(e,t,n,a),e=t.stateNode;try{var l=t.memoizedProps,s=l.id,o=l.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(i){ku(t,t.return,i)}}else Zi(e,t,n,a);break;case 23:break;case 22:l=t.stateNode,s=t.alternate,null!==t.memoizedState?2&l._visibility?Zi(e,t,n,a):nc(e,t):2&l._visibility?Zi(e,t,n,a):(l._visibility|=2,tc(e,t,n,a,0!==(10256&t.subtreeFlags)||!1)),2048&r&&Ji(s,t);break;case 24:Zi(e,t,n,a),2048&r&&Xi(t.alternate,t)}}function tc(e,t,n,a,r){for(r=r&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var l=e,s=t,o=n,i=a,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(l,s,o,i,r),gi(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?tc(l,s,o,i,r):nc(l,s):(u._visibility|=2,tc(l,s,o,i,r)),r&&2048&c&&Ji(s.alternate,s);break;case 24:tc(l,s,o,i,r),r&&2048&c&&Xi(s.alternate,s);break;default:tc(l,s,o,i,r)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:nc(n,a),2048&r&&Ji(a.alternate,a);break;case 24:nc(n,a),2048&r&&Xi(a.alternate,a);break;default:nc(n,a)}t=t.sibling}}var ac=8192;function rc(e,t,n){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)lc(e,t,n),e=e.sibling}function lc(e,t,n){switch(e.tag){case 26:rc(e,t,n),e.flags&ac&&null!==e.memoizedState&&function(e,t,n,a){if("stylesheet"===n.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var r=Vd(a.href),l=t.querySelector(Yd(r));if(l)return null!==(t=l._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=l,void et(l);l=t.ownerDocument||t,a=$d(a),(r=zd.get(r))&&Zd(a,r),et(l=l.createElement("link"));var s=l;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fd(l,"link",a),n.instance=l}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wi,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,n);break;case 3:case 4:var a=Wi;Wi=Ud(e.stateNode.containerInfo),rc(e,t,n),Wi=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=ac,ac=16777216,rc(e,t,n),ac=a):rc(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Oi=a,uc(a,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ic(e),e=e.sibling}function ic(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&vi(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Oi=a,uc(a,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vi(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Oi;){var n=Oi;switch(n.tag){case 0:case 11:case 15:vi(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Br(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,Oi=a;else e:for(n=e;null!==Oi;){var r=(a=Oi).sibling,l=a.return;if(_i(a),a===n){Oi=null;break e}if(null!==r){r.return=l,Oi=r;break e}Oi=l}}}var dc={getCacheForType:function(e){var t=Ir(Fr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ir(Fr).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,mc=0,pc=null,hc=null,gc=0,vc=0,yc=null,bc=!1,Ec=!1,xc=!1,Sc=0,kc=0,Nc=0,wc=0,Cc=0,Tc=0,Ac=0,jc=null,Rc=null,Pc=!1,Ic=0,Oc=0,Mc=1/0,_c=null,Lc=null,Dc=0,Fc=null,zc=null,Bc=0,Uc=0,Hc=null,Gc=null,Wc=0,qc=null;function Vc(){return 0!==(2&mc)&&0!==gc?gc&-gc:null!==M.T?Hu():Fe()}function Yc(){if(0===Tc)if(0===(536870912&gc)||dr){var e=Ne;0===(3932160&(Ne<<=1))&&(Ne=262144),Tc=e}else Tc=536870912;return null!==(e=Il.current)&&(e.flags|=32),Tc}function $c(e,t,n){(e!==pc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Xc(e,gc,Tc,!1)),Ie(e,n),0!==(2&mc)&&e===pc||(e===pc&&(0===(2&mc)&&(wc|=n),4===kc&&Xc(e,gc,Tc,!1)),_u(e))}function Kc(e,t,n){if(0!==(6&mc))throw Error(s(327));for(var a=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),r=a?function(e,t){var n=mc;mc|=2;var a=ru(),r=lu();pc!==e||gc!==t?(_c=null,Mc=ie()+500,tu(e,t)):Ec=Ae(e,t);e:for(;;)try{if(0!==vc&&null!==hc){t=hc;var l=yc;t:switch(vc){case 1:vc=0,yc=null,fu(e,t,l,1);break;case 2:case 9:if(tl(l)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||pc!==e||(vc=7),_u(e)},l.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:tl(l)?(vc=0,yc=null,du(t)):(vc=0,yc=null,fu(e,t,l,7));break;case 5:var o=null;switch(hc.tag){case 26:o=hc.memoizedState;case 5:case 27:var i=hc;if(o?rf(o):i.stateNode.complete){vc=0,yc=null;var c=i.sibling;if(null!==c)hc=c;else{var u=i.return;null!==u?(hc=u,mu(u)):hc=null}break t}}vc=0,yc=null,fu(e,t,l,5);break;case 6:vc=0,yc=null,fu(e,t,l,6);break;case 8:eu(),kc=6;break e;default:throw Error(s(462))}}cu();break}catch(d){nu(e,d)}return Nr=kr=null,M.H=a,M.A=r,mc=n,null!==hc?0:(pc=null,gc=0,Ra(),kc)}(e,t):ou(e,t,!0),l=a;;){if(0===r){Ec&&!a&&Xc(e,t,0,!1);break}if(n=e.current.alternate,!l||Jc(n)){if(2===r){if(l=t,e.errorRecoveryDisabledLanes&l)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var i=e;r=jc;var c=i.current.memoizedState.isDehydrated;if(c&&(tu(i,o).flags|=256),2!==(o=ou(i,o,!1))){if(xc&&!c){i.errorRecoveryDisabledLanes|=l,wc|=l,r=4;break e}l=Rc,Rc=r,null!==l&&(null===Rc?Rc=l:Rc.push.apply(Rc,l))}r=o}if(l=!1,2!==r)continue}}if(1===r){tu(e,0),Xc(e,t,0,!0);break}e:{switch(a=e,l=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Xc(a,t,Tc,!bc);break e;case 2:Rc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(r=Ic+300-ie())){if(Xc(a,t,Tc,!bc),0!==Te(a,0,!0))break e;Bc=t,a.timeoutHandle=xd(Qc.bind(null,a,n,Rc,_c,Pc,t,Tc,wc,Ac,bc,l,"Throttled",-0,0),r)}else Qc(a,n,Rc,_c,Pc,t,Tc,wc,Ac,bc,l,null,-0,0)}break}r=ou(e,t,!1),l=!1}_u(e)}function Qc(e,t,n,a,r,l,s,o,i,c,u,d,f,m){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){lc(t,l,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It});var p=(62914560&l)===l?Ic-ie():(4194048&l)===l?Oc-ie():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&cf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&cf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===lf&&(lf=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var r=n[a],l=r.transferSize,s=r.initiatorType,o=r.duration;if(l&&o&&md(s)){for(s=0,o=r.responseEnd,a+=1;a<n.length;a++){var i=n[a],c=i.startTime;if(c>o)break;var u=i.transferSize,d=i.initiatorType;u&&md(d)&&(s+=u*((i=i.responseEnd)<o?1:(o-c)/(i-c)))}if(--a,t+=8*(l+s)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>lf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}(d,p)))return Bc=l,e.cancelPendingCommit=p(hu.bind(null,e,t,l,n,a,r,s,o,i,u,d,null,f,m)),void Xc(e,l,s,!c)}hu(e,t,l,n,a,r,s,o,i)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var r=n[a],l=r.getSnapshot;r=r.value;try{if(!Xn(l(),r))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,n,a){t&=~Cc,t&=~wc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var l=31-Ee(r),s=1<<l;a[l]=-1,r&=~s}0!==n&&Oe(e,n,t)}function Zc(){return 0!==(6&mc)||(Lu(0,!1),!1)}function eu(){if(null!==hc){if(0===vc)var e=hc.return;else Nr=kr=null,ss(e=hc),ol=null,il=0,e=hc;for(;null!==e;)hi(e.alternate,e),e=e.return;hc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,eu(),pc=e,hc=n=Ba(e.current,null),gc=t,vc=0,yc=null,bc=!1,Ec=Ae(e,t),xc=!1,Ac=Tc=Cc=wc=Nc=kc=0,Rc=jc=null,Pc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var r=31-Ee(a),l=1<<r;t|=e[r],a&=~l}return Sc=t,Ra(),n}function nu(e,t){Hl=null,M.H=ho,t===Jr||t===Zr?(t=ll(),vc=3):t===Xr?(t=ll(),vc=4):vc=t===Io?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===hc&&(kc=1,To(e,$a(t,e.current)))}function au(){var e=Il.current;return null===e||((4194048&gc)===gc?null===Ol:((62914560&gc)===gc||0!==(536870912&gc))&&e===Ol)}function ru(){var e=M.H;return M.H=ho,null===e?ho:e}function lu(){var e=M.A;return M.A=dc,e}function su(){kc=4,bc||(4194048&gc)!==gc&&null!==Il.current||(Ec=!0),0===(134217727&Nc)&&0===(134217727&wc)||null===pc||Xc(pc,gc,Tc,!1)}function ou(e,t,n){var a=mc;mc|=2;var r=ru(),l=lu();pc===e&&gc===t||(_c=null,tu(e,t)),t=!1;var s=kc;e:for(;;)try{if(0!==vc&&null!==hc){var o=hc,i=yc;switch(vc){case 8:eu(),s=6;break e;case 3:case 2:case 9:case 6:null===Il.current&&(t=!0);var c=vc;if(vc=0,yc=null,fu(e,o,i,c),n&&Ec){s=0;break e}break;default:c=vc,vc=0,yc=null,fu(e,o,i,c)}}iu(),s=kc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Nr=kr=null,mc=a,M.H=r,M.A=l,null===hc&&(pc=null,gc=0,Ra()),s}function iu(){for(;null!==hc;)uu(hc)}function cu(){for(;null!==hc&&!se();)uu(hc)}function uu(e){var t=si(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?mu(e):hc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qo(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=qo(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:ss(t);default:hi(n,t),t=si(n,t=hc=Ua(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?mu(e):hc=t}function fu(e,t,n,a){Nr=kr=null,ss(t),ol=null,il=0;var r=t.return;try{if(function(e,t,n,a,r){if(n.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=n.alternate)&&jr(t,n,r,!0),null!==(n=Il.current)){switch(n.tag){case 31:case 13:return null===Ol?su():null===n.alternate&&0===kc&&(kc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===el?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),Nu(e,a,r)),!1;case 22:return n.flags|=65536,a===el?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),Nu(e,a,r)),!1}throw Error(s(435,n.tag))}return Nu(e,a,r),su(),!1}if(dr)return null!==(t=Il.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==pr&&xr($a(e=Error(s(422),{cause:a}),n))):(a!==pr&&xr($a(t=Error(s(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,a=$a(a,n),xl(e,r=jo(e.stateNode,a,r)),4!==kc&&(kc=2)),!1;var l=Error(s(520),{cause:a});if(l=$a(l,n),null===jc?jc=[l]:jc.push(l),4!==kc&&(kc=2),null===t)return!0;a=$a(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,xl(n,e=jo(n.stateNode,a,e)),!1;case 1:if(t=n.type,l=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===Lc||!Lc.has(l))))return n.flags|=65536,r&=-r,n.lanes|=r,Po(r=Ro(r),e,n,a),xl(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,gc))return kc=1,To(e,$a(n,e.current)),void(hc=null)}catch(l){if(null!==r)throw hc=r,l;return kc=1,To(e,$a(n,e.current)),void(hc=null)}32768&t.flags?(dr||1===a?e=!0:Ec||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Il.current)&&13===a.tag&&(a.flags|=16384))),pu(t,e)):mu(t)}function mu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bc);e=t.return;var n=mi(t.alternate,t,Sc);if(null!==n)return void(hc=n);if(null!==(t=t.sibling))return void(hc=t);hc=t=e}while(null!==t);0===kc&&(kc=5)}function pu(e,t){do{var n=pi(e.alternate,e);if(null!==n)return n.flags&=32767,void(hc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(hc=e);hc=e=n}while(null!==e);kc=6,hc=null}function hu(e,t,n,a,r,l,o,i,c){e.cancelPendingCommit=null;do{Eu()}while(0!==Dc);if(0!==(6&mc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(l=t.lanes|t.childLanes,function(e,t,n,a,r,l){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,i=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-Ee(n),d=1<<u;o[u]=0,i[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var m=f[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==a&&Oe(e,a,0),0!==l&&0===r&&0!==e.tag&&(e.suspendedLanes|=l&~(s&~t))}(e,n,l|=ja,o,i,c),e===pc&&(hc=pc=null,gc=0),zc=t,Fc=e,Bc=n,Uc=l,Hc=r,Gc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,re(fe,function(){return xu(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=M.T,M.T=null,r=_.p,_.p=2,o=mc,mc|=4;try{!function(e,t){if(e=e.containerInfo,pd=Ef,ra(e=aa(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var o=0,i=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||0!==r&&3!==f.nodeType||(i=o+r),f!==l||0!==a&&3!==f.nodeType||(c=o+a),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===r&&(i=o),m===l&&++d===a&&(c=o),null!==(p=f.nextSibling))break;m=(f=m).parentNode}f=p}n=-1===i||-1===c?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hd={focusedElem:e,selectionRange:n},Ef=!1,Oi=t;null!==Oi;)if(e=(t=Oi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Oi=e;else for(;null!==Oi;){switch(l=(t=Oi).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(r=e[n]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==l){e=void 0,n=t,r=l.memoizedProps,l=l.memoizedState,a=n.stateNode;try{var h=ko(n.type,r);e=a.getSnapshotBeforeUpdate(h,l),a.__reactInternalSnapshotBeforeUpdate=e}catch(v){ku(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))jd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Oi=e;break}Oi=t.return}}(e,t)}finally{mc=o,_.p=r,M.T=a}}Dc=1,gu(),vu(),yu()}}function gu(){if(1===Dc){Dc=0;var e=Fc,t=zc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var a=_.p;_.p=2;var r=mc;mc|=4;try{qi(t,e);var l=hd,s=aa(e.containerInfo),o=l.focusedElem,i=l.selectionRange;if(s!==o&&o&&o.ownerDocument&&na(o.ownerDocument.documentElement,o)){if(null!==i&&ra(o)){var c=i.start,u=i.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var m=f.getSelection(),p=o.textContent.length,h=Math.min(i.start,p),g=void 0===i.end?h:Math.min(i.end,p);!m.extend&&h>g&&(s=g,g=h,h=s);var v=ta(o,h),y=ta(o,g);if(v&&y&&(1!==m.rangeCount||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==y.node||m.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),m.removeAllRanges(),h>g?(m.addRange(b),m.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),m.addRange(b))}}}}for(d=[],m=o;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var E=d[o];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}Ef=!!pd,hd=pd=null}finally{mc=r,_.p=a,M.T=n}}e.current=t,Dc=2}}function vu(){if(2===Dc){Dc=0;var e=Fc,t=zc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var a=_.p;_.p=2;var r=mc;mc|=4;try{Mi(e,t.alternate,t)}finally{mc=r,_.p=a,M.T=n}}Dc=3}}function yu(){if(4===Dc||3===Dc){Dc=0,oe();var e=Fc,t=zc,n=Bc,a=Gc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Dc=5:(Dc=0,zc=Fc=null,bu(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Lc=null),De(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(i){}if(null!==a){t=M.T,r=_.p,_.p=2,M.T=null;try{for(var l=e.onRecoverableError,s=0;s<a.length;s++){var o=a[s];l(o.value,{componentStack:o.stack})}}finally{M.T=t,_.p=r}}0!==(3&Bc)&&Eu(),_u(e),r=e.pendingLanes,0!==(261930&n)&&0!==(42&r)?e===qc?Wc++:(Wc=0,qc=e):Wc=0,Lu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Br(t)))}function Eu(){return gu(),vu(),yu(),xu()}function xu(){if(5!==Dc)return!1;var e=Fc,t=Uc;Uc=0;var n=De(Bc),a=M.T,r=_.p;try{_.p=32>n?32:n,M.T=null,n=Hc,Hc=null;var l=Fc,o=Bc;if(Dc=0,zc=Fc=null,Bc=0,0!==(6&mc))throw Error(s(331));var i=mc;if(mc|=4,ic(l.current),ec(l,l.current,o,n),mc=i,Lu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,l)}catch(c){}return!0}finally{_.p=r,M.T=a,bu(e,t)}}function Su(e,t,n){t=$a(n,t),null!==(e=bl(e,t=jo(e.stateNode,t,2),2))&&(Ie(e,2),_u(e))}function ku(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Lc||!Lc.has(a))){e=$a(n,e),null!==(a=bl(t,n=Ro(2),2))&&(Po(n,a,t,e),Ie(a,2),_u(a));break}}t=t.return}}function Nu(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new fc;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(xc=!0,r.add(n),e=wu.bind(null,e,t,n),t.then(e,e))}function wu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(gc&n)===n&&(4===kc||3===kc&&(62914560&gc)===gc&&300>ie()-Ic?0===(2&mc)&&tu(e,0):Cc|=n,Ac===gc&&(Ac=0)),_u(e)}function Cu(e,t){0===t&&(t=Re()),null!==(e=Oa(e,t))&&(Ie(e,t),_u(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==a&&a.delete(t),Cu(e,n)}var ju=null,Ru=null,Pu=!1,Iu=!1,Ou=!1,Mu=0;function _u(e){e!==Ru&&null===e.next&&(null===Ru?ju=Ru=e:Ru=Ru.next=e),Iu=!0,Pu||(Pu=!0,Nd(function(){0!==(6&mc)?re(ue,Du):Fu()}))}function Lu(e,t){if(!Ou&&Iu){Ou=!0;do{for(var n=!1,a=ju;null!==a;){if(!t)if(0!==e){var r=a.pendingLanes;if(0===r)var l=0;else{var s=a.suspendedLanes,o=a.pingedLanes;l=(1<<31-Ee(42|e)+1)-1,l=201326741&(l&=r&~(s&~o))?201326741&l|1:l?2|l:0}0!==l&&(n=!0,Uu(a,l))}else l=gc,0===(3&(l=Te(a,a===pc?l:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||Ae(a,l)||(n=!0,Uu(a,l));a=a.next}}while(n);Ou=!1}}function Du(){Fu()}function Fu(){Iu=Pu=!1;var e=0;0!==Mu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Ed&&(Ed=e,!0);return Ed=null,!1}()&&(e=Mu);for(var t=ie(),n=null,a=ju;null!==a;){var r=a.next,l=zu(a,t);0===l?(a.next=null,null===n?ju=r:n.next=r,null===r&&(Ru=n)):(n=a,(0!==e||0!==(3&l))&&(Iu=!0)),a=r}0!==Dc&&5!==Dc||Lu(e,!1),0!==Mu&&(Mu=0)}function zu(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var s=31-Ee(l),o=1<<s,i=r[s];-1===i?0!==(o&n)&&0===(o&a)||(r[s]=je(o,t)):i<=t&&(e.expiredLanes|=o),l&=~o}if(n=gc,n=Te(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&le(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&le(a),De(n)){case 2:case 8:n=de;break;case 32:default:n=fe;break;case 268435456:n=pe}return a=Bu.bind(null,e),n=re(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&le(a),e.callbackPriority=2,e.callbackNode=null,2}function Bu(e,t){if(0!==Dc&&5!==Dc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var a=gc;return 0===(a=Te(e,e===pc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Kc(e,a,t),zu(e,ie()),null!=e.callbackNode&&e.callbackNode===n?Bu.bind(null,e):null)}function Uu(e,t){if(Eu())return null;Kc(e,t,!0)}function Hu(){if(0===Mu){var e=Gr;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Mu=e}return Mu}function Gu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var qu=0;qu<Na.length;qu++){var Vu=Na[qu];wa(Vu.toLowerCase(),"on"+(Vu[0].toUpperCase()+Vu.slice(1)))}wa(ga,"onAnimationEnd"),wa(va,"onAnimationIteration"),wa(ya,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(ba,"onTransitionRun"),wa(Ea,"onTransitionStart"),wa(xa,"onTransitionCancel"),wa(Sa,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$u=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yu));function Ku(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var s=a.length-1;0<=s;s--){var o=a[s],i=o.instance,c=o.currentTarget;if(o=o.listener,i!==l&&r.isPropagationStopped())break e;l=o,r.currentTarget=c;try{l(r)}catch(u){Ca(u)}r.currentTarget=null,l=i}else for(s=0;s<a.length;s++){if(i=(o=a[s]).instance,c=o.currentTarget,o=o.listener,i!==l&&r.isPropagationStopped())break e;l=o,r.currentTarget=c;try{l(r)}catch(u){Ca(u)}r.currentTarget=null,l=i}}}}function Qu(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var a=e+"__bubble";n.has(a)||(ed(t,e,2,!1),n.add(a))}function Ju(e,t,n){var a=0;t&&(a|=4),ed(n,e,a,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Xu]){e[Xu]=!0,tt.forEach(function(t){"selectionchange"!==t&&($u.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Ju("selectionchange",!1,t))}}function ed(e,t,n,a){switch(Tf(t)){case 2:var r=xf;break;case 8:r=Sf;break;default:r=kf}n=r.bind(null,t,n,e),r=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function td(e,t,n,a,r){var l=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var o=a.stateNode.containerInfo;if(o===r)break;if(4===s)for(s=a.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===r)return;s=s.return}for(;null!==o;){if(null===(s=Qe(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){a=l=s;continue e}o=o.parentNode}}a=a.return}zt(function(){var a=l,r=Mt(n),s=[];e:{var o=ka.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=En;break;case ga:case va:case ya:c=un;break;case Sa:c=xn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=kn}var d=0!==(4&t),f=!d&&("scroll"===e||"scrollend"===e),m=d?null!==o?o+"Capture":null:o;d=[];for(var p,h=a;null!==h;){var g=h;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===m||null!=(g=Bt(h,m))&&d.push(nd(h,g,p)),f)break;h=h.return}0<d.length&&(o=new c(o,u,null,n,r),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[Ge])&&(c||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(f=i(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=sn,g="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",m="onPointerEnter",h="pointer"),f=null==c?o:Xe(c),p=null==u?o:Xe(u),(o=new d(g,h+"leave",c,n,r)).target=f,o.relatedTarget=p,g=null,Qe(r)===a&&((d=new d(m,h+"enter",u,n,r)).target=p,d.relatedTarget=f,g=d),f=g,c&&u)e:{for(d=rd,h=u,p=0,g=m=c;g;g=d(g))p++;g=0;for(var v=h;v;v=d(v))g++;for(;0<p-g;)m=d(m),p--;for(;0<g-p;)h=d(h),g--;for(;p--;){if(m===h||null!==h&&m===h.alternate){d=m;break e}m=d(m),h=d(h)}d=null}else d=null;null!==c&&ld(s,o,c,d,!1),null!==u&&null!==f&&ld(s,f,u,d,!0)}if("select"===(c=(o=a?Xe(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Un;else if(_n(o))if(Hn)y=Jn;else{y=Kn;var b=$n}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?a&&At(a.elementType)&&(y=Un):y=Qn;switch(y&&(y=y(e,a))?Ln(s,y,n,r):(b&&b(e,o,a),"focusout"===e&&a&&"number"===o.type&&null!=a.memoizedProps.value&&Et(o,"number",o.value)),b=a?Xe(a):window,e){case"focusin":(_n(b)||"true"===b.contentEditable)&&(sa=b,oa=a,ia=null);break;case"focusout":ia=oa=sa=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,ua(s,n,r);break;case"selectionchange":if(la)break;case"keydown":case"keyup":ua(s,n,r)}var E;if(wn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else On?Pn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(An&&"ko"!==n.locale&&(On||"onCompositionStart"!==x?"onCompositionEnd"===x&&On&&(E=Yt()):(qt="value"in(Wt=r)?Wt.value:Wt.textContent,On=!0)),0<(b=ad(a,x)).length&&(x=new fn(x,e,null,n,r),s.push({event:x,listeners:b}),E?x.data=E:null!==(E=In(n))&&(x.data=E))),(E=Tn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Rn=!0,jn);case"textInput":return(e=t.data)===jn&&Rn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!wn&&Pn(e,t)?(e=Yt(),Vt=qt=Wt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=ad(a,"onBeforeInput")).length&&(b=new fn("onBeforeInput","beforeinput",null,n,r),s.push({event:b,listeners:x}),b.data=E)),function(e,t,n,a,r){if("submit"===t&&n&&n.stateNode===r){var l=Gu((r[He]||null).action),s=a.submitter;s&&null!==(t=(t=s[He]||null)?Gu(t.formAction):s.getAttribute("formAction"))&&(l=t,s=null);var o=new nn("action","action",null,a,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Mu){var e=s?Wu(r,s):new FormData(r);eo(n,{pending:!0,data:e,method:r.method,action:l},null,e)}}else"function"===typeof l&&(o.preventDefault(),e=s?Wu(r,s):new FormData(r),eo(n,{pending:!0,data:e,method:r.method,action:l},l,e))},currentTarget:r}]})}}(s,e,a,n,r)}Ku(s,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ad(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,l=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===l||(null!=(r=Bt(e,n))&&a.unshift(nd(e,r,l)),null!=(r=Bt(e,t))&&a.push(nd(e,r,l))),3===e.tag)return a;e=e.return}return[]}function rd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ld(e,t,n,a,r){for(var l=t._reactName,s=[];null!==n&&n!==a;){var o=n,i=o.alternate,c=o.stateNode;if(o=o.tag,null!==i&&i===a)break;5!==o&&26!==o&&27!==o||null===c||(i=c,r?null!=(c=Bt(n,l))&&s.unshift(nd(n,c,i)):r||null!=(c=Bt(n,l))&&s.push(nd(n,c,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var sd=/\r\n?/g,od=/\u0000|\uFFFD/g;function id(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(od,"")}function cd(e,t){return t=id(t),id(e)===t}function ud(e,t,n,a,r,l){switch(n){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||Nt(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&Nt(e,""+a);break;case"className":ct(e,"class",a);break;case"tabIndex":ct(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,a);break;case"style":Tt(e,a,l);break;case"data":if("object"!==t){ct(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Pt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof l&&("formAction"===n?("input"!==t&&ud(e,t,"name",r.name,r,null),ud(e,t,"formEncType",r.formEncType,r,null),ud(e,t,"formMethod",r.formMethod,r,null),ud(e,t,"formTarget",r.formTarget,r,null)):(ud(e,t,"encType",r.encType,r,null),ud(e,t,"method",r.method,r,null),ud(e,t,"target",r.target,r,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Pt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=It);break;case"onScroll":null!=a&&Qu("scroll",e);break;case"onScrollEnd":null!=a&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}n=Pt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),it(e,"popover",a);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":it(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&it(e,n=jt.get(n)||n,a)}}function dd(e,t,n,a,r,l){switch(n){case"style":Tt(e,a,l);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof a?Nt(e,a):("number"===typeof a||"bigint"===typeof a)&&Nt(e,""+a);break;case"onScroll":null!=a&&Qu("scroll",e);break;case"onScrollEnd":null!=a&&Qu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(l=null!=(l=e[He]||null)?l[n]:null)&&e.removeEventListener(t,l,r),"function"!==typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):it(e,n,a):("function"!==typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var a,r=!1,l=!1;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(null!=o)switch(a){case"src":r=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,a,o,n,null)}}return l&&ud(e,t,"srcSet",n.srcSet,n,null),void(r&&ud(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var i=a=o=l=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":l=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":i=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ud(e,t,r,d,n,null)}}return void bt(e,a,i,c,u,o,l,!1);case"select":for(l in Qu("invalid",e),r=o=a=null,n)if(n.hasOwnProperty(l)&&null!=(i=n[l]))switch(l){case"value":a=i;break;case"defaultValue":o=i;break;case"multiple":r=i;default:ud(e,t,l,i,n,null)}return t=a,n=o,e.multiple=!!r,void(null!=t?xt(e,!!r,t,!1):null!=n&&xt(e,!!r,n,!0));case"textarea":for(o in Qu("invalid",e),a=l=r=null,n)if(n.hasOwnProperty(o)&&null!=(i=n[o]))switch(o){case"value":r=i;break;case"defaultValue":l=i;break;case"children":a=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:ud(e,t,o,i,n,null)}return void kt(e,r,l,a);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else ud(e,t,c,r,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(r=0;r<Yu.length;r++)Qu(Yu[r],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,u,r,n,null)}return;default:if(At(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&dd(e,t,d,r,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(null!=(r=n[i])&&ud(e,t,i,r,n,null))}function md(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,hd=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ed=null;var xd="function"===typeof setTimeout?setTimeout:void 0,Sd="function"===typeof clearTimeout?clearTimeout:void 0,kd="function"===typeof Promise?Promise:void 0,Nd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof kd?function(e){return kd.resolve(null).then(e).catch(wd)}:xd;function wd(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function Td(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)||"/&"===n){if(0===a)return e.removeChild(r),void qf(t);a--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)a++;else if("html"===n)Fd(e.ownerDocument.documentElement);else if("head"===n){Fd(n=e.ownerDocument.head);for(var l=n.firstChild;l;){var s=l.nextSibling,o=l.nodeName;l[$e]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===l.rel.toLowerCase()||n.removeChild(l),l=s}}else"body"===n&&Fd(e.ownerDocument.body);n=r}while(n);qf(t)}function Ad(e,t){var n=e;e=0;do{var a=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=a}while(n)}function jd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":jd(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Rd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Od(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function Id(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Md=null;function _d(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Od(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Dd(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Fd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var zd=new Map,Bd=new Set;function Ud(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hd=_.d;_.d={f:function(){var e=Hd.f(),t=Zc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?no(t):Hd.r(e)},D:function(e){Hd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){Hd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){Hd.L(e,t,n);var a=Gd;if(a&&e&&t){var r='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+vt(n.imageSizes)+'"]')):r+='[href="'+vt(e)+'"]';var l=r;switch(t){case"style":l=Vd(e);break;case"script":l=Kd(e)}zd.has(l)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zd.set(l,e),null!==a.querySelector(r)||"style"===t&&a.querySelector(Yd(l))||"script"===t&&a.querySelector(Qd(l))||(fd(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}},m:function(e,t){Hd.m(e,t);var n=Gd;if(n&&e){var a=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+vt(a)+'"][href="'+vt(e)+'"]',l=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Kd(e)}if(!zd.has(l)&&(e=m({rel:"modulepreload",href:e},t),zd.set(l,e),null===n.querySelector(r))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(l)))return}fd(a=n.createElement("link"),"link",e),et(a),n.head.appendChild(a)}}},X:function(e,t){Hd.X(e,t);var n=Gd;if(n&&e){var a=Ze(n).hoistableScripts,r=Kd(e),l=a.get(r);l||((l=n.querySelector(Qd(r)))||(e=m({src:e,async:!0},t),(t=zd.get(r))&&ef(e,t),et(l=n.createElement("script")),fd(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(r,l))}},S:function(e,t,n){Hd.S(e,t,n);var a=Gd;if(a&&e){var r=Ze(a).hoistableStyles,l=Vd(e);t=t||"default";var s=r.get(l);if(!s){var o={loading:0,preload:null};if(s=a.querySelector(Yd(l)))o.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zd.get(l))&&Zd(e,n);var i=s=a.createElement("link");et(i),fd(i,"link",e),i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),i.addEventListener("load",function(){o.loading|=1}),i.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Xd(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(l,s)}}},M:function(e,t){Hd.M(e,t);var n=Gd;if(n&&e){var a=Ze(n).hoistableScripts,r=Kd(e),l=a.get(r);l||((l=n.querySelector(Qd(r)))||(e=m({src:e,async:!0,type:"module"},t),(t=zd.get(r))&&ef(e,t),et(l=n.createElement("script")),fd(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(r,l))}}};var Gd="undefined"===typeof document?null:document;function Wd(e,t,n){var a=Gd;if(a&&"string"===typeof t&&t){var r=vt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Bd.has(r)||(Bd.add(r),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(r)&&(fd(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}}function qd(e,t,n,a){var r,l,o,i,c=(c=V.current)?Ud(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Vd(n.href),(a=(n=Ze(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Vd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),zd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zd.set(e,n),u||(r=c,l=e,o=n,i=d.state,r.querySelector('link[rel="preload"][as="style"]['+l+"]")?i.loading=1:(l=r.createElement("link"),i.preload=l,l.addEventListener("load",function(){return i.loading|=1}),l.addEventListener("error",function(){return i.loading|=2}),fd(l,"link",o),et(l),r.head.appendChild(l))))),t&&null===a)throw Error(s(528,""));return d}if(t&&null!==a)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Kd(n),(a=(n=Ze(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Vd(e){return'href="'+vt(e)+'"'}function Yd(e){return'link[rel="stylesheet"]['+e+"]"}function $d(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Kd(e){return'[src="'+vt(e)+'"]'}function Qd(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(a)return t.instance=a,et(a),a;var r=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(a=(e.ownerDocument||e).createElement("style")),fd(a,"style",r),Xd(a,n.precedence,e),t.instance=a;case"stylesheet":r=Vd(n.href);var l=e.querySelector(Yd(r));if(l)return t.state.loading|=4,t.instance=l,et(l),l;a=$d(n),(r=zd.get(r))&&Zd(a,r),et(l=(e.ownerDocument||e).createElement("link"));var o=l;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fd(l,"link",a),t.state.loading|=4,Xd(l,n.precedence,e),t.instance=l;case"script":return l=Kd(n.src),(r=e.querySelector(Qd(l)))?(t.instance=r,et(r),r):(a=n,(r=zd.get(l))&&ef(a=m({},n),r),et(r=(e=e.ownerDocument||e).createElement("script")),fd(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Xd(a,n.precedence,e));return t.instance}function Xd(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,l=r,s=0;s<a.length;s++){var o=a[s];if(o.dataset.precedence===t)l=o;else if(l!==r)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ef(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tf=null;function nf(e,t,n){if(null===tf){var a=new Map,r=tf=new Map;r.set(n,a)}else(a=(r=tf).get(n))||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var l=n[r];if(!(l[$e]||l[Ue]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var s=l.getAttribute(t)||"";s=e+s;var o=a.get(s);o?o.push(l):a.set(s,[l])}}return a}function af(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function rf(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var lf=0;function sf(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var of=null;function cf(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,of=new Map,t.forEach(uf,e),of=null,sf.call(e))}function uf(e,t){if(!(4&t.state.loading)){var n=of.get(e);if(n)var a=n.get(null);else{n=new Map,of.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<r.length;l++){var s=r[l];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}s=(r=t.instance).getAttribute("data-precedence"),(l=n.get(s)||a)===a&&n.set(null,r),n.set(s,r),this.count++,a=sf.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),l?l.parentNode.insertBefore(r,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var df={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function ff(e,t,n,a,r,l,s,o,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function mf(e,t,n,a,r,l,s,o,i,c,u,d){return e=new ff(e,t,n,s,i,c,u,d,o),t=1,!0===l&&(t|=24),l=Fa(3,null,null,t),e.current=l,l.stateNode=e,(t=zr()).refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:a,isDehydrated:n,cache:t},gl(l),e}function pf(e){return e?e=La:La}function hf(e,t,n,a,r,l){r=pf(r),null===a.context?a.context=r:a.pendingContext=r,(a=yl(t)).payload={element:n},null!==(l=void 0===l?null:l)&&(a.callback=l),null!==(n=bl(e,a,t))&&($c(n,0,t),El(n,e,t))}function gf(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vf(e,t){gf(e,t),(e=e.alternate)&&gf(e,t)}function yf(e){if(13===e.tag||31===e.tag){var t=Oa(e,67108864);null!==t&&$c(t,0,67108864),vf(e,67108864)}}function bf(e){if(13===e.tag||31===e.tag){var t=Vc(),n=Oa(e,t=Le(t));null!==n&&$c(n,0,t),vf(e,t)}}var Ef=!0;function xf(e,t,n,a){var r=M.T;M.T=null;var l=_.p;try{_.p=2,kf(e,t,n,a)}finally{_.p=l,M.T=r}}function Sf(e,t,n,a){var r=M.T;M.T=null;var l=_.p;try{_.p=8,kf(e,t,n,a)}finally{_.p=l,M.T=r}}function kf(e,t,n,a){if(Ef){var r=Nf(a);if(null===r)td(e,t,a,wf,n),Lf(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return jf=Df(jf,e,t,n,a,r),!0;case"dragenter":return Rf=Df(Rf,e,t,n,a,r),!0;case"mouseover":return Pf=Df(Pf,e,t,n,a,r),!0;case"pointerover":var l=r.pointerId;return If.set(l,Df(If.get(l)||null,e,t,n,a,r)),!0;case"gotpointercapture":return l=r.pointerId,Of.set(l,Df(Of.get(l)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Lf(e,a),4&t&&-1<_f.indexOf(e)){for(;null!==r;){var l=Je(r);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var s=Ce(l.pendingLanes);if(0!==s){var o=l;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var i=1<<31-Ee(s);o.entanglements[1]|=i,s&=~i}_u(l),0===(6&mc)&&(Mc=ie()+500,Lu(0,!1))}}break;case 31:case 13:null!==(o=Oa(l,2))&&$c(o,0,2),Zc(),vf(l,2)}if(null===(l=Nf(a))&&td(e,t,a,wf,n),l===r)break;r=l}null!==r&&a.stopPropagation()}else td(e,t,a,null,n)}}function Nf(e){return Cf(e=Mt(e))}var wf=null;function Cf(e){if(wf=null,null!==(e=Qe(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wf=e,null}function Tf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case fe:case me:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Af=!1,jf=null,Rf=null,Pf=null,If=new Map,Of=new Map,Mf=[],_f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lf(e,t){switch(e){case"focusin":case"focusout":jf=null;break;case"dragenter":case"dragleave":Rf=null;break;case"mouseover":case"mouseout":Pf=null;break;case"pointerover":case"pointerout":If.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(t.pointerId)}}function Df(e,t,n,a,r,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[r]},null!==t&&(null!==(t=Je(t))&&yf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ff(e){var t=Qe(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){bf(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void ze(e.priority,function(){bf(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nf(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&yf(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);Ot=a,n.target.dispatchEvent(a),Ot=null,t.shift()}return!0}function Bf(e,t,n){zf(e)&&n.delete(t)}function Uf(){Af=!1,null!==jf&&zf(jf)&&(jf=null),null!==Rf&&zf(Rf)&&(Rf=null),null!==Pf&&zf(Pf)&&(Pf=null),If.forEach(Bf),Of.forEach(Bf)}function Hf(e,t){e.blockedOn===t&&(e.blockedOn=null,Af||(Af=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Uf)))}var Gf=null;function Wf(e){Gf!==e&&(Gf=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Gf===e&&(Gf=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if("function"!==typeof a){if(null===Cf(a||n))continue;break}var l=Je(n);null!==l&&(e.splice(t,3),t-=3,eo(l,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function qf(e){function t(t){return Hf(t,e)}null!==jf&&Hf(jf,e),null!==Rf&&Hf(Rf,e),null!==Pf&&Hf(Pf,e),If.forEach(t),Of.forEach(t);for(var n=0;n<Mf.length;n++){var a=Mf[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Mf.length&&null===(n=Mf[0]).blockedOn;)Ff(n),null===n.blockedOn&&Mf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var r=n[a],l=n[a+1],s=r[He]||null;if("function"===typeof l)s||Wf(n);else if(s){var o=null;if(l&&l.hasAttribute("formAction")){if(r=l,s=l[He]||null)o=s.formAction;else if(null!==Cf(r))continue}else o=s.action;"function"===typeof o?n[a+1]=o:(n.splice(a,3),a-=3),Wf(n)}}}function Vf(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function Yf(e){this._internalRoot=e}function $f(e){this._internalRoot=e}$f.prototype.render=Yf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));hf(t.current,Vc(),e,t,null,null)},$f.prototype.unmount=Yf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hf(e.current,2,null,e,null,null),Zc(),t[Ge]=null}},$f.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mf.length&&0!==t&&t<Mf[n].priority;n++);Mf.splice(n,0,e),0===n&&Ff(e)}};var Kf=r.version;if("19.2.0"!==Kf)throw Error(s(527,Kf,"19.2.0"));_.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(a=r.return)){n=a;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return d(r),e;if(l===a)return d(r),t;l=l.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=l;else{for(var o=!1,c=r.child;c;){if(c===n){o=!0,n=r,a=l;break}if(c===a){o=!0,a=r,n=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===n){o=!0,n=l,a=r;break}if(c===a){o=!0,a=l,n=r;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?f(e):null)?null:e.stateNode};var Qf={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{ve=Jf.inject(Qf),ye=Jf}catch(Zf){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,a="",r=No,l=wo,i=Co;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=mf(e,1,!1,null,0,n,a,null,r,l,i,Vf),e[Ge]=t.current,Zu(e),new Yf(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var a=!1,r="",l=No,i=wo,c=Co,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(i=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=mf(e,1,!0,t,0,a,r,u,l,i,c,Vf)).context=pf(null),n=t.current,(r=yl(a=Le(a=Vc()))).callback=null,bl(n,r,a),n=a,t.current.lanes=n,Ie(t,n),_u(t),e[Ge]=t.current,Zu(e),new $f(t)},t.version="19.2.0"},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(863)},340:(e,t,n)=>{e.exports=n(487)},352:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(85)},414:(e,t,n)=>{e.exports=n(916)},487:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<l(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,s=r>>>1;a<s;){var o=2*(a+1)-1,i=e[o],c=o+1,u=e[c];if(0>l(i,n))c<r&&0>l(u,i)?(e[a]=u,e[c]=n,a=c):(e[a]=i,e[o]=n,a=o);else{if(!(c<r&&0>l(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var c=[],u=[],d=1,f=null,m=3,p=!1,h=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,E="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=a(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function S(e){if(g=!1,x(e),!h)if(null!==a(c))h=!0,N||(N=!0,k());else{var t=a(u);null!==t&&I(S,t.startTime-e)}}var k,N=!1,w=-1,C=5,T=-1;function A(){return!!v||!(t.unstable_now()-T<C)}function j(){if(v=!1,N){var e=t.unstable_now();T=e;var n=!0;try{e:{h=!1,g&&(g=!1,b(w),w=-1),p=!0;var l=m;try{t:{for(x(e),f=a(c);null!==f&&!(f.expirationTime>e&&A());){var s=f.callback;if("function"===typeof s){f.callback=null,m=f.priorityLevel;var o=s(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){f.callback=o,x(e),n=!0;break t}f===a(c)&&r(c),x(e)}else r(c);f=a(c)}if(null!==f)n=!0;else{var i=a(u);null!==i&&I(S,i.startTime-e),n=!1}}break e}finally{f=null,m=l,p=!1}n=void 0}}finally{n?k():N=!1}}}if("function"===typeof E)k=function(){E(j)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=j,k=function(){P.postMessage(null)}}else k=function(){y(j,0)};function I(e,n){w=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,l){var s=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?s+l:s:l=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>s?(e.sortIndex=l,n(u,e),null===a(c)&&e===a(u)&&(g?(b(w),w=-1):g=!0,I(S,l-s))):(e.sortIndex=o,n(c,e),h||p||(h=!0,N||(N=!0,k()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},863:(e,t,n)=>{var a=n(950);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");var i=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=i.T,n=s.p;try{if(i.T=null,s.p=2,e)return e()}finally{i.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,l="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:l}):"script"===n&&s.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:l,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return i.H.useFormState(e,t,n)},t.useFormStatus=function(){return i.H.useHostTransitionStatus()},t.version="19.2.0"},916:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(e,t,a){var r=null;if(void 0!==a&&(r=""+a),void 0!==t.key&&(r=""+t.key),"key"in t)for(var l in a={},t)"key"!==l&&(a[l]=t[l]);else a=t;return t=a.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=r,t.jsxs=r},950:(e,t,n)=>{e.exports=n(983)},983:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function b(){}function E(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=E.prototype=new b;x.constructor=E,g(x,y.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function k(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(e,t,a){var r=a.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(e,t,r,l,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case a:u=!0;break;case f:return R((u=e._init)(e._payload),t,r,l,s)}}if(u)return s=s(e),u=""===l?"."+j(e,0):l,S(s)?(r="",null!=u&&(r=u.replace(A,"$&/")+"/"),R(s,t,r,"",function(e){return e})):null!=s&&(T(s)&&(i=s,c=r+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+u,s=C(i.type,c,i.props)),t.push(s)),1;u=0;var d,m=""===l?".":l+":";if(S(e))for(var h=0;h<e.length;h++)u+=R(l=e[h],t,r,o=m+j(l,h),s);else if("function"===typeof(h=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=h.call(e),h=0;!(l=e.next()).done;)u+=R(l=l.value,t,r,o=m+j(l,h++),s);else if("object"===o){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,l,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var a=[],r=0;return R(e,a,"","",function(e){return t.call(n,e,r++)}),a}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},M={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=m,t.Children=M,t.Component=y,t.Fragment=r,t.Profiler=s,t.PureComponent=E,t.StrictMode=l,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=g({},e.props),r=e.key;if(null!=t)for(l in void 0!==t.key&&(r=""+t.key),t)!w.call(t,l)||"key"===l||"__self"===l||"__source"===l||"ref"===l&&void 0===t.ref||(a[l]=t[l]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var s=Array(l),o=0;o<l;o++)s[o]=arguments[o+2];a.children=s}return C(e.type,r,a)},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var a,r={},l=null;if(null!=t)for(a in void 0!==t.key&&(l=""+t.key),t)w.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(r[a]=t[a]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),i=0;i<s;i++)o[i]=arguments[i+2];r.children=o}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===r[a]&&(r[a]=s[a]);return C(e,l,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,n={};N.T=n;try{var a=e(),r=N.S;null!==r&&r(n,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(k,O)}catch(l){O(l)}finally{null!==t&&null!==n.types&&(t.types=n.types),N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,n){return N.H.useActionState(e,t,n)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return N.H.useEffect(e,t)},t.useEffectEvent=function(e){return N.H.useEffectEvent(e)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,n){return N.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return N.H.useReducer(e,t,n)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.H.useTransition()},t.version="19.2.0"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.m=e,n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.u=e=>"static/js/"+e+".6c07afc3.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="nebula-elemental-battle:";n.l=(a,r,l,s)=>{if(e[a])e[a].push(r);else{var o,i;if(void 0!==l)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+l){o=d;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+l),o.src=a),e[a]=[r];var f=(t,n)=>{o.onerror=o.onload=null,clearTimeout(m);var r=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(n)),t)return t(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),i&&document.head.appendChild(o)}}})(),n.p="/nebula-elemental-battle/",(()=>{var e={792:0};n.f.j=(t,a)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var l=new Promise((n,a)=>r=e[t]=[n,a]);a.push(r[2]=l);var s=n.p+n.u(t),o=new Error;n.l(s,a=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var l=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+l+": "+s+")",o.name="ChunkLoadError",o.type=l,o.request=s,r[1](o)}},"chunk-"+t,t)}};var t=(t,a)=>{var r,l,[s,o,i]=a,c=0;if(s.some(t=>0!==e[t])){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(i)i(n)}for(t&&t(a);c<s.length;c++)l=s[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0},a=self.webpackChunknebula_elemental_battle=self.webpackChunknebula_elemental_battle||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n(950),r=n(352);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=l(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=n(414);const d=e=>{let{onPlayGame:t,onStoryMode:n,onShowTutorial:r,onShowStats:l,onShowProfile:s,onShowThemeShop:o,onShowInventory:i,onShowSettings:c,onQuit:d}=e;const f=(0,a.useRef)(null);return(0,a.useEffect)(()=>(f.current||(f.current=new Audio("".concat("/nebula-elemental-battle","/Sunrise_in_Megalopolis.mp3")),f.current.volume=.3,f.current.loop=!0,f.current.play().catch(e=>{console.log("Menu music autoplay prevented:",e)}),console.log("\ud83c\udfb5 Main Menu: Playing Sunrise in Megalopolis")),()=>{f.current&&(f.current.pause(),f.current.currentTime=0,f.current=null)}),[]),(0,u.jsxs)("div",{className:"main-menu",children:[(0,u.jsx)("div",{className:"menu-background",children:(0,u.jsx)("div",{className:"cosmic-particles",children:Array(50).fill(null).map((e,t)=>(0,u.jsx)("div",{className:"cosmic-particle",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(3*Math.random(),"s"),animationDuration:"".concat(3+2*Math.random(),"s")}},t))})}),(0,u.jsxs)("div",{className:"menu-content",children:[(0,u.jsxs)("div",{className:"game-title",children:[(0,u.jsxs)("h1",{className:"title-text",children:[(0,u.jsx)("span",{className:"title-elemental",children:"ELEMENTAL"}),(0,u.jsx)("span",{className:"title-battle",children:"BATTLE"})]}),(0,u.jsx)("p",{className:"title-subtitle",children:"Master the Elements \u2022 Conquer the Arena"})]}),(0,u.jsxs)("div",{className:"menu-buttons",children:[(0,u.jsxs)("button",{className:"menu-btn primary-btn",onClick:t,children:[(0,u.jsx)("span",{className:"btn-icon",children:"\u2694\ufe0f"}),(0,u.jsx)("span",{className:"btn-text",children:"QUICK PLAY"}),(0,u.jsx)("span",{className:"btn-subtitle",children:"Single Match"})]}),(0,u.jsxs)("button",{className:"menu-btn story-btn",onClick:n,children:[(0,u.jsx)("span",{className:"btn-icon",children:"\ud83d\udcdc"}),(0,u.jsx)("span",{className:"btn-text",children:"STORY MODE"}),(0,u.jsx)("span",{className:"btn-subtitle",children:"Epic Campaign"})]}),(0,u.jsxs)("button",{className:"menu-btn",onClick:r,children:[(0,u.jsx)("span",{className:"btn-icon",children:"\ud83d\udcd6"}),(0,u.jsx)("span",{className:"btn-text",children:"HOW TO PLAY"}),(0,u.jsx)("span",{className:"btn-subtitle",children:"Learn the Basics"})]}),(0,u.jsxs)("button",{className:"menu-btn",onClick:s,children:[(0,u.jsx)("span",{className:"btn-icon",children:"\ud83d\udc64"}),(0,u.jsx)("span",{className:"btn-text",children:"PROFILE"}),(0,u.jsx)("span",{className:"btn-subtitle",children:"Player Info"})]}),(0,u.jsxs)("button",{className:"menu-btn",onClick:l,children:[(0,u.jsx)("span",{className:"btn-icon",children:"\ud83d\udcca"}),(0,u.jsx)("span",{className:"btn-text",children:"STATISTICS"}),(0,u.jsx)("span",{className:"btn-subtitle",children:"View Your Records"})]}),(0,u.jsxs)("button",{className:"menu-btn inventory-btn",onClick:i,children:[(0,u.jsx)("span",{className:"btn-icon",children:"\ud83d\udce6"}),(0,u.jsx)("span",{className:"btn-text",children:"INVENTORY"}),(0,u.jsx)("span",{className:"btn-subtitle",children:"Power-Ups & Equipment"})]}),(0,u.jsxs)("button",{className:"menu-btn theme-shop-btn",onClick:o,children:[(0,u.jsx)("span",{className:"btn-icon",children:"\ud83c\udfa8"}),(0,u.jsx)("span",{className:"btn-text",children:"THEME SHOP"}),(0,u.jsx)("span",{className:"btn-subtitle",children:"Customize Appearance"})]}),(0,u.jsxs)("button",{className:"menu-btn",onClick:c,children:[(0,u.jsx)("span",{className:"btn-icon",children:"\u2699\ufe0f"}),(0,u.jsx)("span",{className:"btn-text",children:"SETTINGS"}),(0,u.jsx)("span",{className:"btn-subtitle",children:"Audio & Controls"})]}),(0,u.jsxs)("button",{className:"menu-btn quit-btn",onClick:d,children:[(0,u.jsx)("span",{className:"btn-icon",children:"\ud83d\udeaa"}),(0,u.jsx)("span",{className:"btn-text",children:"QUIT"}),(0,u.jsx)("span",{className:"btn-subtitle",children:"Exit Game"})]})]}),(0,u.jsxs)("div",{className:"menu-footer",children:[(0,u.jsxs)("div",{className:"element-icons",children:[(0,u.jsx)("span",{className:"footer-icon fire",children:"\ud83d\udd25"}),(0,u.jsx)("span",{className:"footer-icon ice",children:"\u2744\ufe0f"}),(0,u.jsx)("span",{className:"footer-icon water",children:"\ud83d\udca7"}),(0,u.jsx)("span",{className:"footer-icon electricity",children:"\u26a1"}),(0,u.jsx)("span",{className:"footer-icon earth",children:"\ud83c\udf0d"}),(0,u.jsx)("span",{className:"footer-icon power",children:"\u2b50"}),(0,u.jsx)("span",{className:"footer-icon light",children:"\u2600\ufe0f"}),(0,u.jsx)("span",{className:"footer-icon dark",children:"\ud83c\udf19"}),(0,u.jsx)("span",{className:"footer-icon neutral",children:"\ud83d\udd2e"}),(0,u.jsx)("span",{className:"footer-icon meteor",children:"\u2604\ufe0f"})]}),(0,u.jsx)("p",{className:"version-text",children:"v1.0.0 \u2022 \xa9 2025"})]})]})]})},f=[{key:"CHAOS",name:"Chaos",avatar:"\ud83d\udd2e",difficulty:"Random",color:"#9c27b0"},{key:"EMBER",name:"Ember",avatar:"\ud83d\udd25",difficulty:"Easy",color:"#f44336"},{key:"FROST",name:"Frost",avatar:"\u2744\ufe0f",difficulty:"Medium",color:"#2196f3"},{key:"VOLT",name:"Volt",avatar:"\u26a1",difficulty:"Hard",color:"#ffeb3b"},{key:"NEXUS",name:"Nexus",avatar:"\u2b50",difficulty:"Master",color:"#ffd700"}],m=e=>{let{onSinglePlayer:t,onMultiplayer:n,onBack:r}=e;const[l,s]=(0,a.useState)(""),[o,i]=(0,a.useState)("CHAOS"),[c,d]=(0,a.useState)(!1),m=(0,a.useRef)(null);(0,a.useEffect)(()=>(m.current=new Audio("".concat("/nebula-elemental-battle","/Under_Cover_of_the_Myst.mp3")),m.current.volume=.3,m.current.loop=!0,m.current.play().catch(e=>console.log("Lobby music autoplay prevented:",e)),()=>{m.current&&(m.current.pause(),m.current=null)}),[]);const p=()=>{const e=l.trim()||"Player";t(e,o)},h=f.find(e=>e.key===o)||f[0];return(0,u.jsx)("div",{className:"lobby",children:(0,u.jsxs)("div",{className:"lobby-container",children:[(0,u.jsxs)("div",{className:"lobby-header",children:[(0,u.jsxs)("h1",{className:"lobby-title",children:[(0,u.jsx)("span",{className:"title-icon",children:"\ud83c\udfb4"}),(0,u.jsx)("span",{children:"Choose Your Mode"})]}),r&&(0,u.jsx)("button",{className:"back-to-menu-button",onClick:r,title:"Back to Main Menu",children:"\u2190 Back"})]}),(0,u.jsxs)("div",{className:"lobby-form",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Your Name:"}),(0,u.jsx)("input",{type:"text",value:l,onChange:e=>s(e.target.value),placeholder:"Enter your name (optional)",className:"input-field",onKeyPress:e=>"Enter"===e.key&&p()})]}),(0,u.jsxs)("div",{className:"mode-selection",children:[(0,u.jsxs)("div",{className:"mode-card",children:[(0,u.jsx)("div",{className:"mode-icon",children:"\ud83c\udfae"}),(0,u.jsx)("h2",{className:"mode-title",children:"Single Player"}),(0,u.jsx)("p",{className:"mode-description",children:"Play against AI opponent"}),c?(0,u.jsx)("div",{className:"ai-selection-grid",children:f.map(e=>(0,u.jsxs)("div",{className:"ai-option ".concat(o===e.key?"selected":""),onClick:()=>{i(e.key),d(!1)},style:{borderColor:e.color},children:[(0,u.jsx)("div",{className:"ai-avatar",children:e.avatar}),(0,u.jsx)("div",{className:"ai-name",children:e.name}),(0,u.jsx)("div",{className:"ai-difficulty ".concat(e.difficulty.toLowerCase()),children:e.difficulty})]},e.key))}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"selected-opponent",onClick:()=>d(!0),children:[(0,u.jsx)("span",{className:"opponent-label",children:"Opponent:"}),(0,u.jsxs)("div",{className:"opponent-display",children:[(0,u.jsx)("span",{className:"opponent-avatar",children:h.avatar}),(0,u.jsx)("span",{className:"opponent-name",children:h.name}),(0,u.jsx)("span",{className:"opponent-difficulty ".concat(h.difficulty.toLowerCase()),children:h.difficulty})]}),(0,u.jsx)("span",{className:"change-opponent-hint",children:"Click to change"})]}),(0,u.jsx)("button",{className:"mode-button",onClick:p,children:"Play Now"})]})]}),(0,u.jsxs)("div",{className:"mode-card multiplayer",onClick:()=>{const e=l.trim()||"Player";n(e)},children:[(0,u.jsx)("div",{className:"mode-icon",children:"\ud83d\udc65"}),(0,u.jsx)("h2",{className:"mode-title",children:"Multiplayer"}),(0,u.jsx)("p",{className:"mode-description",children:"Challenge other players"}),(0,u.jsxs)("div",{className:"mode-features",children:[(0,u.jsx)("div",{className:"feature",children:"\ud83c\udf10 Online Match"}),(0,u.jsx)("div",{className:"feature",children:"\ud83c\udfaf Competitive"}),(0,u.jsx)("div",{className:"feature",children:"\ud83d\udcac Real Players"})]}),(0,u.jsx)("button",{className:"mode-button",children:"Coming Soon"})]})]})]}),(0,u.jsxs)("div",{className:"lobby-info",children:[(0,u.jsx)("h3",{children:"Game Features:"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:"\ud83d\udd25 9 Unique Elements with special abilities"}),(0,u.jsx)("li",{children:"\u2694\ufe0f Counter system - elements beat each other"}),(0,u.jsx)("li",{children:"\ud83d\udd17 Card evolution - chain same elements for bonuses"}),(0,u.jsx)("li",{children:"\u26b0\ufe0f Graveyard mechanics - revive fallen cards"}),(0,u.jsx)("li",{children:"\ud83d\udc80 Fatigue damage - strategic deck management"})]})]})]})})},p={EMBER:{name:"Ember the Firestarter",avatar:"\ud83d\udd25",difficulty:"Easy",element:"FIRE",description:"A hot-headed warrior who loves aggressive plays",strategy:{preferredElements:["FIRE","EARTH","POWER"],aggressiveness:.8,conservativeness:.2,abilityUsage:.6,counterPriority:.4},quotes:{start:"Let's heat things up!",win:"Burned to a crisp!",lose:"My flames... extinguished...",taunt:"Feel the burn!"}},FROST:{name:"Frost the Frozen",avatar:"\u2744\ufe0f",difficulty:"Medium",element:"ICE",description:"A calculated strategist who freezes opponents in their tracks",strategy:{preferredElements:["ICE","WATER","NEUTRAL"],aggressiveness:.3,conservativeness:.7,abilityUsage:.8,counterPriority:.7},quotes:{start:"Winter is coming...",win:"Frozen solid!",lose:"The ice... melts...",taunt:"Chill out!"}},AQUA:{name:"Aqua the Tidekeeper",avatar:"\ud83d\udca7",difficulty:"Medium",element:"WATER",description:"A flowing fighter who adapts to any situation",strategy:{preferredElements:["WATER","ICE","NEUTRAL"],aggressiveness:.5,conservativeness:.5,abilityUsage:.7,counterPriority:.6,adaptive:!0},quotes:{start:"Go with the flow...",win:"Washed away!",lose:"The tide turns...",taunt:"Ride the wave!"}},VOLT:{name:"Volt the Electrifier",avatar:"\u26a1",difficulty:"Hard",element:"ELECTRICITY",description:"A shocking speedster with lightning-fast combos",strategy:{preferredElements:["ELECTRICITY","LIGHT","POWER"],aggressiveness:.7,conservativeness:.4,abilityUsage:.9,counterPriority:.8,comboFocus:!0},quotes:{start:"Let's spark things up!",win:"Electrifying victory!",lose:"Circuit... overloaded...",taunt:"Shocking, isn't it?"}},TERRA:{name:"Terra the Earthshaker",avatar:"\ud83c\udf0d",difficulty:"Hard",element:"EARTH",description:"A defensive powerhouse who wears opponents down",strategy:{preferredElements:["EARTH","FIRE","DARK","METEOR"],aggressiveness:.4,conservativeness:.8,abilityUsage:.5,counterPriority:.9,defensive:!0},quotes:{start:"Solid as a rock!",win:"Earth prevails!",lose:"Crumbled to dust...",taunt:"Unshakeable!"}},LUMINA:{name:"Lumina the Radiant",avatar:"\u2600\ufe0f",difficulty:"Expert",element:"LIGHT",description:"A brilliant tactician with divine powers",strategy:{preferredElements:["LIGHT","POWER","ELECTRICITY"],aggressiveness:.6,conservativeness:.6,abilityUsage:.7,counterPriority:.8,perfectPlay:!0},quotes:{start:"Let there be light!",win:"Illuminated to victory!",lose:"The light... fades...",taunt:"Blinded by brilliance!"}},SHADOW:{name:"Shadow the Voidwalker",avatar:"\ud83c\udf19",difficulty:"Expert",element:"DARK",description:"A mysterious fighter who exploits weaknesses",strategy:{preferredElements:["DARK","POWER","NEUTRAL"],aggressiveness:.5,conservativeness:.7,abilityUsage:.8,counterPriority:.9,exploitative:!0,unpredictable:!0},quotes:{start:"Embrace the darkness...",win:"Consumed by shadow!",lose:"Light... prevails...",taunt:"Fear the void!"}},NEXUS:{name:"Nexus the Omnipotent",avatar:"\u2b50",difficulty:"Master",element:"POWER",description:"The ultimate champion who masters all elements",strategy:{preferredElements:["POWER","LEGENDARY"],aggressiveness:.7,conservativeness:.7,abilityUsage:.9,counterPriority:1,perfectPlay:!0,adaptive:!0,comboFocus:!0,exploitative:!0},quotes:{start:"Witness true power!",win:"Inevitable victory!",lose:"Impossible... defeated...",taunt:"Is that all you've got?"},isBoss:!0},CHAOS:{name:"Chaos the Unpredictable",avatar:"\ud83d\udd2e",difficulty:"Master",element:"NEUTRAL",description:"An erratic wildcard who defies all logic",strategy:{preferredElements:["NEUTRAL","random","METEOR"],aggressiveness:.5,conservativeness:.5,abilityUsage:.5,counterPriority:.5,random:!0,unpredictable:!0},quotes:{start:"Let chaos reign!",win:"Randomness prevails!",lose:"Order restored...",taunt:"Expect the unexpected!"},isBoss:!0}},h=[{stage:1,name:"Trial of Fire",opponent:"EMBER",description:"Face Ember in the volcanic arena to prove your worth",reward:"Unlock: Fire Mastery Badge"},{stage:2,name:"Frozen Fortress",opponent:"FROST",description:"Battle Frost in the icy tundra to break the freeze",reward:"Unlock: Ice Mastery Badge"},{stage:3,name:"Tidal Challenge",opponent:"AQUA",description:"Defeat Aqua in the ocean depths to master the flow",reward:"Unlock: Water Mastery Badge"},{stage:4,name:"Lightning Storm",opponent:"VOLT",description:"Survive Volt's shocking assault in the thunderdome",reward:"Unlock: Electricity Mastery Badge"},{stage:5,name:"Earthquake Arena",opponent:"TERRA",description:"Shake Terra's foundation in the mountain stronghold",reward:"Unlock: Earth Mastery Badge"},{stage:6,name:"Radiant Temple",opponent:"LUMINA",description:"Challenge Lumina in the celestial sanctuary",reward:"Unlock: Light Mastery Badge"},{stage:7,name:"Void Dimension",opponent:"SHADOW",description:"Confront Shadow in the realm of darkness",reward:"Unlock: Dark Mastery Badge"},{stage:8,name:"BOSS: Power Nexus",opponent:"NEXUS",description:"Face the ultimate champion in the Grand Arena",reward:"Unlock: Master Champion Title",isBoss:!0},{stage:9,name:"FINAL BOSS: Chaos Unleashed",opponent:"CHAOS",description:"Battle the embodiment of chaos itself",reward:"Complete Story Mode - Unlock All",isBoss:!0,finalBoss:!0}];const g=function(e){var t,n,r,l,s,o,i;let{onStartBattle:c,onBack:d,completedStages:f=[]}=e;const[m,g]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),b=(0,a.useRef)(null),E=f.length;(0,a.useEffect)(()=>(b.current=new Audio("".concat("/nebula-elemental-battle","/Under_Cover_of_the_Myst.mp3")),b.current.volume=.3,b.current.loop=!0,b.current.play().catch(e=>console.log("Story music autoplay prevented:",e)),()=>{b.current&&(b.current.pause(),b.current=null)}),[]);const x=e=>f.includes(e.stage)?"completed":e.stage===E+1?"available":"locked";return(0,u.jsxs)("div",{className:"story-mode",children:[(0,u.jsxs)("div",{className:"story-header",children:[(0,u.jsx)("button",{className:"back-btn",onClick:d,children:"\u2190 Back"}),(0,u.jsx)("h1",{className:"story-title",children:"\u2694\ufe0f Story Mode Campaign \u2694\ufe0f"}),(0,u.jsxs)("div",{className:"progress-info",children:["Stage ",E,"/",h.length]})]}),(0,u.jsx)("div",{className:"campaign-map",children:h.map((e,t)=>{const n=x(e),a=p[e.opponent],r="locked"===n;return(0,u.jsxs)("div",{className:"stage-node ".concat(n," ").concat(e.isBoss?"boss":""),onClick:()=>!r&&(e=>{e.stage<=E+1&&(g(e),y(!0))})(e),style:{"--delay":"".concat(.1*t,"s")},children:[(0,u.jsx)("div",{className:"stage-number",children:e.stage}),(0,u.jsx)("div",{className:"stage-avatar",children:(null===a||void 0===a?void 0:a.avatar)||"\u2753"}),(0,u.jsx)("div",{className:"stage-name",children:e.name}),"completed"===n&&(0,u.jsx)("div",{className:"stage-check",children:"\u2713"}),r&&(0,u.jsx)("div",{className:"stage-lock",children:"\ud83d\udd12"}),e.isBoss&&(0,u.jsx)("div",{className:"boss-indicator",children:"BOSS"})]},e.stage)})}),v&&m&&(0,u.jsx)("div",{className:"stage-details-overlay",onClick:()=>y(!1),children:(0,u.jsxs)("div",{className:"stage-details",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"details-header",children:[(0,u.jsx)("h2",{children:m.name}),(0,u.jsx)("button",{className:"close-btn",onClick:()=>y(!1),children:"\xd7"})]}),(0,u.jsxs)("div",{className:"opponent-info",children:[(0,u.jsx)("div",{className:"opponent-avatar-large",children:null===(t=p[m.opponent])||void 0===t?void 0:t.avatar}),(0,u.jsxs)("div",{className:"opponent-details",children:[(0,u.jsx)("h3",{children:null===(n=p[m.opponent])||void 0===n?void 0:n.name}),(0,u.jsxs)("div",{className:"opponent-element",children:["Element: ",null===(r=p[m.opponent])||void 0===r?void 0:r.element]}),(0,u.jsxs)("div",{className:"opponent-difficulty",children:["Difficulty: ",(0,u.jsx)("span",{className:"difficulty ".concat(null===(l=p[m.opponent])||void 0===l?void 0:l.difficulty.toLowerCase()),children:null===(s=p[m.opponent])||void 0===s?void 0:s.difficulty})]}),(0,u.jsx)("p",{className:"opponent-description",children:null===(o=p[m.opponent])||void 0===o?void 0:o.description})]})]}),(0,u.jsx)("div",{className:"stage-description",children:(0,u.jsx)("p",{children:m.description})}),(0,u.jsxs)("div",{className:"stage-reward",children:[(0,u.jsx)("strong",{children:"\ud83c\udfc6 Reward:"})," ",m.reward]}),(0,u.jsx)("div",{className:"stage-quote",children:(0,u.jsxs)("em",{children:['"',null===(i=p[m.opponent])||void 0===i?void 0:i.quotes.start,'"']})}),(0,u.jsx)("button",{className:"start-battle-btn",onClick:()=>{m&&c(m.opponent,m.stage)},children:"completed"===x(m)?"Replay Battle":"Start Battle"})]})})]})},v={none:{FIRE:"#ff4444",ICE:"#44ccff",WATER:"#4444ff",ELECTRICITY:"#ffff00",EARTH:"#8b4513",POWER:"#ff00ff",LIGHT:"#ffeb3b",DARK:"#9c27b0",NEUTRAL:"#9e9e9e",TECHNOLOGY:"#00ffff",METEOR:"#ff6600"},protanopia:{FIRE:"#d4a82f",ICE:"#00bfff",WATER:"#0066ff",ELECTRICITY:"#ffff66",EARTH:"#a0522d",POWER:"#9966ff",LIGHT:"#ffeb3b",DARK:"#6a1b9a",NEUTRAL:"#9e9e9e",TECHNOLOGY:"#00e5e5",METEOR:"#ff9933"},deuteranopia:{FIRE:"#ff6666",ICE:"#66b3ff",WATER:"#3366ff",ELECTRICITY:"#ffff99",EARTH:"#996633",POWER:"#cc66ff",LIGHT:"#ffdd66",DARK:"#9933cc",NEUTRAL:"#b3b3b3",TECHNOLOGY:"#33cccc",METEOR:"#ff8833"},tritanopia:{FIRE:"#ff3333",ICE:"#33ffcc",WATER:"#00cc99",ELECTRICITY:"#ffff33",EARTH:"#cc6633",POWER:"#ff3399",LIGHT:"#ffff66",DARK:"#cc3366",NEUTRAL:"#999999",TECHNOLOGY:"#00ffcc",METEOR:"#ff6633"},achromatopsia:{FIRE:"#e0e0e0",ICE:"#c0c0c0",WATER:"#a0a0a0",ELECTRICITY:"#f0f0f0",EARTH:"#808080",POWER:"#d0d0d0",LIGHT:"#f5f5f5",DARK:"#606060",NEUTRAL:"#909090",TECHNOLOGY:"#b0b0b0",METEOR:"#c8c8c8"}},y={FIRE:"\ud83d\udd25",ICE:"\u2744\ufe0f",WATER:"\ud83d\udca7",ELECTRICITY:"\u26a1",EARTH:"\ud83c\udf0d",POWER:"\u2b50",LIGHT:"\u2600\ufe0f",DARK:"\ud83c\udf19",NEUTRAL:"\ud83d\udd2e",TECHNOLOGY:"\ud83e\udd16",METEOR:"\u2604\ufe0f"},b={FIRE:"FIR",ICE:"ICE",WATER:"WAT",ELECTRICITY:"ELC",EARTH:"ERT",POWER:"POW",LIGHT:"LGT",DARK:"DRK",NEUTRAL:"NEU",TECHNOLOGY:"TEC",METEOR:"MET"},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";const t=v[e]||v.none,n=document.documentElement;Object.entries(t).forEach(e=>{let[t,a]=e;n.style.setProperty("--element-".concat(t.toLowerCase(),"-color"),a)}),localStorage.setItem("colorblindMode",e)},x=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=document.documentElement;e?(t.style.setProperty("--contrast-bg","#000000"),t.style.setProperty("--contrast-fg","#ffffff"),t.style.setProperty("--contrast-border","#ffffff"),t.style.setProperty("--contrast-accent","#ffff00"),t.classList.add("high-contrast")):(t.style.setProperty("--contrast-bg",""),t.style.setProperty("--contrast-fg",""),t.style.setProperty("--contrast-border",""),t.style.setProperty("--contrast-accent",""),t.classList.remove("high-contrast")),localStorage.setItem("highContrast",e)},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";const t=document.documentElement,n={small:"0.875",medium:"1",large:"1.125",xl:"1.25"},a=n[e]||n.medium;t.style.setProperty("--text-scale",a),localStorage.setItem("textSize",e)},k=function(e){return(v[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none"]||v.none)[e]||"#666"},N=function(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?y[e]||"?":b[e]||"???"},w=()=>{const e=localStorage.getItem("colorblindMode")||"none",t="true"===localStorage.getItem("highContrast"),n=localStorage.getItem("textSize")||"medium";return E(e),x(t),S(n),{colorblindMode:e,highContrast:t,textSize:n,showElementIcons:"false"!==localStorage.getItem("showElementIcons")}},C=e=>{var t;let{card:n,onClick:r,isPlayable:l,keyboardKey:s,onPlayed:o}=e;const[i,c]=(0,a.useState)(!1),[d,f]=(0,a.useState)(!1),[m,p]=(0,a.useState)({colorblindMode:"none",showElementIcons:!0,highContrast:!1});if((0,a.useEffect)(()=>{const e=()=>{const e=localStorage.getItem("colorblindMode")||"none",t="false"!==localStorage.getItem("showElementIcons"),n="true"===localStorage.getItem("highContrast");p({colorblindMode:e,showElementIcons:t,highContrast:n})};e();const t=()=>e();return window.addEventListener("storage",t),window.addEventListener("settingsUpdated",t),()=>{window.removeEventListener("storage",t),window.removeEventListener("settingsUpdated",t)}},[]),!n)return null;const h=e=>k(e,m.colorblindMode),g=e=>N(e,m.showElementIcons),v=e=>({COMMON:"#9e9e9e",UNCOMMON:"#4caf50",RARE:"#2196f3",LEGENDARY:"#ff9800"}[e]||"#9e9e9e"),y=(()=>{const e="/nebula-elemental-battle",t={ELECTRICITY:"".concat(e,"/electricity-card.png"),FIRE:"".concat(e,"/fire card.png"),ICE:"".concat(e,"/ice-card.png"),WATER:"".concat(e,"/water-card.png"),EARTH:"".concat(e,"/earth_card.png"),DARK:"".concat(e,"/moon-card.png"),LIGHT:"".concat(e,"/star-card.png"),TECHNOLOGY:"".concat(e,"/tech-card.png"),METEOR:"".concat(e,"/meteor.png"),NATURE:null,POWER:null},a=(null===n||void 0===n?void 0:n.element)||null,r=void 0!==t[a]?t[a]:null;return a&&r&&console.log("Card element: ".concat(a,", Image path: ").concat(r)),r})();return(0,u.jsxs)("div",{className:"card ".concat(l?"playable":""," ").concat((null===(t=n.tier)||void 0===t?void 0:t.toLowerCase())||"common"," ").concat(n.isLegendary?"legendary":""," ").concat(d?"playing":""," ").concat(y?"has-background-image":""),onClick:()=>{r&&l&&(f(!0),setTimeout(()=>{f(!1)},600),r())},style:{borderColor:h(n.element),borderWidth:{COMMON:"3px",UNCOMMON:"3px",RARE:"4px",LEGENDARY:"5px"}[n.tier||"COMMON"],"--element-color":h(n.element),"--card-bg-image":y?"url('".concat(y,"')"):"none"},"data-key":s||"","data-element":n.element,"data-colorblind":"none"!==m.colorblindMode?"true":"false",role:"button",tabIndex:l?0:-1,"aria-label":"".concat(n.element," card with strength ").concat(n.modifiedStrength||n.strength),children:[n.isLegendary&&(0,u.jsx)("div",{className:"legendary-glow"}),"none"!==m.colorblindMode&&(0,u.jsx)("div",{className:"element-label-overlay",children:b[n.element]||"???"}),(0,u.jsxs)("div",{className:"card-header",children:[(0,u.jsx)("div",{className:"card-element",style:{color:h(n.element)},children:g(n.element)}),(0,u.jsxs)("div",{className:"card-strength",style:{background:n.modifiedStrength?"linear-gradient(135deg, ".concat(v(n.tier)," 0%, #fff 100%)"):void 0},children:[n.modifiedStrength||n.strength,n.modifiedStrength&&n.modifiedStrength!==n.strength&&(0,u.jsxs)("span",{className:"strength-modifier",children:["+",n.modifiedStrength-n.strength]})]})]}),(0,u.jsxs)("div",{className:"card-center",children:[(0,u.jsx)("span",{className:"element-icon-large",style:{color:h(n.element)},children:g(n.element)}),(0,u.jsx)("div",{className:"strength-large",children:n.modifiedStrength||n.strength}),n.tier&&(0,u.jsx)("div",{className:"card-tier",style:{color:v(n.tier)},children:n.tier}),n.isCounter&&(0,u.jsx)("div",{className:"counter-badge",children:"\u2694\ufe0f COUNTER!"}),n.evolved&&(0,u.jsx)("div",{className:"evolution-badge",children:"\ud83d\udd17 EVOLVED!"}),n.meteorDamage&&n.meteorDamage>0&&(0,u.jsxs)("div",{className:"meteor-damage-badge",children:["\u2604\ufe0f -",n.meteorDamage]})]}),(0,u.jsxs)("div",{className:"card-footer",children:[(0,u.jsx)("div",{className:"element-name",children:n.element}),"NEUTRAL"===n.element&&n.neutralAbility&&(0,u.jsx)("div",{className:"neutral-ability",children:"COPY"===n.neutralAbility?"\ud83d\udccb Copy":"\ud83d\udcaa Boost"}),"TECHNOLOGY"===n.element&&n.techAbility&&(0,u.jsx)("div",{className:"tech-ability",children:"SHIELD"===n.techAbility?"\ud83d\udee1\ufe0f Shield":"\u2699\ufe0f Create"})]})]})},T=e=>{let{onResume:t,onForfeit:n,onQuit:a}=e;return(0,u.jsx)("div",{className:"pause-menu-overlay",children:(0,u.jsxs)("div",{className:"pause-menu",children:[(0,u.jsx)("h2",{children:"Game Paused"}),(0,u.jsxs)("div",{className:"pause-menu-buttons",children:[(0,u.jsx)("button",{className:"pause-btn resume-btn",onClick:t,children:"Resume Game"}),(0,u.jsx)("button",{className:"pause-btn forfeit-btn",onClick:n,children:"Forfeit Match"}),(0,u.jsx)("button",{className:"pause-btn quit-btn",onClick:a,children:"Quit to Menu"})]}),(0,u.jsx)("div",{className:"pause-menu-hint",children:"Press ESC to resume"})]})})},A=e=>{let{roundNumber:t,show:n,onComplete:r}=e;const[l,s]=(0,a.useState)("entrance"),o=(0,a.useRef)(!1),i=(0,a.useRef)(t);return(0,a.useEffect)(()=>{if(!n)return void(o.current=!1);if(t!==i.current&&(o.current=!1,i.current=t),o.current)return;o.current=!0,s("entrance");const e=setTimeout(()=>{s("display")},800),a=setTimeout(()=>{s("exit")},2200),l=setTimeout(()=>{console.log("Round announcement animation complete, calling onComplete"),r&&r()},3e3);return()=>{clearTimeout(e),clearTimeout(a),clearTimeout(l)}},[n,t]),n?(0,u.jsx)("div",{className:"round-announcement ".concat(l),children:(0,u.jsxs)("div",{className:"round-announcement-content",children:[(0,u.jsxs)("div",{className:"round-background-effect",children:[(0,u.jsx)("div",{className:"round-circle-1"}),(0,u.jsx)("div",{className:"round-circle-2"}),(0,u.jsx)("div",{className:"round-circle-3"})]}),(0,u.jsxs)("div",{className:"round-text-container",children:[(0,u.jsx)("div",{className:"round-label",children:"Round"}),(0,u.jsx)("div",{className:"round-number",children:t}),(0,u.jsx)("div",{className:"round-subtitle",children:"Battle Begins!"})]}),(0,u.jsxs)("div",{className:"round-decorative-elements",children:[(0,u.jsx)("div",{className:"round-star star-1",children:"\u2b50"}),(0,u.jsx)("div",{className:"round-star star-2",children:"\u2b50"}),(0,u.jsx)("div",{className:"round-star star-3",children:"\u2b50"}),(0,u.jsx)("div",{className:"round-star star-4",children:"\u2b50"}),(0,u.jsx)("div",{className:"round-lightning",children:"\u26a1"}),(0,u.jsx)("div",{className:"round-swords",children:"\u2694\ufe0f"})]})]})}):null},j=e=>{let{effects:t=[],playerName:n,availableEffects:a={}}=e;if(!t||0===t.length)return null;const r=t.filter(e=>{const t=a[e.type];return"buff"===(null===t||void 0===t?void 0:t.type)}),l=t.filter(e=>{const t=a[e.type];return"debuff"===(null===t||void 0===t?void 0:t.type)}),s=e=>{const t=a[e.type];if(!t)return null;let n=t.description.replace("{value}",e.value).replace("{duration}",e.turnsRemaining).replace("{element}",e.element||"");return e.totalDamageDealt>0&&(n+=" (Total: ".concat(e.totalDamageDealt,")")),(0,u.jsxs)("div",{className:"status-effect ".concat(t.type),title:n,children:[(0,u.jsx)("span",{className:"effect-icon",children:t.icon}),(0,u.jsxs)("div",{className:"effect-details",children:[(0,u.jsx)("span",{className:"effect-name",children:t.name}),e.turnsRemaining>0&&(0,u.jsx)("span",{className:"effect-duration",children:e.turnsRemaining}),e.value>0&&"SHIELD"!==e.type&&(0,u.jsxs)("span",{className:"effect-value",children:[["WEAKNESS","CURSE","BURN","POISON","BLEED"].includes(e.type)?"-":"+",e.value]}),"SHIELD"===e.type&&(0,u.jsx)("span",{className:"effect-value shield-value",children:e.value})]})]},e.id)};return(0,u.jsxs)("div",{className:"status-effects-container",children:[r.length>0&&(0,u.jsxs)("div",{className:"effects-section buffs",children:[(0,u.jsx)("div",{className:"effects-label",children:"Buffs"}),(0,u.jsx)("div",{className:"effects-list",children:r.map(s)})]}),l.length>0&&(0,u.jsxs)("div",{className:"effects-section debuffs",children:[(0,u.jsx)("div",{className:"effects-label",children:"Debuffs"}),(0,u.jsx)("div",{className:"effects-list",children:l.map(s)})]})]})},R=(e,t,n,a)=>{const r=[],l={FIRE:"\ud83d\udd25",ICE:"\u2744\ufe0f",WATER:"\ud83d\udca7",ELECTRICITY:"\u26a1",EARTH:"\ud83c\udf0d",POWER:"\ud83d\udcaa",LIGHT:"\u2728",DARK:"\ud83c\udf11",NEUTRAL:"\u2b50"}[e]||"\u2728";for(let s=0;s<20;s++){const e=document.createElement("div");e.className="particle",e.textContent=l,e.style.left="".concat(t,"px"),e.style.top="".concat(n,"px");const o=s/20*Math.PI*2,i=150+100*Math.random(),c=Math.cos(o)*i,u=Math.sin(o)*i;e.style.setProperty("--tx","".concat(c,"px")),e.style.setProperty("--ty","".concat(u,"px")),e.style.animationDelay="".concat(.2*Math.random(),"s"),e.style.fontSize="".concat(16+12*Math.random(),"px"),a.appendChild(e),r.push(e),setTimeout(()=>{e.remove()},2500)}return r},P=function(e,t,n,a,r,l){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const o=document.createElement("div");return s?(o.className="damage-number meteor-damage",o.textContent=e,o.style.fontSize="32px",o.style.fontWeight="900",o.style.color="#ff6600",o.style.textShadow="0 0 10px #ff3300, 0 0 20px #ff6600, 2px 2px 4px rgba(0,0,0,0.8)"):(o.className="damage-number ".concat(l?"tie":r?"winner":"loser"),o.textContent=e),o.style.left="".concat(t,"px"),o.style.top="".concat(n,"px"),a.appendChild(o),setTimeout(()=>{o.remove()},s?2e3:1e3),o},I=e=>{if(!e)return;e.querySelectorAll(".environmental-effect").forEach(e=>e.remove())},O=(e,t)=>{if(!t)return null;const n=document.createElement("div");return n.className="phase-transition entering",n.textContent=e,t.appendChild(n),setTimeout(()=>{n.classList.remove("entering"),n.classList.add("leaving"),setTimeout(()=>{n.remove()},500)},2e3),n};const M=new class{constructor(){this.sounds={},this.music=null,this.enabled=!0,this.musicEnabled=!0,this.volume=.5,this.musicVolume=.3,this.currentMusicIntensity="calm",this.backgroundMusic=null,this.currentTrack=null,this.musicTracks=["At_the_End_of_All_Things.mp3","Battle_of_the_Pixelated_Cyborgs.mp3","Boss_Battle_Loop_1.mp3","Burnt_Out_Space_Hulk.mp3","Cooler_Heads_Prevail.mp3","Figuring_it_All_Out.mp3","Further_Investigation.mp3","Strange_Dealings_Afoot.mp3","Sunrise_in_Megalopolis.mp3","The_Fallout.mp3","Treat_or_Trick.mp3","Under_Cover_of_the_Myst.mp3","When_You_Risk_it_All.mp3"]}init(){this.sounds={fire:this.createFireSound,ice:this.createIceSound,water:this.createWaterSound,electricity:this.createElectricitySound,earth:this.createEarthSound,power:this.createPowerSound,light:this.createLightSound,dark:this.createDarkSound,neutral:this.createNeutralSound,cardFlip:this.createCardFlipSound,victory:this.createVictorySound,defeat:this.createDefeatSound,yourTurn:this.createYourTurnSound,opponentTurn:this.createOpponentTurnSound,powerPlay:this.createPowerPlaySound}}createFireSound(e){const t=e.createOscillator(),n=e.createGain();t.type="sawtooth",t.frequency.setValueAtTime(200,e.currentTime),t.frequency.exponentialRampToValueAtTime(100,e.currentTime+.3),n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),t.connect(n),n.connect(e.destination),t.start(),t.stop(e.currentTime+.3)}createIceSound(e){const t=e.createOscillator(),n=e.createGain();t.type="sine",t.frequency.setValueAtTime(1200,e.currentTime),t.frequency.exponentialRampToValueAtTime(600,e.currentTime+.4),n.gain.setValueAtTime(.2,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.4),t.connect(n),n.connect(e.destination),t.start(),t.stop(e.currentTime+.4)}createWaterSound(e){const t=e.createOscillator(),n=e.createGain();t.type="sine",t.frequency.setValueAtTime(400,e.currentTime),t.frequency.setValueAtTime(350,e.currentTime+.1),t.frequency.setValueAtTime(380,e.currentTime+.2),n.gain.setValueAtTime(.25,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.connect(n),n.connect(e.destination),t.start(),t.stop(e.currentTime+.5)}createElectricitySound(e){const t=e.createBuffer(1,.2*e.sampleRate,e.sampleRate),n=t.getChannelData(0);for(let s=0;s<t.length;s++)n[s]=2*Math.random()-1;const a=e.createBufferSource();a.buffer=t;const r=e.createBiquadFilter();r.type="bandpass",r.frequency.value=2e3;const l=e.createGain();l.gain.setValueAtTime(.3,e.currentTime),l.gain.exponentialRampToValueAtTime(.01,e.currentTime+.2),a.connect(r),r.connect(l),l.connect(e.destination),a.start(),a.stop(e.currentTime+.2)}createEarthSound(e){const t=e.createOscillator(),n=e.createGain();t.type="triangle",t.frequency.setValueAtTime(80,e.currentTime),t.frequency.exponentialRampToValueAtTime(40,e.currentTime+.4),n.gain.setValueAtTime(.4,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.4),t.connect(n),n.connect(e.destination),t.start(),t.stop(e.currentTime+.4)}createPowerSound(e){const t=e.createOscillator(),n=e.createGain();t.type="square",t.frequency.setValueAtTime(150,e.currentTime),t.frequency.exponentialRampToValueAtTime(300,e.currentTime+.3),n.gain.setValueAtTime(.35,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),t.connect(n),n.connect(e.destination),t.start(),t.stop(e.currentTime+.3)}createLightSound(e){const t=.35,n=e.createOscillator(),a=e.createGain();n.type="sine",n.frequency.setValueAtTime(800,e.currentTime),n.frequency.exponentialRampToValueAtTime(1600,e.currentTime+t),a.gain.setValueAtTime(.25,e.currentTime),a.gain.exponentialRampToValueAtTime(.01,e.currentTime+t),n.connect(a),a.connect(e.destination),n.start(),n.stop(e.currentTime+t)}createDarkSound(e){const t=e.createOscillator(),n=e.createGain();t.type="sawtooth",t.frequency.setValueAtTime(100,e.currentTime),t.frequency.exponentialRampToValueAtTime(50,e.currentTime+.5),n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.connect(n),n.connect(e.destination),t.start(),t.stop(e.currentTime+.5)}createNeutralSound(e){const t=e.createOscillator(),n=e.createGain();t.type="sine",t.frequency.setValueAtTime(440,e.currentTime),n.gain.setValueAtTime(.2,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),t.connect(n),n.connect(e.destination),t.start(),t.stop(e.currentTime+.3)}createCardFlipSound(e){const t=.15,n=e.createOscillator(),a=e.createGain();n.type="triangle",n.frequency.setValueAtTime(300,e.currentTime),n.frequency.exponentialRampToValueAtTime(500,e.currentTime+t),a.gain.setValueAtTime(.15,e.currentTime),a.gain.exponentialRampToValueAtTime(.01,e.currentTime+t),n.connect(a),a.connect(e.destination),n.start(),n.stop(e.currentTime+t)}createVictorySound(e){[262,330,392,523].forEach((t,n)=>{const a=e.createOscillator(),r=e.createGain();a.type="sine",a.frequency.value=t;const l=e.currentTime+.15*n;r.gain.setValueAtTime(.3,l),r.gain.exponentialRampToValueAtTime(.01,l+.5),a.connect(r),r.connect(e.destination),a.start(l),a.stop(l+.5)})}createDefeatSound(e){[392,349,330,294].forEach((t,n)=>{const a=e.createOscillator(),r=e.createGain();a.type="sine",a.frequency.value=t;const l=e.currentTime+.2*n;r.gain.setValueAtTime(.25,l),r.gain.exponentialRampToValueAtTime(.01,l+.6),a.connect(r),r.connect(e.destination),a.start(l),a.stop(l+.6)})}createYourTurnSound(e){const t=e.createOscillator(),n=e.createGain();t.type="sine",t.frequency.setValueAtTime(600,e.currentTime),t.frequency.setValueAtTime(800,e.currentTime+.1),n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),t.connect(n),n.connect(e.destination),t.start(),t.stop(e.currentTime+.3)}createOpponentTurnSound(e){const t=e.createOscillator(),n=e.createGain();t.type="sine",t.frequency.setValueAtTime(400,e.currentTime),t.frequency.setValueAtTime(300,e.currentTime+.1),n.gain.setValueAtTime(.25,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),t.connect(n),n.connect(e.destination),t.start(),t.stop(e.currentTime+.3)}createPowerPlaySound(e){const t=.5,n=e.createOscillator(),a=e.createOscillator(),r=e.createGain();n.type="square",n.frequency.setValueAtTime(100,e.currentTime),n.frequency.exponentialRampToValueAtTime(200,e.currentTime+t),a.type="sawtooth",a.frequency.setValueAtTime(200,e.currentTime),a.frequency.exponentialRampToValueAtTime(400,e.currentTime+t),r.gain.setValueAtTime(.4,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+t),n.connect(r),a.connect(r),r.connect(e.destination),n.start(),a.start(),n.stop(e.currentTime+t),a.stop(e.currentTime+t)}playSound(e){if(this.enabled&&this.sounds[e])try{const t=new(window.AudioContext||window.webkitAudioContext);this.sounds[e](t)}catch(t){console.error("Error playing sound:",t)}}playElementSound(e){const t={FIRE:"fire",ICE:"ice",WATER:"water",ELECTRICITY:"electricity",EARTH:"earth",POWER:"power",LIGHT:"light",DARK:"dark",NEUTRAL:"neutral"}[e];t&&this.playSound(t)}playMusic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"calm";if(this.musicEnabled)if(!this.backgroundMusic||this.backgroundMusic.paused){this.stopMusic(),this.currentMusicIntensity=e;try{const e=Math.floor(Math.random()*this.musicTracks.length);this.currentTrack=this.musicTracks[e],this.backgroundMusic=new Audio("".concat("/nebula-elemental-battle","/").concat(this.currentTrack)),this.backgroundMusic.volume=this.musicVolume,this.backgroundMusic.loop=!0,this.backgroundMusic.play().catch(e=>{console.log("Music autoplay prevented:",e)}),console.log("\ud83c\udfb5 Now playing:",this.currentTrack)}catch(t){console.error("Error playing music:",t)}}else console.log("\ud83c\udfb5 Music already playing:",this.currentTrack)}createAmbientMusic(e,t){}stopMusic(){if(this.music&&this.music.oscillator)try{this.music.gainNode.gain.exponentialRampToValueAtTime(.01,this.music.audioContext.currentTime+1),this.music.oscillator.stop(this.music.audioContext.currentTime+1),this.music=null}catch(e){console.error("Error stopping oscillator music:",e)}if(this.backgroundMusic)try{this.backgroundMusic.pause(),this.backgroundMusic.currentTime=0,this.backgroundMusic=null,this.currentTrack=null,console.log("\ud83c\udfb5 Music stopped")}catch(e){console.error("Error stopping background music:",e)}}setVolume(e){this.volume=Math.max(0,Math.min(1,e))}setMusicVolume(e){this.musicVolume=Math.max(0,Math.min(1,e)),this.music&&this.music.gainNode&&(this.music.gainNode.gain.value=.1*this.musicVolume),this.backgroundMusic&&(this.backgroundMusic.volume=this.musicVolume)}pauseMusic(){this.backgroundMusic&&!this.backgroundMusic.paused&&(this.backgroundMusic.pause(),console.log("\ud83c\udfb5 Music paused"))}resumeMusic(){this.backgroundMusic&&this.backgroundMusic.paused&&(this.backgroundMusic.play().catch(e=>{console.log("Error resuming music:",e)}),console.log("\ud83c\udfb5 Music resumed"))}toggleMusic(){return this.enabled=!this.enabled,this.enabled}toggleMusic(){return this.musicEnabled=!this.musicEnabled,this.musicEnabled?this.playMusic(this.currentMusicIntensity):this.stopMusic(),this.musicEnabled}changeTrack(){if(!this.musicEnabled)return;const e=this.musicTracks.filter(e=>e!==this.currentTrack);if(e.length>0){const t=Math.floor(Math.random()*e.length);this.currentTrack=e[t],this.stopMusic(),this.playMusic(this.currentMusicIntensity)}}getCurrentTrack(){return this.currentTrack?this.currentTrack.replace(".mp3","").replace(/_/g," "):"None"}};M.init();const _=M,L="playerThemes",D={classic:{name:"Classic",cost:0,primary:"#4a90e2",secondary:"#50c878",accent:"#ff6b6b",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",cardBorder:"#3a7bd5",textColor:"#ffffff",textShadow:"2px 2px 4px rgba(0,0,0,0.5)",premium:!1},midnight:{name:"Midnight Eclipse",cost:50,primary:"#2c3e50",secondary:"#8e44ad",accent:"#e74c3c",background:"linear-gradient(135deg, #2c3e50 0%, #4a148c 50%, #1a1a2e 100%)",cardBorder:"#8e44ad",textColor:"#ecf0f1",textShadow:"0 0 10px rgba(142, 68, 173, 0.8), 2px 2px 4px rgba(0,0,0,0.8)",premium:!0},ocean:{name:"Ocean Depths",cost:75,primary:"#006994",secondary:"#00a8cc",accent:"#40e0d0",background:"linear-gradient(135deg, #005c97 0%, #363795 50%, #005c97 100%)",cardBorder:"#00a8cc",textColor:"#ffffff",textShadow:"0 0 15px rgba(0, 168, 204, 0.8), 2px 2px 4px rgba(0,0,0,0.7)",premium:!0},forest:{name:"Mystic Forest",cost:100,primary:"#27ae60",secondary:"#2ecc71",accent:"#f39c12",background:"linear-gradient(135deg, #134e5e 0%, #71b280 50%, #134e5e 100%)",cardBorder:"#27ae60",textColor:"#ffffff",textShadow:"0 0 12px rgba(46, 204, 113, 0.8), 2px 2px 4px rgba(0,0,0,0.7)",premium:!0},sunset:{name:"Radiant Sunset",cost:125,primary:"#e67e22",secondary:"#f39c12",accent:"#e74c3c",background:"linear-gradient(135deg, #ff5e62 0%, #ff9966 50%, #ff5e62 100%)",cardBorder:"#e67e22",textColor:"#ffffff",textShadow:"0 0 15px rgba(243, 156, 18, 0.9), 2px 2px 4px rgba(0,0,0,0.6)",premium:!0},neon:{name:"Neon Cyberpunk",cost:150,primary:"#ff00ff",secondary:"#00ffff",accent:"#ffff00",background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #667eea 100%)",cardBorder:"#ff00ff",textColor:"#ffffff",textShadow:"0 0 20px rgba(255, 0, 255, 1), 0 0 10px rgba(0, 255, 255, 0.8)",premium:!0},galactic:{name:"Galactic Void",cost:175,primary:"#6a0dad",secondary:"#9d4edd",accent:"#c77dff",background:"linear-gradient(135deg, #240046 0%, #5a189a 25%, #9d4edd 50%, #5a189a 75%, #240046 100%)",cardBorder:"#9d4edd",textColor:"#ffffff",textShadow:"0 0 25px rgba(157, 78, 221, 1), 0 0 15px rgba(106, 13, 173, 0.8)",premium:!0},phoenix:{name:"Phoenix Rising",cost:200,primary:"#ff4500",secondary:"#ffa500",accent:"#ffff00",background:"linear-gradient(135deg, #8b0000 0%, #ff4500 25%, #ffa500 50%, #ff4500 75%, #8b0000 100%)",cardBorder:"#ff4500",textColor:"#ffffff",textShadow:"0 0 30px rgba(255, 165, 0, 1), 0 0 20px rgba(255, 69, 0, 0.8), 2px 2px 4px rgba(0,0,0,0.8)",premium:!0},winter:{name:"Winter Wonderland",cost:100,primary:"#b3d9ff",secondary:"#e6f2ff",accent:"#4da6ff",background:"linear-gradient(135deg, #d4e7ff 0%, #b3d9ff 25%, #ffffff 50%, #b3d9ff 75%, #d4e7ff 100%)",cardBorder:"#80bfff",textColor:"#003d66",textShadow:"0 0 8px rgba(179, 217, 255, 0.8), 1px 1px 3px rgba(0,0,0,0.4)",premium:!0,seasonal:"winter"},spring:{name:"Spring Blossom",cost:100,primary:"#ff9ff3",secondary:"#feca57",accent:"#48dbfb",background:"linear-gradient(135deg, #ffeaa7 0%, #ffb3ba 25%, #ffaec9 50%, #bae1ff 75%, #ffeaa7 100%)",cardBorder:"#ff6b9d",textColor:"#2c3e50",textShadow:"0 0 8px rgba(255, 179, 186, 0.8), 1px 1px 3px rgba(0,0,0,0.3)",premium:!0,seasonal:"spring"},summer:{name:"Summer Sunset",cost:100,primary:"#ff6b35",secondary:"#f7931e",accent:"#feca57",background:"linear-gradient(135deg, #f7971e 0%, #ffd200 25%, #ff6b35 50%, #ffd200 75%, #f7971e 100%)",cardBorder:"#ff9f1c",textColor:"#2c3e50",textShadow:"0 0 10px rgba(255, 210, 0, 0.9), 1px 1px 3px rgba(0,0,0,0.4)",premium:!0,seasonal:"summer"},autumn:{name:"Autumn Leaves",cost:100,primary:"#d35400",secondary:"#e67e22",accent:"#c0392b",background:"linear-gradient(135deg, #be4d25 0%, #d68910 25%, #c0392b 50%, #d68910 75%, #be4d25 100%)",cardBorder:"#d35400",textColor:"#ffffff",textShadow:"0 0 12px rgba(230, 126, 34, 0.9), 2px 2px 4px rgba(0,0,0,0.7)",premium:!0,seasonal:"autumn"},halloween:{name:"Spooky Halloween",cost:125,primary:"#ff6b35",secondary:"#9b59b6",accent:"#f39c12",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 25%, #ff6b35 50%, #16213e 75%, #1a1a2e 100%)",cardBorder:"#ff6b35",textColor:"#ffffff",textShadow:"0 0 20px rgba(255, 107, 53, 1), 0 0 10px rgba(155, 89, 182, 0.8)",premium:!0,seasonal:"halloween"},christmas:{name:"Christmas Joy",cost:125,primary:"#c0392b",secondary:"#27ae60",accent:"#f39c12",background:"linear-gradient(135deg, #e74c3c 0%, #27ae60 25%, #ffffff 50%, #27ae60 75%, #e74c3c 100%)",cardBorder:"#c0392b",textColor:"#ffffff",textShadow:"0 0 15px rgba(231, 76, 60, 0.9), 0 0 10px rgba(39, 174, 96, 0.8)",premium:!0,seasonal:"christmas"},valentines:{name:"Valentine's Day",cost:100,primary:"#e91e63",secondary:"#ff4081",accent:"#ff80ab",background:"linear-gradient(135deg, #ff6b9d 0%, #ffc3a0 25%, #ff6b9d 50%, #ffc3a0 75%, #ff6b9d 100%)",cardBorder:"#e91e63",textColor:"#ffffff",textShadow:"0 0 15px rgba(255, 64, 129, 0.9), 2px 2px 4px rgba(0,0,0,0.5)",premium:!0,seasonal:"valentines"},newyear:{name:"New Year Celebration",cost:125,primary:"#ffd700",secondary:"#ff6b35",accent:"#4a90e2",background:"linear-gradient(135deg, #ffd700 0%, #ff6b35 20%, #9b59b6 40%, #4a90e2 60%, #9b59b6 80%, #ffd700 100%)",cardBorder:"#ffd700",textColor:"#2c3e50",textShadow:"0 0 20px rgba(255, 215, 0, 1), 0 0 15px rgba(255, 107, 53, 0.8)",premium:!0,seasonal:"newyear"}},F={standard:{name:"Standard",cost:0,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(0, 0, 0, 0.3)",glowEffect:"none",borderStyle:"2px solid rgba(74, 144, 226, 0.5)",animation:"none",premium:!1},cosmic:{name:"Cosmic Void",cost:80,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(102, 126, 234, 0.25)",glowEffect:"0 0 25px rgba(102, 126, 234, 0.6), 0 0 40px rgba(118, 75, 162, 0.4)",borderStyle:"3px solid rgba(102, 126, 234, 0.7)",animation:"pulse 3s ease-in-out infinite",premium:!0},flame:{name:"Infernal Flame",cost:90,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(255, 107, 107, 0.25)",glowEffect:"0 0 30px rgba(255, 107, 107, 0.7), 0 0 50px rgba(238, 90, 82, 0.5)",borderStyle:"3px solid rgba(255, 107, 107, 0.8)",animation:"flicker 2s ease-in-out infinite",premium:!0},ice:{name:"Frozen Crystal",cost:85,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(116, 185, 255, 0.25)",glowEffect:"0 0 25px rgba(116, 185, 255, 0.7), 0 0 45px rgba(9, 132, 227, 0.5)",borderStyle:"3px solid rgba(116, 185, 255, 0.8)",animation:"shimmer 4s ease-in-out infinite",premium:!0},gold:{name:"Royal Gold",cost:120,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(243, 156, 18, 0.3)",glowEffect:"0 0 35px rgba(243, 156, 18, 0.8), 0 0 60px rgba(230, 126, 34, 0.6)",borderStyle:"4px solid rgba(243, 156, 18, 0.9)",animation:"goldShine 3s ease-in-out infinite",premium:!0},shadow:{name:"Shadow Realm",cost:110,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(45, 52, 54, 0.4)",glowEffect:"0 0 30px rgba(45, 52, 54, 0.9), 0 0 50px rgba(99, 110, 114, 0.7)",borderStyle:"3px solid rgba(99, 110, 114, 0.9)",animation:"shadowPulse 3.5s ease-in-out infinite",premium:!0},rainbow:{name:"Rainbow Prism",cost:150,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(255, 140, 0, 0.2)",glowEffect:"0 0 40px rgba(255, 0, 128, 0.6), 0 0 60px rgba(64, 224, 208, 0.5)",borderStyle:"4px solid rgba(255, 140, 0, 0.8)",animation:"rainbowShift 5s linear infinite",premium:!0},plasma:{name:"Plasma Storm",cost:175,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(255, 0, 255, 0.25)",glowEffect:"0 0 45px rgba(255, 0, 255, 0.8), 0 0 70px rgba(0, 255, 255, 0.6)",borderStyle:"5px solid rgba(255, 0, 255, 1)",animation:"plasmaFlow 4s ease-in-out infinite",premium:!0},snowflake:{name:"Snowflake Frost",cost:95,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(179, 217, 255, 0.3)",glowEffect:"0 0 30px rgba(179, 217, 255, 0.9), 0 0 50px rgba(230, 242, 255, 0.7)",borderStyle:"3px solid rgba(179, 217, 255, 1)",animation:"snowfall 5s linear infinite",premium:!0,seasonal:"winter"},sakura:{name:"Sakura Petals",cost:95,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(255, 179, 186, 0.3)",glowEffect:"0 0 30px rgba(255, 159, 243, 0.8), 0 0 50px rgba(255, 179, 186, 0.6)",borderStyle:"3px solid rgba(255, 159, 243, 0.9)",animation:"petalFloat 6s ease-in-out infinite",premium:!0,seasonal:"spring"},tropical:{name:"Tropical Paradise",cost:95,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(254, 202, 87, 0.3)",glowEffect:"0 0 35px rgba(255, 107, 53, 0.8), 0 0 55px rgba(254, 202, 87, 0.6)",borderStyle:"3px solid rgba(255, 107, 53, 0.9)",animation:"heatWave 3s ease-in-out infinite",premium:!0,seasonal:"summer"},harvest:{name:"Harvest Moon",cost:95,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(230, 126, 34, 0.3)",glowEffect:"0 0 30px rgba(211, 84, 0, 0.9), 0 0 50px rgba(230, 126, 34, 0.7)",borderStyle:"3px solid rgba(211, 84, 0, 1)",animation:"autumnGlow 4s ease-in-out infinite",premium:!0,seasonal:"autumn"},pumpkin:{name:"Pumpkin Spice",cost:100,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(255, 107, 53, 0.3)",glowEffect:"0 0 40px rgba(155, 89, 182, 0.9), 0 0 60px rgba(255, 107, 53, 0.7)",borderStyle:"4px solid rgba(155, 89, 182, 1)",animation:"spookyPulse 2s ease-in-out infinite",premium:!0,seasonal:"halloween"},holly:{name:"Holly Jolly",cost:100,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(231, 76, 60, 0.3)",glowEffect:"0 0 40px rgba(39, 174, 96, 0.9), 0 0 60px rgba(231, 76, 60, 0.7)",borderStyle:"4px solid rgba(39, 174, 96, 1)",animation:"festiveGlow 3s ease-in-out infinite",premium:!0,seasonal:"christmas"},cupid:{name:"Cupid's Arrow",cost:95,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(233, 30, 99, 0.3)",glowEffect:"0 0 35px rgba(255, 128, 171, 0.9), 0 0 55px rgba(233, 30, 99, 0.7)",borderStyle:"3px solid rgba(255, 128, 171, 1)",animation:"heartbeat 2s ease-in-out infinite",premium:!0,seasonal:"valentines"},fireworks:{name:"Fireworks Burst",cost:100,cardBack:"url(".concat("/nebula-elemental-battle","/cards-back.png)"),handBackground:"rgba(255, 215, 0, 0.3)",glowEffect:"0 0 45px rgba(255, 107, 53, 1), 0 0 65px rgba(155, 89, 182, 0.8)",borderStyle:"4px solid rgba(255, 215, 0, 1)",animation:"fireworksPop 2.5s ease-in-out infinite",premium:!0,seasonal:"newyear"}},z={cosmic:{name:"Cosmic Battlefield",cost:0,background:"radial-gradient(ellipse at center, rgba(30, 30, 60, 0.95) 0%, rgba(15, 15, 45, 0.97) 50%, rgba(10, 10, 30, 0.98) 100%)",overlay:"linear-gradient(180deg, rgba(138, 43, 226, 0.15) 0%, rgba(75, 0, 130, 0.05) 25%, transparent 50%, rgba(0, 119, 190, 0.05) 75%, rgba(0, 191, 255, 0.15) 100%)",borderGlow:"0 0 50px rgba(138, 43, 226, 0.7), 0 0 80px rgba(0, 191, 255, 0.4), inset 0 0 50px rgba(0, 191, 255, 0.35)",particles:"rgba(255, 255, 255, 0.9)",particleCount:60,animation:"cosmicFloat 8s ease-in-out infinite",premium:!1},volcano:{name:"Volcanic Arena",cost:75,background:"radial-gradient(ellipse at center, rgba(50, 20, 10, 0.95) 0%, rgba(35, 15, 8, 0.97) 50%, rgba(20, 10, 5, 0.98) 100%)",overlay:"linear-gradient(180deg, rgba(255, 69, 0, 0.25) 0%, rgba(255, 100, 30, 0.1) 25%, transparent 50%, rgba(255, 140, 0, 0.1) 75%, rgba(255, 140, 0, 0.2) 100%)",borderGlow:"0 0 55px rgba(255, 69, 0, 0.9), 0 0 85px rgba(255, 140, 0, 0.5), inset 0 0 60px rgba(255, 140, 0, 0.45)",particles:"rgba(255, 140, 0, 1)",particleCount:100,animation:"lavaFlow 5s ease-in-out infinite",premium:!0},ice:{name:"Frozen Tundra",cost:75,background:"radial-gradient(ellipse at center, rgba(20, 40, 60, 0.95) 0%, rgba(15, 30, 48, 0.97) 50%, rgba(10, 20, 35, 0.98) 100%)",overlay:"linear-gradient(180deg, rgba(173, 216, 230, 0.25) 0%, rgba(135, 206, 250, 0.1) 25%, transparent 50%, rgba(100, 180, 220, 0.1) 75%, rgba(135, 206, 250, 0.2) 100%)",borderGlow:"0 0 55px rgba(0, 191, 255, 0.9), 0 0 85px rgba(173, 216, 230, 0.5), inset 0 0 60px rgba(173, 216, 230, 0.5)",particles:"rgba(173, 216, 230, 1)",particleCount:120,animation:"frostShimmer 6s ease-in-out infinite",premium:!0},forest:{name:"Enchanted Forest",cost:80,background:"radial-gradient(ellipse at center, rgba(20, 40, 20, 0.95) 0%, rgba(15, 32, 15, 0.97) 50%, rgba(10, 25, 10, 0.98) 100%)",overlay:"linear-gradient(180deg, rgba(34, 139, 34, 0.25) 0%, rgba(40, 180, 40, 0.1) 25%, transparent 50%, rgba(50, 205, 50, 0.1) 75%, rgba(50, 205, 50, 0.2) 100%)",borderGlow:"0 0 50px rgba(34, 139, 34, 0.9), 0 0 80px rgba(50, 205, 50, 0.5), inset 0 0 55px rgba(50, 205, 50, 0.45)",particles:"rgba(144, 238, 144, 1)",particleCount:85,animation:"leafRustle 7s ease-in-out infinite",premium:!0},desert:{name:"Desert Wasteland",cost:70,background:"radial-gradient(ellipse at center, rgba(60, 50, 30, 0.95) 0%, rgba(50, 43, 25, 0.97) 50%, rgba(40, 35, 20, 0.98) 100%)",overlay:"linear-gradient(180deg, rgba(244, 164, 96, 0.25) 0%, rgba(230, 150, 90, 0.1) 25%, transparent 50%, rgba(210, 180, 140, 0.1) 75%, rgba(210, 180, 140, 0.2) 100%)",borderGlow:"0 0 50px rgba(244, 164, 96, 0.8), 0 0 75px rgba(210, 180, 140, 0.4), inset 0 0 50px rgba(210, 180, 140, 0.4)",particles:"rgba(244, 164, 96, 0.9)",particleCount:110,animation:"sandStorm 4s ease-in-out infinite",premium:!0},ocean:{name:"Ocean Depths",cost:85,background:"radial-gradient(ellipse at center, rgba(10, 30, 50, 0.95) 0%, rgba(8, 23, 40, 0.97) 50%, rgba(5, 15, 30, 0.98) 100%)",overlay:"linear-gradient(180deg, rgba(0, 119, 190, 0.25) 0%, rgba(0, 140, 200, 0.1) 25%, transparent 50%, rgba(0, 150, 199, 0.1) 75%, rgba(0, 150, 199, 0.2) 100%)",borderGlow:"0 0 55px rgba(0, 119, 190, 0.9), 0 0 90px rgba(0, 191, 255, 0.5), inset 0 0 60px rgba(0, 191, 255, 0.5)",particles:"rgba(64, 224, 208, 1)",particleCount:130,animation:"waveFlow 8s ease-in-out infinite",premium:!0},electric:{name:"Lightning Storm",cost:90,background:"radial-gradient(ellipse at center, rgba(30, 30, 50, 0.95) 0%, rgba(23, 23, 40, 0.97) 50%, rgba(15, 15, 30, 0.98) 100%)",overlay:"linear-gradient(180deg, rgba(255, 255, 0, 0.2) 0%, rgba(255, 255, 100, 0.08) 25%, transparent 50%, rgba(138, 43, 226, 0.08) 75%, rgba(138, 43, 226, 0.15) 100%)",borderGlow:"0 0 60px rgba(255, 255, 0, 1), 0 0 95px rgba(138, 43, 226, 0.6), inset 0 0 65px rgba(138, 43, 226, 0.6)",particles:"rgba(255, 255, 0, 1)",particleCount:150,animation:"electricPulse 2s ease-in-out infinite",premium:!0},shadow:{name:"Shadow Realm",cost:95,background:"radial-gradient(ellipse at center, rgba(15, 15, 20, 0.98) 0%, rgba(10, 10, 15, 0.99) 50%, rgba(5, 5, 10, 1) 100%)",overlay:"linear-gradient(180deg, rgba(75, 0, 130, 0.25) 0%, rgba(100, 20, 150, 0.1) 25%, transparent 50%, rgba(138, 43, 226, 0.1) 75%, rgba(138, 43, 226, 0.2) 100%)",borderGlow:"0 0 55px rgba(75, 0, 130, 1), 0 0 85px rgba(138, 43, 226, 0.6), inset 0 0 60px rgba(138, 43, 226, 0.6)",particles:"rgba(138, 43, 226, 1)",particleCount:75,animation:"shadowDrift 9s ease-in-out infinite",premium:!0},celestial:{name:"Celestial Palace",cost:100,background:"radial-gradient(ellipse at center, rgba(255, 250, 240, 0.18) 0%, rgba(255, 240, 220, 0.12) 30%, rgba(255, 228, 196, 0.1) 50%, rgba(50, 50, 100, 0.96) 75%, rgba(30, 30, 60, 0.98) 100%)",overlay:"linear-gradient(180deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 230, 100, 0.1) 25%, transparent 50%, rgba(255, 255, 255, 0.08) 75%, rgba(255, 255, 255, 0.15) 100%)",borderGlow:"0 0 65px rgba(255, 215, 0, 1), 0 0 100px rgba(255, 255, 255, 0.6), inset 0 0 70px rgba(255, 255, 255, 0.6)",particles:"rgba(255, 215, 0, 1)",particleCount:180,animation:"holyGlow 5s ease-in-out infinite",premium:!0},inferno:{name:"Demonic Inferno",cost:110,background:"radial-gradient(ellipse at center, rgba(60, 10, 10, 0.95) 0%, rgba(45, 8, 8, 0.97) 50%, rgba(30, 5, 5, 0.98) 100%)",overlay:"linear-gradient(180deg, rgba(220, 20, 60, 0.3) 0%, rgba(240, 40, 70, 0.12) 25%, transparent 50%, rgba(255, 69, 0, 0.12) 75%, rgba(255, 69, 0, 0.25) 100%)",borderGlow:"0 0 65px rgba(220, 20, 60, 1), 0 0 100px rgba(255, 69, 0, 0.7), inset 0 0 70px rgba(255, 69, 0, 0.7)",particles:"rgba(220, 20, 60, 1)",particleCount:200,animation:"infernalBlaze 3s ease-in-out infinite",premium:!0},aurora:{name:"Aurora Borealis",cost:125,background:"radial-gradient(ellipse at center, rgba(10, 30, 50, 0.95) 0%, rgba(8, 35, 55, 0.97) 50%, rgba(5, 25, 45, 0.98) 100%)",overlay:"linear-gradient(180deg, rgba(0, 230, 184, 0.25) 0%, rgba(50, 240, 200, 0.1) 25%, transparent 50%, rgba(100, 200, 255, 0.1) 75%, rgba(150, 150, 255, 0.2) 100%)",borderGlow:"0 0 70px rgba(0, 230, 184, 1), 0 0 110px rgba(150, 150, 255, 0.7), inset 0 0 75px rgba(0, 230, 184, 0.6)",particles:"rgba(0, 230, 184, 1)",particleCount:160,animation:"auroraShift 10s ease-in-out infinite",premium:!0},nebula:{name:"Nebula Expanse",cost:140,background:"radial-gradient(ellipse at center, rgba(26, 0, 51, 0.95) 0%, rgba(50, 10, 80, 0.97) 30%, rgba(77, 0, 153, 0.98) 60%, rgba(50, 10, 80, 0.97) 85%, rgba(26, 0, 51, 0.98) 100%)",overlay:"linear-gradient(180deg, rgba(153, 51, 255, 0.3) 0%, rgba(200, 100, 255, 0.12) 25%, transparent 50%, rgba(255, 0, 255, 0.12) 75%, rgba(255, 0, 255, 0.25) 100%)",borderGlow:"0 0 80px rgba(255, 0, 255, 1), 0 0 130px rgba(153, 51, 255, 0.8), inset 0 0 85px rgba(255, 0, 255, 0.7)",particles:"rgba(255, 0, 255, 1)",particleCount:250,animation:"nebulaSwirl 12s ease-in-out infinite",premium:!0}},B=()=>{const e=localStorage.getItem(L);return e?JSON.parse(e):{colorTheme:"classic",handTheme:"standard",arenaTheme:"cosmic",ownedThemes:["classic","standard","cosmic"],coins:0}},U=e=>{localStorage.setItem(L,JSON.stringify(e))},H=e=>{const t=D[e];if(!t)return;const n=document.documentElement;n.style.setProperty("--theme-primary",t.primary),n.style.setProperty("--theme-secondary",t.secondary),n.style.setProperty("--theme-accent",t.accent),n.style.setProperty("--theme-background",t.background),n.style.setProperty("--theme-card-border",t.cardBorder),n.style.setProperty("--theme-text-color",t.textColor)},G=e=>{const t=F[e];if(!t)return;const n=document.documentElement;n.style.setProperty("--hand-card-back",t.cardBack),n.style.setProperty("--hand-background",t.handBackground),n.style.setProperty("--hand-glow-effect",t.glowEffect)},W=e=>{const t=z[e];if(!t)return;const n=document.documentElement;n.style.setProperty("--arena-background",t.background),n.style.setProperty("--arena-overlay",t.overlay),n.style.setProperty("--arena-border-glow",t.borderGlow),n.style.setProperty("--arena-particles",t.particles)},q=e=>{var t,n,r,l,s,o,i,c,d,f,m,p,h,g,v,y,b,E,x,S,k,N,w;let{gameState:M,currentPlayerId:L,onPlayCard:D,onStartGame:U,onPlayAgain:H,onDrawFromReserve:G,onSkipAbility:W,onForfeit:q,onQuit:V,settings:Y,isStoryMode:$}=e;const K=null===M||void 0===M||null===(t=M.players)||void 0===t?void 0:t.find(e=>e.id===L),Q=null===M||void 0===M||null===(n=M.players)||void 0===n?void 0:n.find(e=>!e.isAI),J=null===M||void 0===M||null===(r=M.players)||void 0===r?void 0:r.find(e=>e.isAI),X=null===K||void 0===K?void 0:K.active,[Z,ee]=(0,a.useState)(!0),[te,ne]=(0,a.useState)(!1),[ae,re]=(0,a.useState)(null),[le,se]=(0,a.useState)({playerId:null,round:-1}),[oe,ie]=(0,a.useState)(20),ce=(0,a.useRef)(null),[ue,de]=(0,a.useState)([]),[fe,me]=(0,a.useState)(!1),[pe,he]=(0,a.useState)(!1),[ge,ve]=(0,a.useState)(null),[ye,be]=(0,a.useState)(!1),[Ee,xe]=(0,a.useState)(!1),[Se,ke]=(0,a.useState)(!1),[Ne,we]=(0,a.useState)(!1),[Ce,Te]=(0,a.useState)(!1),[Ae,je]=(0,a.useState)(1),Re=(0,a.useRef)(0),[Pe,Ie]=(0,a.useState)([]),[Oe,Me]=((0,a.useRef)({}),(0,a.useState)(!1)),[_e,Le]=(0,a.useState)(null),[De,Fe]=(0,a.useState)("standard"),[ze,Be]=(0,a.useState)("cosmic"),[Ue,He]=(0,a.useState)(!1),Ge=(0,a.useRef)(!1),[We,qe]=(0,a.useState)("none");(0,a.useEffect)(()=>{const e=()=>{const e=B();Fe(e.handTheme||"standard"),Be(e.arenaTheme||"cosmic")};e();const t=t=>{"playerThemes"===t.key&&e()};window.addEventListener("storage",t);const n=()=>e();return window.addEventListener("themeUpdated",n),()=>{window.removeEventListener("storage",t),window.removeEventListener("themeUpdated",n)}},[]);const Ve=e=>null!==e&&void 0!==e&&e.playedCards&&0!==e.playedCards.length?e.playedCards.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0):0,Ye=Ve(Q),$e=Ve(J);(0,a.useEffect)(()=>{const e=e=>{"Escape"!==e.key||null===M||void 0===M||!M.gameStarted||null!==M&&void 0!==M&&M.gameOver||me(e=>!e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[null===M||void 0===M?void 0:M.gameStarted,null===M||void 0===M?void 0:M.gameOver]),(0,a.useEffect)(()=>{if(null===M||void 0===M||!M.playedCards||!ce.current)return;const e=M.playedCards.length,t=ue.length;if(e>t){M.playedCards.slice(t).forEach((t,n)=>{setTimeout(()=>{if(!ce.current)return;const a=ce.current.getBoundingClientRect(),r=a.width/2+100*(Math.random()-.5),l=a.height/2+100*(Math.random()-.5),s=t.card.modifiedStrength||t.card.strength;_&&(_.playElementSound(t.card.element),_.playSound("cardFlip"));const o=ce.current.querySelectorAll(".played-card");var i,c;o[e-1+n]&&(i=o[e-1+n])&&(i.classList.add("card-flipping"),setTimeout(()=>{i.classList.remove("card-flipping")},600)),R(t.card.element,r,l,ce.current),s>=10&&(_&&_.playSound("powerPlay"),P(t.card.modifiedStrength||t.card.strength,r,l-50,ce.current,!1,!1),(c=ce.current)&&(c.classList.add("shake"),setTimeout(()=>{c.classList.remove("shake")},500)))},200*n)}),de(M.playedCards)}},[null===M||void 0===M||null===(l=M.playedCards)||void 0===l?void 0:l.length,ce]),(0,a.useEffect)(()=>{var e;if(null===M||void 0===M||!M.gameStarted||null!==M&&void 0!==M&&M.gameOver||null===Q||void 0===Q||!Q.active)null!==Q&&void 0!==Q&&Q.active||xe(!1);else if(0===(null===(e=Q.hand)||void 0===e?void 0:e.length)&&(null===M||void 0===M||!M.battlePhase)&&!Ee){console.log("\ud83d\udd04 Player has no cards - auto-skipping turn"),xe(!0);const e=setTimeout(()=>{q&&q()},1500);return()=>clearTimeout(e)}},[null===Q||void 0===Q?void 0:Q.active,null===Q||void 0===Q||null===(s=Q.hand)||void 0===s?void 0:s.length,null===M||void 0===M?void 0:M.gameStarted,null===M||void 0===M?void 0:M.gameOver,null===M||void 0===M?void 0:M.battlePhase,q,Ee]),(0,a.useEffect)(()=>{null!==M&&void 0!==M&&M.gameOver&&$&&M.winner!==(null===Q||void 0===Q?void 0:Q.name)&&"Tie"!==M.winner?ve(10):null!==M&&void 0!==M&&M.gameOver&&ve(null)},[null===M||void 0===M?void 0:M.gameOver,null===M||void 0===M?void 0:M.winner,null===Q||void 0===Q?void 0:Q.name,$]),(0,a.useEffect)(()=>{if(null===ge)return;if(ge<=0)return be(!0),void setTimeout(()=>{V()},1e3);const e=setTimeout(()=>{ve(e=>e-1)},1e3);return()=>clearTimeout(e)},[ge,V]);(0,a.useEffect)(()=>{null!==M&&void 0!==M&&M.gameOver&&ce.current&&setTimeout(()=>{if(!ce.current)return;const e="Tie"===M.winner?"tie":M.winner;_&&("tie"===e||e===(null===Q||void 0===Q?void 0:Q.name)?_.playSound("victory"):_.playSound("defeat"),_.stopMusic()),((e,t)=>{if(!t)return console.warn("Victory celebration: container is null"),null;const n=document.createElement("div");n.className="victory-celebration";const a=document.createElement("div");a.className="victory-text",a.textContent="tie"===e?"TIE!":"VICTORY!";const r=document.createElement("div");r.className="victory-subtext",r.textContent="tie"===e?"Perfect Balance":"".concat(e," Wins!"),n.appendChild(a),n.appendChild(r),t.appendChild(n);const l=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffd700"];for(let s=0;s<50;s++){const e=document.createElement("div");e.className="confetti-piece",e.style.setProperty("--color",l[Math.floor(Math.random()*l.length)]),e.style.setProperty("--left","".concat(100*Math.random(),"%")),e.style.setProperty("--delay","".concat(.5*Math.random(),"s")),t.appendChild(e),setTimeout(()=>{e.remove()},3500)}setTimeout(()=>{n.remove()},4e3)})(e,ce.current)},500)},[null===M||void 0===M?void 0:M.gameOver,null===M||void 0===M?void 0:M.winner,null===Q||void 0===Q?void 0:Q.name]),(0,a.useEffect)(()=>{var e,t;const n=null===M||void 0===M||null===(e=M.players)||void 0===e||null===(t=e.find(e=>e.active))||void 0===t?void 0:t.id,a=(null===M||void 0===M?void 0:M.currentRound)||0;if(null!==M&&void 0!==M&&M.gameStarted&&(null===M||void 0===M||!M.gameOver)&&n){const e=n!==le.playerId,t=a!==le.round;if(console.log("\ud83d\udd14 Turn announcement check:",{activePlayerId:n,lastPlayerId:le.playerId,playerChanged:e,roundChanged:t,showRoundAnnouncement:Ce}),e||t){if(se({playerId:n,round:a}),ie(20),Ce)return void console.log("\u23f8\ufe0f Delaying turn announcement - round announcement active");console.log("\ud83d\udce2 Showing turn announcement for:",n===L?"Player":"AI"),ee(!0),_&&(n===L?_.playSound("yourTurn"):_.playSound("opponentTurn"));const e=setTimeout(()=>{ee(!1)},n===L?1500:1200);return()=>clearTimeout(e)}}},[null===M||void 0===M?void 0:M.players,null===M||void 0===M?void 0:M.currentRound,null===M||void 0===M?void 0:M.gameStarted,null===M||void 0===M?void 0:M.gameOver,Ce]),(0,a.useEffect)(()=>{if(null!==M&&void 0!==M&&M.gameStarted&&(null===M||void 0===M||!M.gameOver)&&!Ge.current){if(Ge.current=!0,He(!0),ce.current){ce.current.querySelectorAll(".reserve-deck-stack, .vertical-card-stack").forEach(e=>{(e=>{if(!e)return null;const t=document.createElement("div");t.className="shuffle-animation";for(let n=0;n<5;n++){const e=document.createElement("div");e.className="shuffle-card",e.textContent="\ud83c\udfb4",e.style.animationDelay="".concat(.1*n,"s"),t.appendChild(e)}e.appendChild(t),setTimeout(()=>{t.remove()},1500)})(e)})}const e=setTimeout(()=>{ce.current&&O("Battle Begin!",ce.current)},6e3),t=setTimeout(()=>{He(!1)},11e3);return()=>{clearTimeout(e),clearTimeout(t)}}null!==M&&void 0!==M&&M.gameOver&&(Ge.current=!1,He(!1))},[null===M||void 0===M?void 0:M.gameStarted,null===M||void 0===M?void 0:M.gameOver]),(0,a.useEffect)(()=>{const e=((null===M||void 0===M?void 0:M.currentRound)||0)+1;if(null!==M&&void 0!==M&&M.gameStarted&&(null===M||void 0===M||!M.gameOver)&&!Ue&&e!==Re.current){const t=setTimeout(()=>{if(Re.current=e,je(e),Te(!0),_&&_.playSound("yourTurn"),ce.current&&O("Round ".concat(e),ce.current),ce.current){I(ce.current);const e=["rain","snow","leaves","embers"];let t=e[Math.floor(Math.random()*e.length)];ze.includes("ice")||ze.includes("frost")?t="snow":ze.includes("fire")||ze.includes("flame")?t="embers":ze.includes("forest")||ze.includes("nature")?t="leaves":(ze.includes("water")||ze.includes("ocean"))&&(t="rain"),((e,t)=>{if(!t)return null;const n=document.createElement("div");switch(n.className="environmental-effect ".concat(e),e){case"rain":for(let t=0;t<50;t++){const e=document.createElement("div");e.className="rain-drop",e.style.left="".concat(100*Math.random(),"%"),e.style.animationDelay="".concat(2*Math.random(),"s"),e.style.animationDuration="".concat(.5+.5*Math.random(),"s"),n.appendChild(e)}break;case"snow":for(let t=0;t<40;t++){const e=document.createElement("div");e.className="snow-flake",e.textContent="\u2744\ufe0f",e.style.left="".concat(100*Math.random(),"%"),e.style.animationDelay="".concat(3*Math.random(),"s"),e.style.animationDuration="".concat(3+2*Math.random(),"s"),e.style.fontSize="".concat(12+8*Math.random(),"px"),n.appendChild(e)}break;case"leaves":for(let t=0;t<30;t++){const e=document.createElement("div");e.className="falling-leaf",e.textContent=["\ud83c\udf42","\ud83c\udf41"][Math.floor(2*Math.random())],e.style.left="".concat(100*Math.random(),"%"),e.style.animationDelay="".concat(5*Math.random(),"s"),e.style.animationDuration="".concat(4+3*Math.random(),"s"),n.appendChild(e)}break;case"embers":for(let t=0;t<25;t++){const e=document.createElement("div");e.className="floating-ember",e.textContent="\ud83d\udd25",e.style.left="".concat(100*Math.random(),"%"),e.style.animationDelay="".concat(3*Math.random(),"s"),e.style.animationDuration="".concat(2+2*Math.random(),"s"),e.style.fontSize="".concat(8+6*Math.random(),"px"),n.appendChild(e)}break;case"lightning":const e=document.createElement("div");e.className="lightning-flash",n.appendChild(e),setTimeout(()=>{e.remove()},200)}t.appendChild(n)})(t,ce.current)}},500);return()=>clearTimeout(t)}null!==M&&void 0!==M&&M.gameOver&&(Re.current=0,ce.current&&I(ce.current))},[null===M||void 0===M?void 0:M.currentRound,null===M||void 0===M?void 0:M.gameStarted,null===M||void 0===M?void 0:M.gameOver,Ue,ze]),(0,a.useEffect)(()=>{if(_)return null===M||void 0===M||!M.gameStarted||null!==M&&void 0!==M&&M.gameOver||_.backgroundMusic||_.playMusic("calm"),()=>{_&&null!==M&&void 0!==M&&M.gameOver&&_.stopMusic()}},[null===M||void 0===M?void 0:M.gameStarted,null===M||void 0===M?void 0:M.gameOver]),(0,a.useEffect)(()=>{_&&(fe?_.pauseMusic():_.resumeMusic())},[fe]);(0,a.useEffect)(()=>{if(null===Y||void 0===Y||!Y.timerEnabled||null!==M&&void 0!==M&&M.gameOver||null!==M&&void 0!==M&&M.pendingAbility||fe||Ce||Z)return;if(!X)return;let e=!1;const t=setTimeout(()=>{e=!0},3e3),n=setInterval(()=>{e&&ie(e=>{if(e<=1){var t;return(null===K||void 0===K||null===(t=K.hand)||void 0===t?void 0:t.length)>0?(console.log("Turn timer expired - forfeiting turn"),he(!0),setTimeout(()=>{he(!1)},2e3),_&&_.playSound("defeat"),q&&q()):(console.log("Turn timer expired - player has no cards, skipping turn"),q&&q()),30}return e-1})},1e3);return()=>{clearTimeout(t),clearInterval(n)}},[X,null===Y||void 0===Y?void 0:Y.timerEnabled,null===M||void 0===M?void 0:M.gameOver,null===M||void 0===M?void 0:M.pendingAbility,fe,Ce,Z]),(0,a.useEffect)(()=>{if(null===Y||void 0===Y||!Y.keyboardEnabled||!X||null!==M&&void 0!==M&&M.gameOver||null!==M&&void 0!==M&&M.pendingAbility)return;const e=e=>{const t=e.key;if(t>="1"&&t<="5"){var n;const e=parseInt(t)-1;(null===K||void 0===K||null===(n=K.hand)||void 0===n?void 0:n.length)>e&&Ke(e)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[X,null===Y||void 0===Y?void 0:Y.keyboardEnabled,null===M||void 0===M?void 0:M.gameOver,null===M||void 0===M?void 0:M.pendingAbility,null===K||void 0===K?void 0:K.hand]),(0,a.useEffect)(()=>{if(null!==M&&void 0!==M&&M.lastMatchBonus){ne(!0);const e=setTimeout(()=>{ne(!1)},2e3);return()=>clearTimeout(e)}},[null===M||void 0===M?void 0:M.lastMatchBonus]),(0,a.useEffect)(()=>{var e,t;if(null===M||void 0===M||!M.playedCards||M.playedCards.length<2)return;if(!ce.current)return;const n=null===Q||void 0===Q||null===(e=Q.playedCards)||void 0===e?void 0:e[Q.playedCards.length-1],a=null===J||void 0===J||null===(t=J.playedCards)||void 0===t?void 0:t[J.playedCards.length-1];if(n&&a){const e=n.modifiedStrength||n.strength,t=a.modifiedStrength||a.strength;if(e!==t){const n=e>t,a=ce.current.querySelectorAll(n?".player-row .played-card-wrapper":".ai-row .played-card-wrapper");if(a.length>0){const e=a[a.length-1];setTimeout(()=>{if(e&&((e=>{if(!e)return null;e.classList.add("victory-pose");const t=document.createElement("div");t.className="victory-glow",e.appendChild(t);for(let n=0;n<12;n++){const t=document.createElement("div");t.className="victory-sparkle",t.textContent="\u2728",t.style.setProperty("--angle","".concat(n/12*360,"deg")),t.style.animationDelay="".concat(.1*n,"s"),e.appendChild(t),setTimeout(()=>{t.remove()},2e3)}setTimeout(()=>{e.classList.remove("victory-pose"),t.remove()},2500)})(e),null!==M&&void 0!==M&&M.lastMatchBonus)){const t=e.getBoundingClientRect(),n=ce.current.getBoundingClientRect();((e,t,n,a)=>{if(!a)return null;const r=document.createElement("div");r.className="combo-multiplier",r.textContent=e,r.style.left="".concat(t,"px"),r.style.top="".concat(n,"px"),a.appendChild(r),setTimeout(()=>{r.remove()},1e3)})("MATCH!",t.left-n.left+t.width/2,t.top-n.top,ce.current)}},500)}}}},[null===M||void 0===M||null===(o=M.playedCards)||void 0===o?void 0:o.length,null===Q||void 0===Q?void 0:Q.playedCards,null===J||void 0===J?void 0:J.playedCards,null===M||void 0===M?void 0:M.lastMatchBonus]),(0,a.useEffect)(()=>{if(null===M||void 0===M||!M.meteorDamageEvents||0===M.meteorDamageEvents.length)return;const e=M.meteorDamageEvents[M.meteorDamageEvents.length-1];if(e&&e.timestamp){!Pe.find(t=>t.timestamp===e.timestamp)&&e.damagedCards&&e.damagedCards.length>0&&(Le({cardsHit:e.totalCards,cardsDestroyed:e.cardsDestroyed,targetName:e.playerName}),Me(!0),setTimeout(()=>{Me(!1)},1500),e.damagedCards.forEach((t,n)=>{setTimeout(()=>{if(ce.current){const t=ce.current.getBoundingClientRect(),a=t.width/2+120*(n-e.damagedCards.length/2),r=e.targetPlayer===L?t.height-200:200;P(-1,a,r,ce.current,!1,!1,!0),0===n&&_&&_.playSound("defeat")}},150*n)}),Ie(t=>[...t,e]),setTimeout(()=>{Ie(t=>t.filter(t=>t.timestamp!==e.timestamp))},5e3))}},[null===M||void 0===M?void 0:M.meteorDamageEvents,L]),(0,a.useEffect)(()=>{if(null!==J&&void 0!==J&&J.chosenCard&&!X&&null!==M&&void 0!==M&&M.gameStarted&&(null===M||void 0===M||!M.gameOver)){var e;const t=(null===(e=J.playedCards)||void 0===e?void 0:e.length)||0;t>Math.max(0,t-1)&&(re({card:J.chosenCard,isPlayer:!1}),setTimeout(()=>{re(null)},1e3))}},[null===J||void 0===J||null===(i=J.playedCards)||void 0===i?void 0:i.length]),(0,a.useEffect)(()=>{var e;if(null!==M&&void 0!==M&&M.gameStarted&&(null===M||void 0===M||!M.gameOver)&&J&&J.active&&(null===(e=J.hand)||void 0===e?void 0:e.length)>0&&!J.chosenCard&&!M.battlePhase&&!Ce&&!Z){console.log("\u26a0\ufe0f AI WATCHDOG: AI should be playing but appears stuck",{aiActive:J.active,aiHandSize:J.hand.length,aiChosen:J.chosenCard,battlePhase:M.battlePhase});const e=setTimeout(()=>{var e;if(Ue)console.log("\u23f8\ufe0f AI watchdog blocked - arena display in progress");else if(Ce)console.log("\u23f8\ufe0f AI watchdog blocked - round announcement in progress");else if(J.active&&(null===(e=J.hand)||void 0===e?void 0:e.length)>0&&!J.chosenCard){console.log("\ud83d\udea8 AI WATCHDOG: Forcing AI to play");const e=Math.floor(Math.random()*J.hand.length);D(e,J.id)}},5e3);return()=>clearTimeout(e)}},[null===J||void 0===J?void 0:J.active,null===J||void 0===J||null===(c=J.hand)||void 0===c?void 0:c.length,null===J||void 0===J?void 0:J.chosenCard,null===M||void 0===M?void 0:M.battlePhase,null===M||void 0===M?void 0:M.gameStarted,null===M||void 0===M?void 0:M.gameOver,Ce,Z,D,null===J||void 0===J?void 0:J.id,Ue]),(0,a.useEffect)(()=>{if(null===M||void 0===M||!M.gameStarted||null!==M&&void 0!==M&&M.gameOver)return;if(Q&&J&&!Q.active&&!J.active&&!M.battlePhase&&!M.pendingAbility||M.battlePhase&&(!(null!==Q&&void 0!==Q&&Q.chosenCard)||!(null!==J&&void 0!==J&&J.chosenCard))){console.warn("\u26a0\ufe0f STUCK DETECTOR: Game appears stuck!",{battlePhase:M.battlePhase,playerActive:null===Q||void 0===Q?void 0:Q.active,aiActive:null===J||void 0===J?void 0:J.active,playerChosen:!(null===Q||void 0===Q||!Q.chosenCard),aiChosen:!(null===J||void 0===J||!J.chosenCard),pendingAbility:!!M.pendingAbility,currentRound:M.currentRound});const e=setTimeout(()=>{var e;if(console.log("\ud83d\udd27 Attempting to recover stuck game..."),!M.battlePhase||null!==Q&&void 0!==Q&&Q.chosenCard&&null!==J&&void 0!==J&&J.chosenCard){if((null===Q||void 0===Q||!Q.active)&&(null===J||void 0===J||!J.active)&&!M.battlePhase&&!M.pendingAbility){var t,n;if(console.log("\ud83d\udd27 Both players inactive - forcing player active"),(null===Q||void 0===Q||null===(t=Q.deck)||void 0===t?void 0:t.length)>0&&G)G();else if((null===Q||void 0===Q||null===(n=Q.hand)||void 0===n?void 0:n.length)>0){const e=Math.floor(Math.random()*Q.hand.length);D(e,Q.id)}}}else if(console.log("\ud83d\udd27 Battle phase stuck - resetting to player turn"),(null===Q||void 0===Q||null===(e=Q.hand)||void 0===e?void 0:e.length)>0){const e=Math.floor(Math.random()*Q.hand.length);D(e,Q.id)}},2e3);return()=>clearTimeout(e)}},[Q,J,M,D,G]),(0,a.useEffect)(()=>{if(null===M||void 0===M||!M.gameStarted||null!==M&&void 0!==M&&M.gameOver)return;const e=!(null!==Q&&void 0!==Q&&Q.hand)||0===Q.hand.length,t=!(null!==J&&void 0!==J&&J.hand)||0===J.hand.length;if(e&&t){var n,a;console.log("\ud83c\udfc1 Both players have no cards - ending game");const e=(null===Q||void 0===Q||null===(n=Q.playedCards)||void 0===n?void 0:n.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0))||0,t=(null===J||void 0===J||null===(a=J.playedCards)||void 0===a?void 0:a.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0))||0;console.log("Final totals - Human:",e,"AI:",t),setTimeout(()=>{q&&q()},500)}},[null===Q||void 0===Q||null===(d=Q.hand)||void 0===d?void 0:d.length,null===J||void 0===J||null===(f=J.hand)||void 0===f?void 0:f.length,null===M||void 0===M?void 0:M.gameStarted,null===M||void 0===M?void 0:M.gameOver,null===Q||void 0===Q?void 0:Q.playedCards,null===J||void 0===J?void 0:J.playedCards,q]);const Ke=e=>{if(Ue)console.log("\u23f8\ufe0f Card click blocked - arena display in progress");else if(Ce)console.log("\u23f8\ufe0f Card click blocked - round announcement in progress");else if(X&&D&&(null===M||void 0===M||!M.gameOver)&&!fe&&(null===M||void 0===M||!M.pendingAbility)){const t=K.hand[e];if(ce.current){const e=ce.current.getBoundingClientRect(),n=e.width/2,a=e.height/2;R(t.element,n,a,ce.current)}re({card:t,isPlayer:!0}),setTimeout(()=>{re(null),D(e)},1e3)}};return M?(0,u.jsxs)("div",{className:"game-board",ref:ce,children:[Ce&&(0,u.jsx)(A,{roundNumber:Ae,show:Ce,onComplete:()=>{var e,t;console.log("Round announcement complete, hiding and showing turn announcement..."),Te(!1);const n=null===M||void 0===M||null===(e=M.players)||void 0===e||null===(t=e.find(e=>e.active))||void 0===t?void 0:t.id;if(n){ee(!0),_&&(n===L?_.playSound("yourTurn"):_.playSound("opponentTurn"));setTimeout(()=>{ee(!1)},n===L?1500:1200)}}}),fe&&(0,u.jsx)(T,{onResume:()=>{me(!1)},onForfeit:()=>{me(!1),V&&V()},onQuit:()=>{me(!1),V&&V()}}),M.gameStarted&&!M.gameOver&&(0,u.jsx)("button",{className:"pause-button",onClick:()=>me(!0),title:"Pause (ESC)",children:"\u23f8"}),null!==ge&&(0,u.jsx)("div",{className:"defeat-countdown-overlay ".concat(ye?"fade-out":""),children:(0,u.jsxs)("div",{className:"defeat-countdown-container",children:[(0,u.jsx)("h1",{className:"defeat-title",children:"DEFEATED!"}),(0,u.jsxs)("p",{className:"defeat-message",children:["You were defeated by ",null===J||void 0===J?void 0:J.name]}),(0,u.jsx)("div",{className:"countdown-circle",children:(0,u.jsx)("div",{className:"countdown-number",children:ge})}),(0,u.jsx)("p",{className:"countdown-text",children:"Returning to main menu..."}),(0,u.jsx)("button",{className:"retry-button",onClick:()=>{ve(null),be(!1),H()},children:"TRY AGAIN"})]})}),M.gameOver&&null===ge&&(0,u.jsx)("div",{className:"game-over-overlay",children:(0,u.jsxs)("div",{className:"game-over-container",children:[(0,u.jsx)("h1",{className:"game-over-title",children:"GAME OVER!"}),(0,u.jsx)("h2",{className:"winner-announcement",children:"Tie"===M.winner?"IT'S A TIE!":(0,u.jsxs)(u.Fragment,{children:[M.winner," WINS!"]})}),(0,u.jsxs)("div",{className:"total-strength-display",children:[(0,u.jsx)("span",{className:"strength-label",children:"Total Strength:"}),(0,u.jsxs)("span",{className:"strength-values",children:[Ye," vs ",$e]})]}),(0,u.jsxs)("div",{className:"final-scores",children:[(0,u.jsxs)("div",{className:"final-score-item",children:[(0,u.jsx)("span",{className:"player-name",children:null===Q||void 0===Q?void 0:Q.name}),(0,u.jsx)("span",{className:"player-score",children:null===Q||void 0===Q?void 0:Q.score})]}),(0,u.jsx)("div",{className:"score-separator",children:"vs"}),(0,u.jsxs)("div",{className:"final-score-item",children:[(0,u.jsx)("span",{className:"player-name",children:null===J||void 0===J?void 0:J.name}),(0,u.jsx)("span",{className:"player-score",children:null===J||void 0===J?void 0:J.score})]})]}),(0,u.jsxs)("div",{className:"game-over-buttons",children:[(0,u.jsx)("button",{className:"play-again-button",onClick:H,children:$?"CONTINUE":"PLAY AGAIN"}),(0,u.jsx)("button",{className:"quit-button",onClick:V,children:"QUIT"})]})]})}),M.gameStarted&&!M.gameOver&&Z&&(0,u.jsx)("div",{className:"turn-announcement",children:X?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("h1",{className:"turn-text your-turn-text",children:"YOUR TURN!"})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h1",{className:"turn-text opponent-turn-text",children:"PLAYER 2 TURN"}),(0,u.jsx)("div",{className:"ai-thinking",children:"AI is thinking..."})]})}),Oe&&_e&&(0,u.jsx)("div",{className:"meteor-strike-overlay",children:(0,u.jsxs)("div",{className:"meteor-strike-text",children:["\u2604\ufe0f METEOR STRIKE! \u2604\ufe0f",(0,u.jsx)("br",{}),(0,u.jsxs)("span",{style:{fontSize:"32px",display:"block",marginTop:"10px"},children:[_e.cardsHit," EARTH ",1===_e.cardsHit?"CARD":"CARDS"," HIT!",_e.cardsDestroyed>0&&(0,u.jsxs)("span",{style:{color:"#ff3300"},children:[" (",_e.cardsDestroyed," DESTROYED)"]})]})]})}),M.gameStarted&&!M.gameOver&&!M.battlePhase&&(0,u.jsx)("div",{className:"floating-timer",children:(0,u.jsxs)("div",{className:"timer-display-small ".concat(oe<=10?"low-time":""),children:[oe,"s"]})}),pe&&(0,u.jsxs)("div",{className:"forfeit-announcement",children:[(0,u.jsx)("h1",{className:"forfeit-text",children:"TIME'S UP!"}),(0,u.jsx)("p",{className:"forfeit-subtext",children:"Turn Forfeited"})]}),te&&(null===M||void 0===M?void 0:M.lastMatchBonus)&&(0,u.jsxs)("div",{className:"match-bonus-overlay ".concat(M.lastMatchBonus.player===(null===K||void 0===K?void 0:K.name)?"player-side":"opponent-side"),children:[(0,u.jsx)("div",{className:"element-particles ".concat(M.lastMatchBonus.element.toLowerCase(),"-particles"),children:Array(40).fill(null).map((e,t)=>(0,u.jsx)("div",{className:"particle"},t))}),(0,u.jsx)("div",{className:"match-starburst",children:Array(12).fill(null).map((e,t)=>(0,u.jsx)("div",{className:"star-ray",style:{"--rotation":"".concat(30*t,"deg")}},t))}),(0,u.jsxs)("h1",{className:"match-bonus-text",children:[M.lastMatchBonus.element," MATCH!",(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:"bonus-subtitle",children:"DOUBLE STRENGTH!"})]})]}),(null===M||void 0===M?void 0:M.lastComboBonus)&&Date.now()-M.lastComboBonus.timestamp<3e3&&(0,u.jsxs)("div",{className:"combo-bonus-overlay",children:["ELEMENT_CHAIN"===M.lastComboBonus.type&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"combo-icon",children:"\u26a1\u26a1\u26a1"}),(0,u.jsx)("h1",{className:"combo-message",children:"ELEMENT CHAIN!"}),(0,u.jsxs)("div",{className:"combo-details",children:[(0,u.jsx)("span",{className:"combo-player",children:"player"===M.lastComboBonus.player?"Player 1":"Player 2"}),(0,u.jsx)("span",{className:"combo-multiplier",children:"3x Strength Multiplier"})]})]}),"SEQUENTIAL"===M.lastComboBonus.type&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"combo-icon",children:"\ud83d\udd04"}),(0,u.jsx)("h1",{className:"combo-message",children:"SEQUENTIAL COMBO!"}),(0,u.jsxs)("div",{className:"combo-details",children:[(0,u.jsx)("span",{className:"combo-player",children:"player"===M.lastComboBonus.player?"Player 1":"Player 2"}),(0,u.jsx)("span",{className:"combo-multiplier",children:"1.5x Strength Multiplier"})]})]}),"OPPOSITION"===M.lastComboBonus.type&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"combo-icon",children:"\u2694\ufe0f"}),(0,u.jsx)("h1",{className:"combo-message",children:"OPPOSITION BONUS!"}),(0,u.jsxs)("div",{className:"combo-details",children:[(0,u.jsx)("span",{className:"combo-player",children:"player"===M.lastComboBonus.player?"Player 1":"Player 2"}),(0,u.jsx)("span",{className:"combo-multiplier",children:"+2 Strength Bonus"})]})]}),"RAINBOW"===M.lastComboBonus.type&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"combo-icon",children:"\ud83c\udf08"}),(0,u.jsx)("h1",{className:"combo-message",children:"RAINBOW MASTERY!"}),(0,u.jsxs)("div",{className:"combo-details",children:[(0,u.jsx)("span",{className:"combo-player",children:"player"===M.lastComboBonus.player?"Player 1":"Player 2"}),(0,u.jsx)("span",{className:"combo-multiplier",children:"INSTANT WIN!"})]})]})]}),ae&&(0,u.jsx)("div",{className:"card-preview-overlay",children:"graveyard"===ae.type?(0,u.jsxs)("div",{className:"graveyard-preview-container",children:[(0,u.jsxs)("div",{className:"graveyard-header",children:[(0,u.jsxs)("h2",{children:["\u26b0\ufe0f Graveyard - ",ae.isPlayer?"Your":"Opponent's"," Cards"]}),(0,u.jsx)("button",{className:"close-preview",onClick:()=>re(null),children:"\u2715"})]}),(0,u.jsx)("div",{className:"graveyard-cards-grid",children:ae.cards&&ae.cards.length>0?ae.cards.map((e,t)=>(0,u.jsx)("div",{className:"graveyard-card-wrapper",children:(0,u.jsx)(C,{card:e,isPlayable:!1})},t)):(0,u.jsx)("p",{className:"no-cards-message",children:"No cards in graveyard"})})]}):(0,u.jsx)("div",{className:"card-preview-container ".concat(ae.isPlayer?"player-preview":"ai-preview"),children:(0,u.jsx)(C,{card:ae.card,isPlayable:!1})})}),(null===M||void 0===M?void 0:M.pendingAbility)&&M.pendingAbility.playerId===L&&(0,u.jsx)("div",{className:"ability-overlay",children:(0,u.jsxs)("div",{className:"ability-container ability-card-selection",children:[(0,u.jsx)("h2",{className:"ability-title",children:"\ud83c\udf0d EARTH ABILITY!"}),(0,u.jsx)("p",{className:"ability-description",children:"Choose a card from your reserve deck:"}),(0,u.jsx)("div",{className:"reserve-cards-display",children:null!==K&&void 0!==K&&K.deck&&K.deck.length>0?K.deck.map((e,t)=>(0,u.jsx)("div",{className:"reserve-card-wrapper",children:(0,u.jsx)(C,{card:e,onClick:()=>G(t),isPlayable:!0})},t)):(0,u.jsx)("p",{className:"no-cards-message",children:"No cards in reserve deck"})}),(0,u.jsx)("div",{className:"ability-buttons",children:(0,u.jsx)("button",{className:"ability-button skip-button",onClick:W,children:"\u2716 SKIP"})})]})}),!M.gameStarted&&!M.cardSelectionPhase&&(0,u.jsx)("div",{className:"game-info",children:(0,u.jsx)("button",{onClick:U,className:"start-button",children:"Start Game"})}),(0,u.jsxs)("div",{className:"left-sidebar ".concat(Se?"visible":""),children:[(0,u.jsx)("button",{className:"sidebar-toggle left-toggle",onClick:()=>ke(!Se),"aria-label":"Toggle player stats",children:Se?"\u25c0":"\u25b6"}),(0,u.jsxs)("div",{className:"sidebar-content",children:[(0,u.jsx)("h3",{children:"Player 2 (AI)"}),J&&(0,u.jsxs)("div",{className:"sidebar-player-info",children:[(0,u.jsx)("div",{className:"player-avatar",children:"\ud83e\udd16"}),(0,u.jsx)("p",{children:(0,u.jsx)("strong",{children:J.name})}),(0,u.jsxs)("p",{className:J.active?"active-indicator":"",children:[J.active&&"\u2b50 ","Score: ",J.score]}),(null===(m=M.statusEffects)||void 0===m||null===(p=m.ai)||void 0===p?void 0:p.length)>0&&(0,u.jsx)(j,{effects:M.statusEffects.ai,playerName:J.name,availableEffects:M.availableStatusEffects||{}}),J.fatigueDamage>0&&(0,u.jsxs)("div",{className:"fatigue-indicator",children:["\ud83d\udc80 Fatigue: -",J.fatigueDamage]}),J.lastPlayedElement&&(0,u.jsxs)("div",{className:"evolution-indicator",children:["\ud83d\udd17 Chain: ",J.lastPlayedElement]}),(0,u.jsxs)("div",{className:"total-strength-display",children:[(0,u.jsx)("div",{className:"strength-label",children:"Total Strength"}),(0,u.jsx)("div",{className:"strength-value",children:$e})]}),(0,u.jsxs)("p",{children:["Cards: ",J.cardCount]}),(null===(h=M.graveyard)||void 0===h||null===(g=h.ai)||void 0===g?void 0:g.length)>0&&(0,u.jsxs)("div",{className:"graveyard-indicator",children:["\u26b0\ufe0f Graveyard: ",M.graveyard.ai.length]})]}),(0,u.jsx)("div",{className:"sidebar-divider"}),(0,u.jsx)("h3",{children:"Player 1 (You)"}),Q&&(0,u.jsxs)("div",{className:"sidebar-player-info",children:[(0,u.jsx)("div",{className:"player-avatar",children:"\ud83d\udc64"}),(0,u.jsx)("p",{children:(0,u.jsx)("strong",{children:Q.name})}),(0,u.jsxs)("p",{children:["Score: ",Q.score]}),(null===(v=M.statusEffects)||void 0===v||null===(y=v.player)||void 0===y?void 0:y.length)>0&&(0,u.jsx)(j,{effects:M.statusEffects.player,playerName:Q.name,availableEffects:M.availableStatusEffects||{}}),Q.fatigueDamage>0&&(0,u.jsxs)("div",{className:"fatigue-indicator warning",children:["\ud83d\udc80 Fatigue: -",Q.fatigueDamage]}),Q.lastPlayedElement&&(0,u.jsxs)("div",{className:"evolution-indicator",children:["\ud83d\udd17 Chain: ",Q.lastPlayedElement]}),(0,u.jsxs)("div",{className:"total-strength-display",children:[(0,u.jsx)("div",{className:"strength-label",children:"Total Strength"}),(0,u.jsx)("div",{className:"strength-value",children:Ye})]}),(0,u.jsxs)("p",{children:["Cards: ",Q.cardCount]}),(null===(b=M.graveyard)||void 0===b||null===(E=b.player)||void 0===E?void 0:E.length)>0&&(0,u.jsxs)("div",{className:"graveyard-section",children:[(0,u.jsxs)("div",{className:"graveyard-indicator",children:["\u26b0\ufe0f Graveyard: ",M.graveyard.player.length]}),(0,u.jsx)("button",{className:"graveyard-preview-btn",onClick:()=>re({type:"graveyard",cards:M.graveyard.player,isPlayer:!0}),children:"View Graveyard"})]})]})]})]}),(0,u.jsxs)("div",{className:"right-sidebar ".concat(Ne?"visible":""),children:[(0,u.jsx)("button",{className:"sidebar-toggle right-toggle",onClick:()=>we(!Ne),"aria-label":"Toggle card decks",children:Ne?"\u25b6":"\u25c0"}),(0,u.jsxs)("div",{className:"sidebar-content",children:[(0,u.jsx)("h3",{children:"Player 2 Cards"}),J&&M.gameStarted&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"ai-cards-display",children:[(0,u.jsx)("h4",{children:"Remaining Cards"}),(0,u.jsx)("div",{className:"vertical-card-stack",children:Array(J.cardCount).fill(null).map((e,t)=>(0,u.jsx)("div",{className:"card-back-small"},t))})]}),J.deck&&J.deck.length>0&&(0,u.jsxs)("div",{className:"deck-section",children:[(0,u.jsxs)("h4",{children:["Reserve Deck (",J.deck.length,")"]}),(0,u.jsx)("div",{className:"reserve-deck-stack",children:J.deck.map((e,t)=>(0,u.jsx)("div",{className:"card-back-small",style:{top:"".concat(2*t,"px")}},t))})]})]}),(0,u.jsx)("div",{className:"sidebar-divider"}),M.modifiers&&M.modifiers.length>0&&(0,u.jsxs)("div",{className:"modifiers-panel-sidebar",children:[(0,u.jsx)("h4",{children:"\ud83c\udfb2 Active Modifiers"}),M.modifiers.map((e,t)=>(0,u.jsxs)("div",{className:"modifier-item",children:[(0,u.jsx)("span",{className:"modifier-name",children:e.name.replace(/_/g," ")}),(0,u.jsx)("span",{className:"modifier-desc",children:e.description})]},t)),M.boostedElement&&(0,u.jsxs)("div",{className:"boosted-element",children:["\u26a1 Boosted: ",(0,u.jsx)("strong",{children:M.boostedElement})," (+3)"]})]}),(0,u.jsx)("div",{className:"sidebar-divider"}),(0,u.jsx)("h3",{children:"Player 1 Cards"}),Q&&M.gameStarted&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"ai-cards-display",children:[(0,u.jsx)("h4",{children:"Remaining Cards"}),(0,u.jsx)("div",{className:"vertical-card-stack",children:Array(Q.cardCount).fill(null).map((e,t)=>(0,u.jsx)("div",{className:"card-back-small player-card-back"},t))})]}),Q.deck&&Q.deck.length>0&&(0,u.jsxs)("div",{className:"deck-section",children:[(0,u.jsxs)("h4",{children:["Reserve Deck (",Q.deck.length,")"]}),(0,u.jsx)("div",{className:"reserve-deck-stack",children:Q.deck.map((e,t)=>(0,u.jsx)("div",{className:"card-back-small player-card-back",style:{top:"".concat(2*t,"px")}},t))})]})]})]})]}),M.gameStarted&&(0,u.jsxs)("div",{className:"center-battle-area",style:{background:(null===(x=z[ze])||void 0===x?void 0:x.background)||z.cosmic.background,boxShadow:(null===(S=z[ze])||void 0===S?void 0:S.borderGlow)||z.cosmic.borderGlow},children:[(0,u.jsx)("div",{className:"arena-overlay",style:{background:(null===(k=z[ze])||void 0===k?void 0:k.overlay)||z.cosmic.overlay}}),(0,u.jsx)("div",{className:"arena-particles",children:[...Array(15)].map((e,t)=>{var n;return(0,u.jsx)("div",{className:"arena-particle",style:{background:(null===(n=z[ze])||void 0===n?void 0:n.particles)||z.cosmic.particles,animationDelay:"".concat(.5*t,"s"),left:"".concat(100*Math.random(),"%")}},t)})}),(0,u.jsx)("h3",{className:"arena-title",children:"\u2694\ufe0f Battle Arena \u2694\ufe0f"}),(0,u.jsx)("div",{className:"battle-card-row ai-row",children:(0,u.jsx)("div",{className:"played-cards-container",children:null!==J&&void 0!==J&&J.playedCards&&J.playedCards.length>0?J.playedCards.map((e,t)=>(0,u.jsxs)("div",{className:"played-card-wrapper ai-card",children:[(0,u.jsx)(C,{card:e,isPlayable:!1}),(0,u.jsxs)("div",{className:"card-round-label",children:["R",t+1]})]},t)):(0,u.jsx)("div",{className:"empty-card-slot",children:null!==J&&void 0!==J&&J.active?"AI is thinking...":"No cards played yet"})})}),(0,u.jsx)("div",{className:"battle-card-row player-row",children:(0,u.jsx)("div",{className:"played-cards-container",children:null!==Q&&void 0!==Q&&Q.playedCards&&Q.playedCards.length>0?Q.playedCards.map((e,t)=>(0,u.jsxs)("div",{className:"played-card-wrapper",children:[(0,u.jsx)(C,{card:e,isPlayable:!1}),(0,u.jsxs)("div",{className:"card-round-label",children:["R",t+1]})]},t)):(0,u.jsx)("div",{className:"empty-card-slot",children:null!==Q&&void 0!==Q&&Q.active?"Choose your card...":"No cards played yet"})})})]}),Q&&M.gameStarted&&!M.gameOver&&(0,u.jsx)("div",{className:"hand-container",children:(0,u.jsx)("div",{className:"hand ".concat(X?"your-turn":""),style:{background:(null===(N=F[De])||void 0===N?void 0:N.handBackground)||F.standard.handBackground,boxShadow:"".concat((null===(w=F[De])||void 0===w?void 0:w.glowEffect)||F.standard.glowEffect,", inset 0 2px 8px rgba(0, 0, 0, 0.2)")},children:(e=>{if(!e||0===e.length)return[];const t=e.map((e,t)=>({card:e,originalIndex:t}));switch(We){case"element":const e=["FIRE","ICE","WATER","ELECTRICITY","EARTH","POWER","LIGHT","DARK","NEUTRAL","TECHNOLOGY","METEOR"];t.sort((t,n)=>e.indexOf(t.card.element)-e.indexOf(n.card.element));break;case"strength":t.sort((e,t)=>(t.card.modifiedStrength||t.card.strength)-(e.card.modifiedStrength||e.card.strength));break;case"rarity":const n={LEGENDARY:0,RARE:1,UNCOMMON:2,COMMON:3};t.sort((e,t)=>n[e.card.tier||"COMMON"]-n[t.card.tier||"COMMON"]);break;default:return t}return t})(Q.hand).map((e,t)=>(0,u.jsx)(C,{card:e.card,onClick:()=>Ke(e.originalIndex),isPlayable:X&&!(null!==M&&void 0!==M&&M.pendingAbility),keyboardKey:null!==Y&&void 0!==Y&&Y.keyboardEnabled?String(t+1):null},"".concat(e.card.element,"-").concat(e.card.strength,"-").concat(e.originalIndex)))})})]}):(0,u.jsx)("div",{className:"game-board",children:"Loading..."})},V=e=>{let{hand:t,onConfirmSelection:n,onBack:r}=e;const[l,s]=(0,a.useState)([]),[o,i]=(0,a.useState)(20);return(0,a.useEffect)(()=>{if(o<=0)return void n(l);const e=setInterval(()=>{i(e=>e-1)},1e3);return()=>clearInterval(e)},[o,l,n]),(0,u.jsx)("div",{className:"card-selection-overlay",children:(0,u.jsxs)("div",{className:"card-selection-container",children:[(0,u.jsxs)("div",{className:"card-selection-header",children:[(0,u.jsx)("h2",{children:"Select Your Starting 5 Cards"}),r&&(0,u.jsx)("button",{className:"back-button",onClick:r,title:"Back to Main Menu",children:"\u2190 Back"})]}),(0,u.jsx)("p",{className:"selection-info",children:"Choose 5 cards from your hand. The remaining 5 will be kept in reserve."}),(0,u.jsxs)("div",{className:"selection-stats",children:[(0,u.jsxs)("p",{className:"selection-count",children:["Selected: ",l.length," / 5"]}),(0,u.jsxs)("div",{className:"selection-timer ".concat(o<=5?"low-time":o<=10?"warning-time":""),children:["\u23f1\ufe0f Time Left: ",(0,u.jsxs)("span",{className:"timer-value",children:[o,"s"]})]})]}),(0,u.jsx)("div",{className:"card-selection-grid",children:t.map((e,t)=>(0,u.jsxs)("div",{className:"selectable-card ".concat(l.includes(t)?"selected":""),onClick:()=>(e=>{l.includes(e)?s(l.filter(t=>t!==e)):l.length<5&&s([...l,e])})(t),children:[(0,u.jsx)(C,{card:e,isPlayable:!0}),l.includes(t)&&(0,u.jsx)("div",{className:"selection-badge",children:l.indexOf(t)+1})]},t))}),(0,u.jsx)("button",{className:"confirm-selection-button",onClick:()=>{5===l.length&&n(l)},disabled:5!==l.length,children:5===l.length?"Confirm Selection":"Select ".concat(5-l.length," More Card").concat(5-l.length!==1?"s":"")}),o<=5&&l.length>0&&l.length<5&&(0,u.jsxs)("p",{className:"time-warning",children:["\u26a0\ufe0f Starting soon with ",l.length," card",1!==l.length?"s":"","!"]})]})})},Y=e=>{let{isOpen:t,onClose:n,settings:a,onSettingsChange:r}=e;if(!t)return null;const l=e=>{r(c(c({},a),{},{[e]:!a[e]}))},s=(e,t)=>{r(c(c({},a),{},{[e]:t}))};return(0,u.jsx)("div",{className:"settings-overlay",onClick:n,children:(0,u.jsxs)("div",{className:"settings-container",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"settings-header",children:[(0,u.jsx)("h2",{children:"\u2699\ufe0f Settings"}),(0,u.jsx)("button",{className:"close-button",onClick:n,children:"\u2715"})]}),(0,u.jsxs)("div",{className:"settings-content",children:[(0,u.jsx)("div",{className:"setting-item",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("span",{className:"setting-label",children:"\ud83d\udd0a Sound Effects"}),(0,u.jsxs)("div",{className:"toggle-switch",children:[(0,u.jsx)("input",{type:"checkbox",checked:a.soundEnabled,onChange:()=>l("soundEnabled")}),(0,u.jsx)("span",{className:"toggle-slider"})]})]})}),(0,u.jsx)("div",{className:"setting-item",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("span",{className:"setting-label",children:"\ud83c\udfb5 Background Music"}),(0,u.jsxs)("div",{className:"toggle-switch",children:[(0,u.jsx)("input",{type:"checkbox",checked:a.musicEnabled,onChange:()=>l("musicEnabled")}),(0,u.jsx)("span",{className:"toggle-slider"})]})]})}),(0,u.jsx)("div",{className:"setting-item",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("span",{className:"setting-label",children:"\u2728 Animations"}),(0,u.jsxs)("div",{className:"toggle-switch",children:[(0,u.jsx)("input",{type:"checkbox",checked:a.animationsEnabled,onChange:()=>l("animationsEnabled")}),(0,u.jsx)("span",{className:"toggle-slider"})]})]})}),(0,u.jsx)("div",{className:"setting-item",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("span",{className:"setting-label",children:"\u23f1\ufe0f Turn Timer"}),(0,u.jsxs)("div",{className:"toggle-switch",children:[(0,u.jsx)("input",{type:"checkbox",checked:a.timerEnabled,onChange:()=>l("timerEnabled")}),(0,u.jsx)("span",{className:"toggle-slider"})]})]})}),(0,u.jsx)("div",{className:"setting-item",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("span",{className:"setting-label",children:"\u2328\ufe0f Keyboard Shortcuts"}),(0,u.jsxs)("div",{className:"toggle-switch",children:[(0,u.jsx)("input",{type:"checkbox",checked:a.keyboardEnabled,onChange:()=>l("keyboardEnabled")}),(0,u.jsx)("span",{className:"toggle-slider"})]})]})}),(0,u.jsx)("div",{className:"settings-divider"}),(0,u.jsx)("h3",{className:"settings-section-title",children:"\u267f Accessibility"}),(0,u.jsx)("div",{className:"setting-item",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("span",{className:"setting-label",children:"\ud83c\udfa8 Colorblind Mode"}),(0,u.jsxs)("select",{className:"setting-select",value:a.colorblindMode||"none",onChange:e=>s("colorblindMode",e.target.value),children:[(0,u.jsx)("option",{value:"none",children:"None"}),(0,u.jsx)("option",{value:"protanopia",children:"Protanopia (Red-Blind)"}),(0,u.jsx)("option",{value:"deuteranopia",children:"Deuteranopia (Green-Blind)"}),(0,u.jsx)("option",{value:"tritanopia",children:"Tritanopia (Blue-Blind)"}),(0,u.jsx)("option",{value:"achromatopsia",children:"Achromatopsia (Total)"})]})]})}),(0,u.jsx)("div",{className:"setting-item",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("span",{className:"setting-label",children:"\ud83d\udd32 High Contrast"}),(0,u.jsxs)("div",{className:"toggle-switch",children:[(0,u.jsx)("input",{type:"checkbox",checked:a.highContrast,onChange:()=>l("highContrast")}),(0,u.jsx)("span",{className:"toggle-slider"})]})]})}),(0,u.jsx)("div",{className:"setting-item",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("span",{className:"setting-label",children:"\ud83c\udff7\ufe0f Show Element Icons"}),(0,u.jsxs)("div",{className:"toggle-switch",children:[(0,u.jsx)("input",{type:"checkbox",checked:!1!==a.showElementIcons,onChange:()=>l("showElementIcons")}),(0,u.jsx)("span",{className:"toggle-slider"})]})]})}),(0,u.jsx)("div",{className:"setting-item",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("span",{className:"setting-label",children:"\ud83d\udccf Text Size"}),(0,u.jsxs)("select",{className:"setting-select",value:a.textSize||"medium",onChange:e=>s("textSize",e.target.value),children:[(0,u.jsx)("option",{value:"small",children:"Small"}),(0,u.jsx)("option",{value:"medium",children:"Medium"}),(0,u.jsx)("option",{value:"large",children:"Large"}),(0,u.jsx)("option",{value:"xl",children:"Extra Large"})]})]})})]}),(0,u.jsx)("div",{className:"settings-footer",children:(0,u.jsx)("p",{className:"settings-info",children:"\ud83d\udca1 Press ESC to close settings"})})]})})},$=e=>{let{isOpen:t,onClose:n}=e;const[r,l]=(0,a.useState)(0);if(!t)return null;const s=[{title:"Welcome to Elemental Battle!",icon:"\ud83c\udfae",content:"A strategic card game where you battle using elemental powers. The player with the highest score when all cards are played wins!"},{title:"Game Setup",icon:"\ud83d\udccb",content:"At the start, you'll receive 10 cards. Select your best 5 cards for battle. The remaining 5 go to your reserve deck."},{title:"Elements & Strength",icon:"\u26a1",content:"Each card has an element and strength value:\n\ud83d\udd25 Fire | \u2744\ufe0f Ice | \ud83d\udca7 Water | \u26a1 Electricity | \ud83c\udf0d Earth | \u2b50 Power\n\nHigher strength wins the round!"},{title:"Special Abilities",icon:"\u2728",content:"\ud83c\udf0d EARTH: Draw a card from your reserve deck\n\u2b50 POWER: Automatically plays another random POWER card from your hand\n\nMore abilities coming soon!"},{title:"Element Matching",icon:"\ud83c\udfaf",content:"Play 2 cards of the same element in a row to activate DOUBLE STRENGTH! Your current card's strength is doubled for that round."},{title:"Keyboard Shortcuts",icon:"\u2328\ufe0f",content:"Press 1, 2, 3, 4, or 5 to quickly play cards from your hand.\n\nPress ESC to close menus.\n\nPress S to open Settings."},{title:"Winning Strategy",icon:"\ud83c\udfc6",content:"\u2022 Save powerful cards for critical moments\n\u2022 Plan element combos for double strength\n\u2022 Use Earth ability to replenish your hand\n\u2022 Watch your opponent's patterns\n\nGood luck!"}],o=()=>{localStorage.setItem("tutorialCompleted","true"),n()};return(0,u.jsx)("div",{className:"tutorial-overlay",onClick:o,children:(0,u.jsxs)("div",{className:"tutorial-container",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"tutorial-header",children:[(0,u.jsxs)("h2",{children:[s[r].icon," ",s[r].title]}),(0,u.jsx)("button",{className:"tutorial-close",onClick:o,children:"\u2715"})]}),(0,u.jsxs)("div",{className:"tutorial-content",children:[(0,u.jsx)("div",{className:"tutorial-step",children:(0,u.jsx)("p",{children:s[r].content})}),(0,u.jsx)("div",{className:"tutorial-progress",children:s.map((e,t)=>(0,u.jsx)("div",{className:"progress-dot ".concat(t===r?"active":""," ").concat(t<r?"completed":"")},t))})]}),(0,u.jsxs)("div",{className:"tutorial-footer",children:[(0,u.jsx)("button",{className:"tutorial-button secondary",onClick:()=>{r>0&&l(r-1)},disabled:0===r,children:"\u2190 Previous"}),(0,u.jsxs)("span",{className:"tutorial-step-counter",children:[r+1," / ",s.length]}),(0,u.jsx)("button",{className:"tutorial-button primary",onClick:()=>{r<s.length-1?l(r+1):n()},children:r===s.length-1?"Let's Play! \ud83c\udfae":"Next \u2192"})]}),(0,u.jsx)("div",{className:"tutorial-skip",children:(0,u.jsx)("button",{className:"skip-button",onClick:o,children:"Skip Tutorial"})})]})})},K="elementalBattleStats",Q="playerProfile",J=()=>{const e=localStorage.getItem(Q);if(!e)return{avatar:"\ud83d\udc64",name:"Player",totalGames:0,wins:0,losses:0,ties:0,winStreak:0,firstWin:!1,perfectGame:!1,legendaryPlayed:!1,coins:0};const t=JSON.parse(e);return void 0===t.coins&&(t.coins=0),t},X=e=>{localStorage.setItem(Q,JSON.stringify(e))},Z=()=>{const e=localStorage.getItem(K);return e?JSON.parse(e):{gamesPlayed:0,gamesWon:0,gamesLost:0,gamesTied:0,totalRoundsPlayed:0,totalCardsPlayed:0,elementStats:{FIRE:{played:0,won:0},ICE:{played:0,won:0},WATER:{played:0,won:0},ELECTRICITY:{played:0,won:0},EARTH:{played:0,won:0},POWER:{played:0,won:0},LIGHT:{played:0,won:0},DARK:{played:0,won:0},NEUTRAL:{played:0,won:0}},highestScore:0,longestWinStreak:0,currentWinStreak:0,matchBonusCount:0,specialAbilitiesUsed:0,fastestWin:null,lastPlayed:null}},ee=e=>{localStorage.setItem(K,JSON.stringify(e))},te=e=>{let{isOpen:t,onClose:n}=e;if(!t)return null;const a=Z(),r=(()=>{const e=Z();return 0===e.gamesPlayed?0:(e.gamesWon/e.gamesPlayed*100).toFixed(1)})(),l=(()=>{const e=Z();let t=0,n="None";return Object.entries(e.elementStats).forEach(e=>{let[a,r]=e;r.played>t&&(t=r.played,n=a)}),n})(),s=e=>({FIRE:"\ud83d\udd25",ICE:"\u2744\ufe0f",WATER:"\ud83d\udca7",ELECTRICITY:"\u26a1",EARTH:"\ud83c\udf0d",POWER:"\u2b50"}[e]||"?");return(0,u.jsx)("div",{className:"stats-overlay",onClick:n,children:(0,u.jsxs)("div",{className:"stats-container",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"stats-header",children:[(0,u.jsx)("h2",{children:"\ud83d\udcca Game Statistics"}),(0,u.jsx)("button",{className:"stats-close",onClick:n,children:"\u2715"})]}),(0,u.jsxs)("div",{className:"stats-content",children:[(0,u.jsxs)("div",{className:"stats-section",children:[(0,u.jsx)("h3",{children:"\ud83c\udfae Overall Performance"}),(0,u.jsxs)("div",{className:"stats-grid",children:[(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-value",children:a.gamesPlayed}),(0,u.jsx)("div",{className:"stat-label",children:"Games Played"})]}),(0,u.jsxs)("div",{className:"stat-item highlight",children:[(0,u.jsx)("div",{className:"stat-value",children:a.gamesWon}),(0,u.jsx)("div",{className:"stat-label",children:"Wins"})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-value",children:a.gamesLost}),(0,u.jsx)("div",{className:"stat-label",children:"Losses"})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-value",children:a.gamesTied}),(0,u.jsx)("div",{className:"stat-label",children:"Ties"})]})]})]}),(0,u.jsxs)("div",{className:"stats-section",children:[(0,u.jsx)("h3",{children:"\ud83d\udcc8 Statistics"}),(0,u.jsxs)("div",{className:"stats-grid",children:[(0,u.jsxs)("div",{className:"stat-item highlight",children:[(0,u.jsxs)("div",{className:"stat-value",children:[r,"%"]}),(0,u.jsx)("div",{className:"stat-label",children:"Win Rate"})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-value",children:a.longestWinStreak}),(0,u.jsx)("div",{className:"stat-label",children:"Best Streak"})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-value",children:a.currentWinStreak}),(0,u.jsx)("div",{className:"stat-label",children:"Current Streak"})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-value",children:a.highestScore}),(0,u.jsx)("div",{className:"stat-label",children:"Highest Score"})]})]})]}),(0,u.jsxs)("div",{className:"stats-section",children:[(0,u.jsx)("h3",{children:"\ud83c\udfb4 Element Performance"}),(0,u.jsx)("div",{className:"element-stats",children:Object.entries(a.elementStats).map(e=>{let[t,n]=e;return(0,u.jsxs)("div",{className:"element-stat-row",children:[(0,u.jsxs)("div",{className:"element-name",children:[s(t)," ",t]}),(0,u.jsx)("div",{className:"element-bar",children:(0,u.jsx)("div",{className:"element-bar-fill",style:{width:"".concat(n.played>0?n.won/n.played*100:0,"%")}})}),(0,u.jsxs)("div",{className:"element-stats-text",children:[n.won,"/",n.played]})]},t)})}),(0,u.jsxs)("div",{className:"favorite-element",children:[(0,u.jsx)("strong",{children:"Favorite Element:"})," ",s(l)," ",l]})]}),(0,u.jsxs)("div",{className:"stats-section",children:[(0,u.jsx)("h3",{children:"\ud83c\udfaf Achievements"}),(0,u.jsxs)("div",{className:"stats-grid",children:[(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-value",children:a.totalCardsPlayed}),(0,u.jsx)("div",{className:"stat-label",children:"Cards Played"})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-value",children:a.matchBonusCount}),(0,u.jsx)("div",{className:"stat-label",children:"Match Bonuses"})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-value",children:a.specialAbilitiesUsed}),(0,u.jsx)("div",{className:"stat-label",children:"Abilities Used"})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-value",children:(e=>{if(!e)return"N/A";const t=Math.floor(e/60),n=e%60;return t>0?"".concat(t,"m ").concat(n,"s"):"".concat(n,"s")})(a.fastestWin)}),(0,u.jsx)("div",{className:"stat-label",children:"Fastest Win"})]})]})]}),(0,u.jsx)("div",{className:"stats-footer-info",children:(0,u.jsxs)("p",{children:["Last played: ",(o=a.lastPlayed,o?new Date(o).toLocaleDateString():"Never")]})})]}),(0,u.jsx)("div",{className:"stats-footer",children:(0,u.jsx)("button",{className:"reset-stats-button",onClick:()=>{window.confirm("Are you sure you want to reset all statistics? This cannot be undone.")&&(localStorage.removeItem(K),Z(),window.location.reload())},children:"\ud83d\udd04 Reset Statistics"})})]})});var o},ne=e=>{let{player:t,isAI:n,stats:a}=e;if(!t)return null;const r=()=>{const e=(null===a||void 0===a?void 0:a.totalGames)||0,t=(null===a||void 0===a?void 0:a.wins)||0;return e>0?Math.round(t/e*100):0},l=(()=>{const e=r();return e>=80?{name:"Master",icon:"\ud83d\udc51",color:"#ffd700"}:e>=60?{name:"Expert",icon:"\ud83d\udc8e",color:"#2196f3"}:e>=40?{name:"Skilled",icon:"\u2b50",color:"#4caf50"}:e>=20?{name:"Novice",icon:"\ud83c\udf1f",color:"#ff9800"}:{name:"Beginner",icon:"\ud83c\udfaf",color:"#9e9e9e"}})();return(0,u.jsxs)("div",{className:"player-profile ".concat(n?"ai-profile":"human-profile"),children:[(0,u.jsxs)("div",{className:"profile-header",children:[(0,u.jsx)("div",{className:"profile-avatar-large",children:(()=>{if(n){const e=["\ud83e\udd16","\ud83d\udc7e","\ud83c\udfae","\ud83d\udcbb","\ud83e\uddbe"];return e[Math.floor(Math.random()*e.length)]}return(null===a||void 0===a?void 0:a.avatar)||"\ud83d\udc64"})()}),(0,u.jsxs)("div",{className:"profile-info",children:[(0,u.jsx)("div",{className:"profile-name",children:t.name}),(0,u.jsxs)("div",{className:"profile-rank",style:{color:l.color},children:[l.icon," ",l.name]})]})]}),(0,u.jsxs)("div",{className:"profile-stats",children:[(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-label",children:"Win Rate"}),(0,u.jsxs)("div",{className:"stat-value",children:[r(),"%"]}),(0,u.jsx)("div",{className:"stat-bar",children:(0,u.jsx)("div",{className:"stat-bar-fill",style:{width:"".concat(r(),"%")}})})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-label",children:"Total Games"}),(0,u.jsx)("div",{className:"stat-value",children:(null===a||void 0===a?void 0:a.totalGames)||0})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-label",children:"Total Wins"}),(0,u.jsx)("div",{className:"stat-value win-value",children:(null===a||void 0===a?void 0:a.wins)||0})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("div",{className:"stat-label",children:"Total Losses"}),(0,u.jsx)("div",{className:"stat-value loss-value",children:(null===a||void 0===a?void 0:a.losses)||0})]})]}),(0,u.jsxs)("div",{className:"profile-achievements",children:[(0,u.jsx)("div",{className:"achievement-label",children:"\ud83c\udfc6 Achievements"}),(0,u.jsxs)("div",{className:"achievements-grid",children:[(null===a||void 0===a?void 0:a.firstWin)&&(0,u.jsx)("div",{className:"achievement-badge",title:"First Victory",children:"\ud83c\udf89"}),(null===a||void 0===a?void 0:a.perfectGame)&&(0,u.jsx)("div",{className:"achievement-badge",title:"Perfect Game",children:"\ud83d\udcaf"}),(null===a||void 0===a?void 0:a.winStreak)>=3&&(0,u.jsx)("div",{className:"achievement-badge",title:"Win Streak",children:"\ud83d\udd25"}),(null===a||void 0===a?void 0:a.legendaryPlayed)&&(0,u.jsx)("div",{className:"achievement-badge",title:"Legendary Player",children:"\u2b50"}),!(null!==a&&void 0!==a&&a.firstWin)&&!(null!==a&&void 0!==a&&a.perfectGame)&&!(null!==a&&void 0!==a&&a.winStreak)&&!(null!==a&&void 0!==a&&a.legendaryPlayed)&&(0,u.jsx)("div",{className:"no-achievements",children:"No achievements yet"})]})]})]})},ae=()=>{const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(!1),[l,s]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone)return void s(!0);const e=localStorage.getItem("pwa-install-dismissed");if(e){const t=parseInt(e);if((Date.now()-t)/864e5<7)return}const n=e=>{e.preventDefault(),t(e),setTimeout(()=>{r(!0)},3e3)};return window.addEventListener("beforeinstallprompt",n),window.addEventListener("appinstalled",()=>{s(!0),r(!1),t(null)}),()=>{window.removeEventListener("beforeinstallprompt",n)}},[]);return l||!n?null:(0,u.jsxs)("div",{className:"install-prompt",children:[(0,u.jsx)("button",{className:"install-close",onClick:()=>{r(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())},children:"\u2715"}),(0,u.jsx)("div",{className:"install-icon",children:"\ud83d\udcf1"}),(0,u.jsx)("h3",{className:"install-title",children:"Install Elemental Battle"}),(0,u.jsx)("p",{className:"install-description",children:"Add to your home screen for a better gaming experience!"}),(0,u.jsxs)("div",{className:"install-benefits",children:[(0,u.jsx)("div",{className:"benefit-item",children:"\u26a1 Instant Access"}),(0,u.jsx)("div",{className:"benefit-item",children:"\ud83c\udfae Fullscreen Mode"}),(0,u.jsx)("div",{className:"benefit-item",children:"\ud83d\udcf4 Play Offline"})]}),(0,u.jsxs)("button",{className:"install-button",onClick:async()=>{if(!e)return;e.prompt();const{outcome:n}=await e.userChoice;"accepted"===n&&(console.log("PWA installed"),s(!0)),t(null),r(!1)},children:[(0,u.jsx)("span",{className:"install-btn-icon",children:"\u2b07\ufe0f"}),(0,u.jsx)("span",{children:"Install Now"})]})]})};const re=function(e){let{onClose:t}=e;return(0,u.jsx)("div",{className:"credits-overlay",children:(0,u.jsx)("div",{className:"credits-container",children:(0,u.jsxs)("div",{className:"credits-content",children:[(0,u.jsx)("h1",{className:"credits-title",children:"\ud83c\udfae Thank You for Playing! \ud83c\udfae"}),(0,u.jsxs)("div",{className:"credits-section",children:[(0,u.jsx)("h2",{children:"Created By"}),(0,u.jsx)("p",{className:"credits-name",children:"Colin Nebula"}),(0,u.jsx)("p",{className:"credits-company",children:"for Nebula 3D Development"})]}),(0,u.jsx)("div",{className:"credits-section",children:(0,u.jsx)("p",{className:"credits-message",children:"We appreciate you and your contribution to keep us building better games in the future."})}),(0,u.jsxs)("div",{className:"credits-section support-section",children:[(0,u.jsx)("h2",{children:"\ud83d\udc99 Support Local Development \ud83d\udc99"}),(0,u.jsx)("p",{children:"Your support helps us create amazing experiences!"}),(0,u.jsx)("button",{className:"donate-button",children:"Donate"})]}),(0,u.jsx)("div",{className:"credits-section",children:(0,u.jsx)("p",{className:"credits-footer",children:"Thank you for being part of our journey!"})}),(0,u.jsx)("button",{className:"close-credits-button",onClick:t,children:"Continue"})]})})})},le=e=>{let{onComplete:t,isReturning:n=!1}=e;const[r,l]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=setTimeout(()=>{o(!0)},n?0:2e3);return()=>{clearTimeout(e)}},[n]);const i=()=>{r||(l(!0),setTimeout(()=>{t()},1e3))};return(0,a.useEffect)(()=>{const e=e=>{s&&i()},t=()=>{s&&i()};return window.addEventListener("keydown",e),window.addEventListener("click",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("click",t)}},[r,s]),(0,u.jsx)("div",{className:"splash-screen ".concat(r?"fade-out":""),children:(0,u.jsxs)("div",{className:"splash-content",children:[(0,u.jsxs)("div",{className:"splash-logo",children:[(0,u.jsxs)("div",{className:"logo-cards",children:[(0,u.jsx)("div",{className:"splash-card card-left",children:(0,u.jsx)("span",{className:"card-emoji",children:"\ud83d\udd25"})}),(0,u.jsx)("div",{className:"splash-card card-center",children:(0,u.jsx)("span",{className:"card-emoji",children:"\u26a1"})}),(0,u.jsx)("div",{className:"splash-card card-right",children:(0,u.jsx)("span",{className:"card-emoji",children:"\u2744\ufe0f"})})]}),(0,u.jsxs)("div",{className:"energy-circle",children:[(0,u.jsx)("div",{className:"energy-ring"}),(0,u.jsx)("div",{className:"energy-ring-2"})]})]}),(0,u.jsxs)("h1",{className:"splash-title",children:[(0,u.jsx)("span",{className:"title-word word-elemental",children:"ELEMENTAL"}),(0,u.jsx)("span",{className:"title-word word-battle",children:"BATTLE"})]}),(0,u.jsx)("p",{className:"splash-subtitle",children:"Master the Elements \u2022 Conquer the Arena"}),(0,u.jsxs)("div",{className:"loading-container",children:[(0,u.jsx)("div",{className:"loading-bar",children:(0,u.jsx)("div",{className:"loading-progress"})}),(0,u.jsxs)("div",{className:"loading-dots",children:[(0,u.jsx)("span",{}),(0,u.jsx)("span",{}),(0,u.jsx)("span",{})]})]}),(0,u.jsxs)("div",{className:"element-showcase",children:[(0,u.jsx)("span",{className:"element-icon",style:{"--delay":"0s"},children:"\ud83d\udd25"}),(0,u.jsx)("span",{className:"element-icon",style:{"--delay":"0.1s"},children:"\u2744\ufe0f"}),(0,u.jsx)("span",{className:"element-icon",style:{"--delay":"0.2s"},children:"\ud83d\udca7"}),(0,u.jsx)("span",{className:"element-icon",style:{"--delay":"0.3s"},children:"\u26a1"}),(0,u.jsx)("span",{className:"element-icon",style:{"--delay":"0.4s"},children:"\ud83c\udf0d"}),(0,u.jsx)("span",{className:"element-icon",style:{"--delay":"0.5s"},children:"\ud83d\udcaa"}),(0,u.jsx)("span",{className:"element-icon",style:{"--delay":"0.6s"},children:"\u2728"}),(0,u.jsx)("span",{className:"element-icon",style:{"--delay":"0.7s"},children:"\ud83c\udf11"}),(0,u.jsx)("span",{className:"element-icon",style:{"--delay":"0.8s"},children:"\u26aa"}),(0,u.jsx)("span",{className:"element-icon",style:{"--delay":"0.9s"},children:"\ud83e\udd16"})]}),s&&(0,u.jsxs)("div",{className:"press-button-prompt",children:[(0,u.jsx)("p",{className:"prompt-text",children:"PRESS ANY BUTTON TO CONTINUE"}),(0,u.jsx)("div",{className:"prompt-indicator",children:"\u25bc"})]})]})})},se=e=>{let{onComplete:t,playerName:n,opponentName:r}=e;const[l,s]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=setTimeout(()=>{p()},1e3);return()=>clearTimeout(e)},[]);const p=()=>{s(!0),d(!1);const e=Math.random()<.5;setTimeout(()=>{s(!1),i(e?"heads":"tails"),m(e),d(!0),setTimeout(()=>{t(e)},3e3)},2e3)};return(0,u.jsx)("div",{className:"coin-toss",children:(0,u.jsxs)("div",{className:"coin-toss-content",children:[(0,u.jsxs)("div",{className:"coin-toss-header",children:[(0,u.jsx)("h1",{children:"\ud83e\ude99 Coin Toss"}),(0,u.jsx)("p",{children:"Determining who goes first..."})]}),(0,u.jsxs)("div",{className:"players-display",children:[(0,u.jsxs)("div",{className:"player-side ".concat(f&&c?"winner":""),children:[(0,u.jsx)("div",{className:"player-avatar",children:"\ud83d\udc64"}),(0,u.jsx)("div",{className:"player-name",children:n}),(0,u.jsx)("div",{className:"coin-choice",children:"HEADS"})]}),(0,u.jsx)("div",{className:"vs-divider",children:"VS"}),(0,u.jsxs)("div",{className:"player-side ".concat(!f&&c?"winner":""),children:[(0,u.jsx)("div",{className:"player-avatar",children:"\ud83e\udd16"}),(0,u.jsx)("div",{className:"player-name",children:r}),(0,u.jsx)("div",{className:"coin-choice",children:"TAILS"})]})]}),(0,u.jsx)("div",{className:"coin-container",children:(0,u.jsxs)("div",{className:"coin ".concat(l?"flipping":""," ").concat(o||""),children:[(0,u.jsxs)("div",{className:"coin-side heads",children:[(0,u.jsx)("span",{className:"coin-symbol",children:"\ud83d\udc51"}),(0,u.jsx)("span",{className:"coin-text",children:"HEADS"})]}),(0,u.jsxs)("div",{className:"coin-side tails",children:[(0,u.jsx)("span",{className:"coin-symbol",children:"\ud83d\udee1\ufe0f"}),(0,u.jsx)("span",{className:"coin-text",children:"TAILS"})]})]})}),c&&(0,u.jsxs)("div",{className:"result-announcement",children:[(0,u.jsx)("div",{className:"result-text ".concat(f?"player-wins":"opponent-wins"),children:f?(0,u.jsxs)(u.Fragment,{children:["\ud83c\udf89 ",n," goes first! \ud83c\udf89"]}):(0,u.jsxs)(u.Fragment,{children:["\ud83e\udd16 ",r," goes first! \ud83e\udd16"]})}),(0,u.jsx)("div",{className:"result-subtext",children:"The battle begins in 3 seconds..."})]}),!c&&!l&&(0,u.jsx)("div",{className:"coin-toss-instruction",children:(0,u.jsx)("p",{children:"Flipping coin..."})})]})})},oe=e=>{let{onClose:t}=e;const[n,r]=(0,a.useState)(()=>B()),[l,s]=(0,a.useState)("color"),[o,i]=(0,a.useState)("");(0,a.useEffect)(()=>{H(n.colorTheme),G(n.handTheme)},[]);const d=(e,t)=>{const a=((e,t,n)=>{const a="color"===e?D[t]:F[t];if(!a||!a.premium)return{success:!1,message:"Theme not found or already owned"};if(n.coins<a.cost)return{success:!1,message:"Insufficient coins"};if(n.ownedThemes.includes(t))return{success:!1,message:"Theme already owned"};const r=c(c({},n),{},{coins:n.coins-a.cost,ownedThemes:[...n.ownedThemes,t]});return U(r),{success:!0,message:"".concat(a.name," theme purchased!"),updatedThemes:r}})(e,t,n);a.success?(r(a.updatedThemes),i("Success! ".concat(a.message))):i("Error: ".concat(a.message)),setTimeout(()=>i(""),3e3)},f=(e,t)=>{const a=((e,t,n)=>{if(!n.ownedThemes.includes(t))return{success:!1,message:"Theme not owned"};const a="color"===e?"colorTheme":"hand"===e?"handTheme":"arena"===e?"arenaTheme":"colorTheme",r=c(c({},n),{},{[a]:t});return U(r),"color"===e?H(t):"hand"===e?G(t):"arena"===e&&W(t),window.dispatchEvent(new CustomEvent("themeUpdated",{detail:{themeType:e,themeId:t}})),{success:!0,updatedThemes:r}})(e,t,n);a.success?(r(a.updatedThemes),i("Success! ".concat("color"===e?"Color":"Hand"," theme applied!"))):i("Error: ".concat(a.message)),setTimeout(()=>i(""),2e3)};return(0,u.jsx)("div",{className:"theme-shop-overlay",children:(0,u.jsxs)("div",{className:"theme-shop-container",children:[(0,u.jsxs)("div",{className:"theme-shop-header",children:[(0,u.jsx)("h2",{children:"Theme Shop"}),(0,u.jsxs)("div",{className:"coin-display",children:[(0,u.jsx)("span",{className:"coin-icon",children:"Coins"}),(0,u.jsx)("span",{className:"coin-count",children:n.coins})]}),(0,u.jsx)("button",{className:"close-btn",onClick:t,children:"X"})]}),o&&(0,u.jsx)("div",{className:"notification",children:o}),(0,u.jsxs)("div",{className:"theme-tabs",children:[(0,u.jsx)("button",{className:"tab-btn ".concat("color"===l?"active":""),onClick:()=>s("color"),children:"Color Themes"}),(0,u.jsx)("button",{className:"tab-btn ".concat("hand"===l?"active":""),onClick:()=>s("hand"),children:"Hand Themes"})]}),(0,u.jsx)("div",{className:"themes-grid",children:"color"===l?Object.entries(D).map(e=>{let[t,a]=e;const r=n.ownedThemes.includes(t),l=n.colorTheme===t,s=n.coins>=a.cost;return(0,u.jsxs)("div",{className:"theme-card color-theme ".concat(l?"active":""),children:[(0,u.jsx)("div",{className:"theme-preview",style:{background:a.background},children:(0,u.jsxs)("div",{className:"preview-elements",children:[(0,u.jsx)("div",{className:"preview-card",style:{border:"2px solid ".concat(a.cardBorder),color:a.textColor},children:"Card"}),(0,u.jsx)("div",{className:"preview-button",style:{backgroundColor:a.primary,color:a.textColor},children:"Button"})]})}),(0,u.jsxs)("div",{className:"theme-info",children:[(0,u.jsx)("h3",{style:{color:a.textColor},children:a.name}),a.premium&&(0,u.jsxs)("div",{className:"theme-cost",children:[(0,u.jsx)("span",{className:"coin-icon",children:"Coin"}),a.cost]})]}),(0,u.jsx)("div",{className:"theme-actions",children:r?(0,u.jsx)("button",{className:"apply-btn ".concat(l?"active":""),onClick:()=>!l&&f("color",t),disabled:l,children:l?"Active":"Apply"}):a.premium?(0,u.jsx)("button",{className:"purchase-btn ".concat(s?"":"disabled"),onClick:()=>s&&d("color",t),disabled:!s,children:s?"Purchase":"Need More Coins"}):(0,u.jsx)("button",{className:"free-btn",onClick:()=>f("color",t),children:"Free"})})]},t)}):Object.entries(F).map(e=>{let[t,a]=e;const r=n.ownedThemes.includes(t),l=n.handTheme===t,s=n.coins>=a.cost;return(0,u.jsxs)("div",{className:"theme-card hand-theme ".concat(l?"active":""),children:[(0,u.jsx)("div",{className:"hand-theme-preview",children:(0,u.jsxs)("div",{className:"preview-hand",style:{background:a.handBackground,boxShadow:a.glowEffect},children:[(0,u.jsx)("div",{className:"preview-hand-card",style:{background:a.cardBack},children:"Card1"}),(0,u.jsx)("div",{className:"preview-hand-card",style:{background:a.cardBack},children:"Card2"}),(0,u.jsx)("div",{className:"preview-hand-card",style:{background:a.cardBack},children:"Card3"})]})}),(0,u.jsxs)("div",{className:"theme-info",children:[(0,u.jsx)("h3",{children:a.name}),a.premium&&(0,u.jsxs)("div",{className:"theme-cost",children:[(0,u.jsx)("span",{className:"coin-icon",children:"Coin"}),a.cost]})]}),(0,u.jsx)("div",{className:"theme-actions",children:r?(0,u.jsx)("button",{className:"apply-btn ".concat(l?"active":""),onClick:()=>!l&&f("hand",t),disabled:l,children:l?"Active":"Apply"}):a.premium?(0,u.jsx)("button",{className:"purchase-btn ".concat(s?"":"disabled"),onClick:()=>s&&d("hand",t),disabled:!s,children:s?"Purchase":"Need More Coins"}):(0,u.jsx)("button",{className:"free-btn",onClick:()=>f("hand",t),children:"Free"})})]},t)})}),(0,u.jsxs)("div",{className:"coin-info",children:[(0,u.jsx)("p",{children:(0,u.jsx)("strong",{children:"Earn coins by winning games!"})}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:"Win: 10 coins (+5 for dominating wins)"}),(0,u.jsx)("li",{children:"Perfect Game: +10 bonus coins"}),(0,u.jsx)("li",{children:"Story Mode: +5 bonus coins"}),(0,u.jsx)("li",{children:"Tie: 3 coins"})]})]})]})})},ie=e=>{var t,n,r;let{onClose:l}=e;const[s,o]=(0,a.useState)(null),[i,c]=(0,a.useState)(!0),[d,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(localStorage.getItem("donationBannerDismissed"))return f(!0),void c(!1);m()},[]);const m=async()=>{try{o({enabled:!0,links:{paypal:"https://paypal.me/yourpaypal",kofi:"https://ko-fi.com/yourkofi",github:"https://github.com/sponsors/yourgithub"},message:"Support Nebula 3D Dev - Your contributions help keep this project alive!"})}catch(e){console.error("Failed to load donation info:",e),c(!1)}},p=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(localStorage.setItem("donationBannerDismissed","true"),f(!0)),c(!1),l&&l()},h=e=>{var t;null!==s&&void 0!==s&&null!==(t=s.links)&&void 0!==t&&t[e]&&(window.open(s.links[e],"_blank","noopener,noreferrer"),window.gtag&&window.gtag("event","donation_click",{platform:e,source:"donation_banner"}))};return i&&!d&&null!==s&&void 0!==s&&s.enabled?(0,u.jsxs)("div",{className:"donation-banner",children:[(0,u.jsxs)("div",{className:"donation-content",children:[(0,u.jsx)("div",{className:"donation-icon",children:"\u2764\ufe0f"}),(0,u.jsxs)("div",{className:"donation-message",children:[(0,u.jsx)("h3",{children:"Support Nebula 3D Development"}),(0,u.jsx)("p",{children:s.message})]}),(0,u.jsxs)("div",{className:"donation-buttons",children:[(null===(t=s.links)||void 0===t?void 0:t.paypal)&&(0,u.jsx)("button",{className:"donate-btn paypal",onClick:()=>h("paypal"),"aria-label":"Donate via PayPal",children:"\ud83d\udcb3 PayPal"}),(null===(n=s.links)||void 0===n?void 0:n.kofi)&&(0,u.jsx)("button",{className:"donate-btn kofi",onClick:()=>h("kofi"),"aria-label":"Support on Ko-fi",children:"\u2615 Ko-fi"}),(null===(r=s.links)||void 0===r?void 0:r.github)&&(0,u.jsx)("button",{className:"donate-btn github",onClick:()=>h("github"),"aria-label":"Sponsor on GitHub",children:"\u2b50 GitHub"})]}),(0,u.jsxs)("div",{className:"donation-controls",children:[(0,u.jsx)("button",{className:"close-btn temporary",onClick:()=>p(!1),"aria-label":"Close banner",children:"\u2715"}),(0,u.jsx)("button",{className:"close-btn permanent",onClick:()=>p(!0),"aria-label":"Don't show again",title:"Don't show again",children:"\ud83d\udeab"})]})]}),(0,u.jsx)("div",{className:"developer-credit",children:(0,u.jsxs)("small",{children:["Created by ",(0,u.jsx)("strong",{children:"Developer Colin Nebula"})," for Nebula 3D Dev"]})})]}):null},ce={COMMON:{name:"Common",color:"#9E9E9E",dropRate:.5},UNCOMMON:{name:"Uncommon",color:"#4CAF50",dropRate:.3},RARE:{name:"Rare",color:"#2196F3",dropRate:.15},EPIC:{name:"Epic",color:"#9C27B0",dropRate:.04},LEGENDARY:{name:"Legendary",color:"#FF9800",dropRate:.01}},ue={PHOENIX_REBIRTH:{id:"phoenix_rebirth",name:"Phoenix Rebirth",element:"Fire",baseStrength:12,rarity:"LEGENDARY",ability:"resurrection",description:"When defeated, returns to hand with +3 strength next turn",icon:"\ud83d\udd25\ud83d\udc26",uses:1,cooldown:3},TIDAL_WAVE:{id:"tidal_wave",name:"Tidal Wave",element:"Water",baseStrength:10,rarity:"EPIC",ability:"sweep",description:"Damages all opponent cards by 2",icon:"\ud83c\udf0a",uses:2,cooldown:2},THUNDERLORD:{id:"thunderlord",name:"Thunderlord",element:"Electricity",baseStrength:11,rarity:"EPIC",ability:"chain_lightning",description:"Stuns opponent for 1 turn on victory",icon:"\u26a1\ud83d\udc51",uses:3,cooldown:2},NATURES_GUARDIAN:{id:"natures_guardian",name:"Nature's Guardian",element:"Nature",baseStrength:9,rarity:"RARE",ability:"healing",description:"Heals 2 HP and grants shield when played",icon:"\ud83c\udf3f\ud83d\udee1\ufe0f",uses:3,cooldown:1},EARTHQUAKE:{id:"earthquake",name:"Earthquake",element:"Earth",baseStrength:13,rarity:"LEGENDARY",ability:"devastation",description:"Destroys lowest strength card in opponent hand",icon:"\ud83d\uddfb\ud83d\udca5",uses:1,cooldown:4},FROST_TITAN:{id:"frost_titan",name:"Frost Titan",element:"Ice",baseStrength:10,rarity:"EPIC",ability:"deep_freeze",description:"Freezes opponent for 2 turns on victory",icon:"\u2744\ufe0f\ud83d\udc79",uses:2,cooldown:3},ELEMENTAL_MASTER:{id:"elemental_master",name:"Elemental Master",element:"All",baseStrength:8,rarity:"LEGENDARY",ability:"element_shift",description:"Changes element each turn to counter opponent",icon:"\ud83c\udf1f",uses:5,cooldown:0},MIRROR_IMAGE:{id:"mirror_image",name:"Mirror Image",element:"All",baseStrength:0,rarity:"RARE",ability:"copy",description:"Copies strength and element of opponent card",icon:"\ud83e\ude9e",uses:3,cooldown:1},CARD_THIEF:{id:"card_thief",name:"Card Thief",element:"All",baseStrength:6,rarity:"EPIC",ability:"steal",description:"Steals a random card from opponent hand",icon:"\ud83c\udfad",uses:2,cooldown:3},TIME_WARP:{id:"time_warp",name:"Time Warp",element:"All",baseStrength:7,rarity:"LEGENDARY",ability:"extra_turn",description:"Play 2 cards this turn",icon:"\u23f0",uses:1,cooldown:5}},de={SHIELD_POTION:{id:"shield_potion",name:"Shield Potion",type:"consumable",rarity:"COMMON",effect:"shield",value:3,description:"Grants 3 shield points",icon:"\ud83d\udee1\ufe0f",cost:50},DAMAGE_BOOSTER:{id:"damage_booster",name:"Damage Booster",type:"consumable",rarity:"COMMON",effect:"strength",value:2,description:"Increases next card strength by 2",icon:"\ud83d\udcaa",cost:50},CARD_DRAW:{id:"card_draw",name:"Card Draw",type:"consumable",rarity:"UNCOMMON",effect:"draw",value:2,description:"Draw 2 additional cards",icon:"\ud83c\udfb4",cost:75},HEALTH_POTION:{id:"health_potion",name:"Health Potion",type:"consumable",rarity:"COMMON",effect:"heal",value:5,description:"Restore 5 HP",icon:"\u2764\ufe0f",cost:60},ELEMENT_BOOST:{id:"element_boost",name:"Element Boost",type:"consumable",rarity:"UNCOMMON",effect:"element_power",value:3,description:"Boost chosen element by 3 for 2 turns",icon:"\u2728",cost:80},CLEANSE_POTION:{id:"cleanse_potion",name:"Cleanse Potion",type:"consumable",rarity:"RARE",effect:"cleanse",value:1,description:"Remove all debuffs",icon:"\ud83e\uddea",cost:100},REFLECT_SHIELD:{id:"reflect_shield",name:"Reflect Shield",type:"consumable",rarity:"RARE",effect:"reflect",value:2,description:"Reflect damage for 2 turns",icon:"\ud83d\udd2e",cost:120},DOUBLE_STRIKE:{id:"double_strike",name:"Double Strike",type:"consumable",rarity:"EPIC",effect:"double_damage",value:1,description:"Next card deals double damage",icon:"\u2694\ufe0f\u2694\ufe0f",cost:150},TIME_STOP:{id:"time_stop",name:"Time Stop",type:"consumable",rarity:"LEGENDARY",effect:"skip_turn",value:1,description:"Opponent skips their next turn",icon:"\u23f8\ufe0f",cost:200}},fe={WILD_COMMON:{id:"wild_common",name:"Wild Card",element:"Wild",baseStrength:5,rarity:"COMMON",ability:"element_choice",description:"Choose element when played",icon:"\ud83c\udccf",canBeAnyElement:!0},WILD_UNCOMMON:{id:"wild_uncommon",name:"Adaptive Card",element:"Wild",baseStrength:7,rarity:"UNCOMMON",ability:"auto_adapt",description:"Automatically becomes strongest element against opponent",icon:"\ud83c\udfb4",canBeAnyElement:!0},WILD_RARE:{id:"wild_rare",name:"Chameleon Card",element:"Wild",baseStrength:8,rarity:"RARE",ability:"element_match",description:"Matches opponent element and gains +2 strength",icon:"\ud83e\udd8e",canBeAnyElement:!0},WILD_EPIC:{id:"wild_epic",name:"Prismatic Card",element:"Wild",baseStrength:9,rarity:"EPIC",ability:"all_elements",description:"Counts as all elements simultaneously",icon:"\ud83c\udf08",canBeAnyElement:!0}},me={FIRE_SWORD:{id:"fire_sword",name:"Fire Sword",slot:"weapon",rarity:"UNCOMMON",effect:"element_boost",element:"Fire",value:2,description:"+2 to all Fire cards",icon:"\ud83d\udde1\ufe0f\ud83d\udd25",cost:100},ICE_STAFF:{id:"ice_staff",name:"Ice Staff",slot:"weapon",rarity:"UNCOMMON",effect:"element_boost",element:"Ice",value:2,description:"+2 to all Ice cards",icon:"\ud83e\ude84\u2744\ufe0f",cost:100},THUNDER_HAMMER:{id:"thunder_hammer",name:"Thunder Hammer",slot:"weapon",rarity:"RARE",effect:"element_boost",element:"Electricity",value:3,description:"+3 to all Electricity cards",icon:"\ud83d\udd28\u26a1",cost:150},DRAGON_SCALE_ARMOR:{id:"dragon_scale_armor",name:"Dragon Scale Armor",slot:"armor",rarity:"EPIC",effect:"damage_reduction",value:2,description:"Reduce all incoming damage by 2",icon:"\ud83d\udee1\ufe0f\ud83d\udc09",cost:200},CRYSTAL_SHIELD:{id:"crystal_shield",name:"Crystal Shield",slot:"armor",rarity:"RARE",effect:"shield_regen",value:1,description:"Gain 1 shield at start of each turn",icon:"\ud83d\udc8e\ud83d\udee1\ufe0f",cost:150},LUCKY_CHARM:{id:"lucky_charm",name:"Lucky Charm",slot:"accessory",rarity:"RARE",effect:"card_draw",value:1,description:"Draw 1 extra card at game start",icon:"\ud83c\udf40",cost:120},RING_OF_POWER:{id:"ring_of_power",name:"Ring of Power",slot:"accessory",rarity:"EPIC",effect:"strength_boost",value:1,description:"+1 to all cards",icon:"\ud83d\udc8d",cost:180},AMULET_OF_ELEMENTS:{id:"amulet_of_elements",name:"Amulet of Elements",slot:"accessory",rarity:"LEGENDARY",effect:"element_mastery",value:1,description:"Element matches grant +1 extra bonus",icon:"\ud83d\udcff\u2728",cost:250},DECK_OF_FATE:{id:"deck_of_fate",name:"Deck of Fate",slot:"special",rarity:"LEGENDARY",effect:"deck_size",value:3,description:"Start with 3 extra cards in deck",icon:"\ud83c\udfb4\u2728",cost:300},HOURGLASS_OF_TIME:{id:"hourglass_of_time",name:"Hourglass of Time",slot:"special",rarity:"LEGENDARY",effect:"turn_time",value:10,description:"+10 seconds per turn",icon:"\u23f3",cost:200}};class pe{constructor(){this.rareCards=[],this.consumables=[],this.wildCards=[],this.equipment={weapon:null,armor:null,accessory:null,special:null},this.currency=0}addItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("consumable"===e.type){const n=this.consumables.find(t=>t.id===e.id);n?n.quantity+=t:this.consumables.push(c(c({},e),{},{quantity:t}))}else if(e.canBeAnyElement)this.wildCards.push(c(c({},e),{},{quantity:t}));else{if(e.slot)return{success:!0,message:"Equipment acquired"};this.rareCards.push(c({},e))}return{success:!0,message:"".concat(e.name," added to inventory")}}useConsumable(e){const t=this.consumables.findIndex(t=>t.id===e);if(-1===t)return{success:!1,message:"Item not found"};const n=this.consumables[t];return n.quantity<=0?{success:!1,message:"No charges remaining"}:(n.quantity-=1,0===n.quantity&&this.consumables.splice(t,1),{success:!0,item:c({},n),message:"Used ".concat(n.name)})}equipItem(e){if(!e.slot)return{success:!1,message:"Item is not equippable"};const t=this.equipment[e.slot];return this.equipment[e.slot]=c({},e),{success:!0,equipped:e,unequipped:t,message:"".concat(e.name," equipped")}}unequipItem(e){const t=this.equipment[e];return t?(this.equipment[e]=null,{success:!0,item:t,message:"".concat(t.name," unequipped")}):{success:!1,message:"No item in that slot"}}getEquipmentBonuses(){const e={strengthBoost:0,elementBoosts:{},damageReduction:0,shieldRegen:0,extraCardDraw:0,turnTimeBonus:0,deckSizeBonus:0,elementMatchBonus:0};return Object.values(this.equipment).forEach(t=>{if(t)switch(t.effect){case"strength_boost":e.strengthBoost+=t.value;break;case"element_boost":e.elementBoosts[t.element]=(e.elementBoosts[t.element]||0)+t.value;break;case"damage_reduction":e.damageReduction+=t.value;break;case"shield_regen":e.shieldRegen+=t.value;break;case"card_draw":e.extraCardDraw+=t.value;break;case"turn_time":e.turnTimeBonus+=t.value;break;case"deck_size":e.deckSizeBonus+=t.value;break;case"element_mastery":e.elementMatchBonus+=t.value}}),e}addCurrency(e){return this.currency+=e,this.currency}purchase(e){return this.currency<e.cost?{success:!1,message:"Insufficient funds"}:(this.currency-=e.cost,this.addItem(e),{success:!0,message:"Purchased ".concat(e.name),remaining:this.currency})}toJSON(){return{rareCards:this.rareCards,consumables:this.consumables,wildCards:this.wildCards,equipment:this.equipment,currency:this.currency}}static fromJSON(e){const t=new pe;return Object.assign(t,e),t}}const he=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?50+10*e:25+5*e;t.push({type:"currency",amount:n});const a=Math.random();if(a<ce.LEGENDARY.dropRate){const e=[...Object.values(ue).filter(e=>"LEGENDARY"===e.rarity),...Object.values(me).filter(e=>"LEGENDARY"===e.rarity),...Object.values(de).filter(e=>"LEGENDARY"===e.rarity)];t.push(e[Math.floor(Math.random()*e.length)])}else if(a<ce.EPIC.dropRate){const e=[...Object.values(ue).filter(e=>"EPIC"===e.rarity),...Object.values(me).filter(e=>"EPIC"===e.rarity),...Object.values(de).filter(e=>"EPIC"===e.rarity),...Object.values(fe).filter(e=>"EPIC"===e.rarity)];t.push(e[Math.floor(Math.random()*e.length)])}else if(a<ce.RARE.dropRate){const e=[...Object.values(ue).filter(e=>"RARE"===e.rarity),...Object.values(me).filter(e=>"RARE"===e.rarity),...Object.values(de).filter(e=>"RARE"===e.rarity),...Object.values(fe).filter(e=>"RARE"===e.rarity)];t.push(e[Math.floor(Math.random()*e.length)])}else if(a<ce.UNCOMMON.dropRate){const e=[...Object.values(me).filter(e=>"UNCOMMON"===e.rarity),...Object.values(de).filter(e=>"UNCOMMON"===e.rarity),...Object.values(fe).filter(e=>"UNCOMMON"===e.rarity)];t.push(e[Math.floor(Math.random()*e.length)])}else{const e=Object.values(de).filter(e=>"COMMON"===e.rarity);t.push(e[Math.floor(Math.random()*e.length)])}return t},ge=()=>{const e=new pe;return e.addCurrency(100),e.addItem(de.SHIELD_POTION,2),e.addItem(de.DAMAGE_BOOSTER,2),e.addItem(fe.WILD_COMMON,1),e},ve=e=>{let{inventory:t,onUseConsumable:n,onEquipItem:r,onUnequipItem:l,onAddToActiveDeck:s,onClose:o}=e;const[i,c]=(0,a.useState)("consumables"),[d,f]=(0,a.useState)(null),[m,p]=(0,a.useState)("all"),[h]=(0,a.useState)([...Object.values(de),...Object.values(me)]),g=e=>{var t;return(null===(t=ce[e])||void 0===t?void 0:t.color)||"#9E9E9E"},v=e=>"all"===m?e:e.filter(e=>e.rarity===m);return(0,u.jsx)("div",{className:"inventory-overlay",children:(0,u.jsxs)("div",{className:"inventory-modal",children:[(0,u.jsxs)("div",{className:"inventory-header",children:[(0,u.jsx)("h2",{children:"\ud83d\udce6 Inventory"}),(0,u.jsx)("button",{className:"close-btn",onClick:o,children:"\u2716"})]}),(0,u.jsxs)("div",{className:"inventory-tabs",children:[(0,u.jsxs)("button",{className:"tab-btn ".concat("consumables"===i?"active":""),onClick:()=>c("consumables"),children:["\ud83e\uddea Consumables (",t.consumables.length,")"]}),(0,u.jsxs)("button",{className:"tab-btn ".concat("rare_cards"===i?"active":""),onClick:()=>c("rare_cards"),children:["\u2b50 Rare Cards (",t.rareCards.length,")"]}),(0,u.jsxs)("button",{className:"tab-btn ".concat("wild_cards"===i?"active":""),onClick:()=>c("wild_cards"),children:["\ud83c\udccf Wild Cards (",t.wildCards.length,")"]}),(0,u.jsx)("button",{className:"tab-btn ".concat("equipment"===i?"active":""),onClick:()=>c("equipment"),children:"\u2694\ufe0f Equipment"}),(0,u.jsx)("button",{className:"tab-btn ".concat("shop"===i?"active":""),onClick:()=>c("shop"),children:"\ud83c\udfea Shop"})]}),(0,u.jsxs)("div",{className:"rarity-filter",children:[(0,u.jsx)("label",{children:"Filter by Rarity:"}),(0,u.jsxs)("select",{value:m,onChange:e=>p(e.target.value),children:[(0,u.jsx)("option",{value:"all",children:"All"}),(0,u.jsx)("option",{value:"COMMON",children:"Common"}),(0,u.jsx)("option",{value:"UNCOMMON",children:"Uncommon"}),(0,u.jsx)("option",{value:"RARE",children:"Rare"}),(0,u.jsx)("option",{value:"EPIC",children:"Epic"}),(0,u.jsx)("option",{value:"LEGENDARY",children:"Legendary"})]})]}),(0,u.jsxs)("div",{className:"inventory-content",children:[(0,u.jsxs)("div",{className:"inventory-main",children:["consumables"===i&&(()=>{const e=v(t.consumables);return 0===e.length?(0,u.jsx)("div",{className:"empty-inventory",children:"No consumable items"}):(0,u.jsx)("div",{className:"inventory-grid",children:e.map((e,t)=>{var n;return(0,u.jsxs)("div",{className:"inventory-item ".concat((null===d||void 0===d?void 0:d.id)===e.id?"selected":""),style:{borderColor:g(e.rarity)},onClick:()=>f(e),children:[(0,u.jsx)("div",{className:"item-icon",children:e.icon}),(0,u.jsx)("div",{className:"item-name",children:e.name}),(0,u.jsxs)("div",{className:"item-quantity",children:["x",e.quantity]}),(0,u.jsx)("div",{className:"item-rarity",style:{color:g(e.rarity)},children:null===(n=ce[e.rarity])||void 0===n?void 0:n.name})]},"".concat(e.id,"-").concat(t))})})})(),"rare_cards"===i&&(()=>{const e=v(t.rareCards);return 0===e.length?(0,u.jsx)("div",{className:"empty-inventory",children:"No rare cards collected"}):(0,u.jsx)("div",{className:"inventory-grid",children:e.map((e,t)=>{var n;return(0,u.jsxs)("div",{className:"inventory-item card-item ".concat((null===d||void 0===d?void 0:d.id)===e.id?"selected":""),style:{borderColor:g(e.rarity)},onClick:()=>f(e),children:[(0,u.jsx)("div",{className:"item-icon",children:e.icon}),(0,u.jsx)("div",{className:"item-name",children:e.name}),(0,u.jsxs)("div",{className:"item-strength",children:["\u2694\ufe0f ",e.baseStrength]}),(0,u.jsx)("div",{className:"item-element",children:e.element}),(0,u.jsx)("div",{className:"item-rarity",style:{color:g(e.rarity)},children:null===(n=ce[e.rarity])||void 0===n?void 0:n.name})]},"".concat(e.id,"-").concat(t))})})})(),"wild_cards"===i&&(()=>{const e=v(t.wildCards);return 0===e.length?(0,u.jsx)("div",{className:"empty-inventory",children:"No wild cards"}):(0,u.jsx)("div",{className:"inventory-grid",children:e.map((e,t)=>{var n;return(0,u.jsxs)("div",{className:"inventory-item wild-card-item ".concat((null===d||void 0===d?void 0:d.id)===e.id?"selected":""),style:{borderColor:g(e.rarity)},onClick:()=>f(e),children:[(0,u.jsx)("div",{className:"item-icon",children:e.icon}),(0,u.jsx)("div",{className:"item-name",children:e.name}),(0,u.jsxs)("div",{className:"item-strength",children:["\u2694\ufe0f ",e.baseStrength]}),(0,u.jsx)("div",{className:"item-element",children:"\ud83c\udf08 Wild"}),(0,u.jsx)("div",{className:"item-rarity",style:{color:g(e.rarity)},children:null===(n=ce[e.rarity])||void 0===n?void 0:n.name})]},"".concat(e.id,"-").concat(t))})})})(),"equipment"===i&&(0,u.jsxs)("div",{className:"equipment-container",children:[(0,u.jsxs)("div",{className:"equipment-slots",children:[(0,u.jsx)("h3",{children:"Equipped Items"}),["weapon","armor","accessory","special"].map(e=>(0,u.jsxs)("div",{className:"equipment-slot",children:[(0,u.jsx)("div",{className:"slot-label",children:e.charAt(0).toUpperCase()+e.slice(1)}),t.equipment[e]?(0,u.jsxs)("div",{className:"equipped-item",style:{borderColor:g(t.equipment[e].rarity)},children:[(0,u.jsx)("div",{className:"item-icon",children:t.equipment[e].icon}),(0,u.jsxs)("div",{className:"item-info",children:[(0,u.jsx)("div",{className:"item-name",children:t.equipment[e].name}),(0,u.jsx)("div",{className:"item-description",children:t.equipment[e].description})]}),(0,u.jsx)("button",{className:"unequip-btn",onClick:()=>(e=>{l&&l(e)})(e),children:"\u2716"})]}):(0,u.jsx)("div",{className:"empty-slot",children:"Empty"})]},e))]}),(0,u.jsxs)("div",{className:"equipment-inventory",children:[(0,u.jsx)("h3",{children:"Available Equipment"}),(0,u.jsx)("div",{className:"inventory-grid",children:h.filter(e=>!(!e.slot||"all"!==m)||e.rarity===m).map((e,t)=>{var n;return(0,u.jsxs)("div",{className:"inventory-item ".concat((null===d||void 0===d?void 0:d.id)===e.id?"selected":""),style:{borderColor:g(e.rarity)},onClick:()=>f(e),children:[(0,u.jsx)("div",{className:"item-icon",children:e.icon}),(0,u.jsx)("div",{className:"item-name",children:e.name}),(0,u.jsx)("div",{className:"item-description",children:e.description}),(0,u.jsx)("div",{className:"item-rarity",style:{color:g(e.rarity)},children:null===(n=ce[e.rarity])||void 0===n?void 0:n.name}),(0,u.jsxs)("div",{className:"item-cost",children:["\ud83d\udcb0 ",e.cost]})]},"".concat(e.id,"-").concat(t))})})]})]}),"shop"===i&&(0,u.jsxs)("div",{className:"shop-container",children:[(0,u.jsxs)("div",{className:"shop-header",children:[(0,u.jsx)("h3",{children:"\ud83c\udfea Shop"}),(0,u.jsxs)("div",{className:"player-currency",children:["\ud83d\udcb0 ",t.currency," Gold"]})]}),(0,u.jsx)("div",{className:"inventory-grid",children:h.filter(e=>"all"===m||e.rarity===m).map((e,n)=>{var a;return(0,u.jsxs)("div",{className:"inventory-item shop-item ".concat((null===d||void 0===d?void 0:d.id)===e.id?"selected":""," ").concat(t.currency<e.cost?"cannot-afford":""),style:{borderColor:g(e.rarity)},onClick:()=>f(e),children:[(0,u.jsx)("div",{className:"item-icon",children:e.icon}),(0,u.jsx)("div",{className:"item-name",children:e.name}),(0,u.jsx)("div",{className:"item-description",children:e.description}),(0,u.jsx)("div",{className:"item-rarity",style:{color:g(e.rarity)},children:null===(a=ce[e.rarity])||void 0===a?void 0:a.name}),(0,u.jsxs)("div",{className:"item-cost",children:["\ud83d\udcb0 ",e.cost]}),t.currency<e.cost&&(0,u.jsx)("div",{className:"insufficient-funds",children:"Insufficient Funds"})]},"shop-".concat(e.id,"-").concat(n))})})]})]}),(0,u.jsx)("div",{className:"inventory-sidebar",children:(()=>{var e;return d?(0,u.jsxs)("div",{className:"item-details",children:[(0,u.jsxs)("div",{className:"detail-header",children:[(0,u.jsx)("div",{className:"detail-icon",children:d.icon}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:d.name}),(0,u.jsx)("div",{className:"detail-rarity",style:{color:g(d.rarity)},children:null===(e=ce[d.rarity])||void 0===e?void 0:e.name})]})]}),(0,u.jsx)("div",{className:"detail-description",children:d.description}),d.baseStrength&&(0,u.jsxs)("div",{className:"detail-stat",children:[(0,u.jsx)("span",{className:"stat-label",children:"Strength:"}),(0,u.jsx)("span",{className:"stat-value",children:d.baseStrength})]}),d.element&&(0,u.jsxs)("div",{className:"detail-stat",children:[(0,u.jsx)("span",{className:"stat-label",children:"Element:"}),(0,u.jsx)("span",{className:"stat-value",children:d.element})]}),d.ability&&(0,u.jsxs)("div",{className:"detail-stat",children:[(0,u.jsx)("span",{className:"stat-label",children:"Ability:"}),(0,u.jsx)("span",{className:"stat-value",children:d.ability.replace(/_/g," ")})]}),d.uses&&(0,u.jsxs)("div",{className:"detail-stat",children:[(0,u.jsx)("span",{className:"stat-label",children:"Uses:"}),(0,u.jsx)("span",{className:"stat-value",children:d.uses})]}),d.cost&&(0,u.jsxs)("div",{className:"detail-stat",children:[(0,u.jsx)("span",{className:"stat-label",children:"Cost:"}),(0,u.jsxs)("span",{className:"stat-value",children:["\ud83d\udcb0 ",d.cost]})]}),(0,u.jsxs)("div",{className:"detail-actions",children:["consumables"===i&&"consumable"===d.type&&(0,u.jsx)("button",{className:"action-btn use-btn",onClick:()=>{return e=d.id,n&&n(e),void f(null);var e},disabled:d.quantity<=0,children:"Use Item"}),"equipment"===i&&d.slot&&(0,u.jsx)("button",{className:"action-btn equip-btn",onClick:()=>{return e=d,r&&r(e),void f(null);var e},children:"Equip"}),"shop"===i&&(0,u.jsx)("button",{className:"action-btn buy-btn",onClick:()=>{return e=d,void(t.purchase(e).success&&f(null));var e},disabled:t.currency<d.cost,children:"Purchase"}),("rare_cards"===i||"wild_cards"===i)&&s&&(0,u.jsx)("button",{className:"action-btn add-btn",onClick:()=>{s(d),f(null)},children:"Add to Active Deck"})]})]}):(0,u.jsx)("div",{className:"no-selection",children:"Select an item to view details"})})()})]}),(0,u.jsxs)("div",{className:"inventory-footer",children:[(0,u.jsxs)("div",{className:"currency-display",children:["\ud83d\udcb0 Gold: ",t.currency||0]}),(0,u.jsxs)("div",{className:"equipment-bonuses",children:[(0,u.jsx)("strong",{children:"Active Bonuses:"}),(()=>{const e=(e=>{const t={strengthBoost:0,elementBoosts:{},damageReduction:0,shieldRegen:0,extraCardDraw:0,turnTimeBonus:0,deckSizeBonus:0,elementMatchBonus:0};return e&&e.equipment?(Object.values(e.equipment).forEach(e=>{if(e)switch(e.effect){case"strength_boost":t.strengthBoost+=e.value;break;case"element_boost":t.elementBoosts[e.element]=(t.elementBoosts[e.element]||0)+e.value;break;case"damage_reduction":t.damageReduction+=e.value;break;case"shield_regen":t.shieldRegen+=e.value;break;case"card_draw":t.extraCardDraw+=e.value;break;case"turn_time":t.turnTimeBonus+=e.value;break;case"deck_size":t.deckSizeBonus+=e.value;break;case"element_mastery":t.elementMatchBonus+=e.value}}),t):t})(t),n=[];return e.strengthBoost>0&&n.push("+".concat(e.strengthBoost," Strength")),e.damageReduction>0&&n.push("-".concat(e.damageReduction," Damage Taken")),e.shieldRegen>0&&n.push("+".concat(e.shieldRegen," Shield/Turn")),e.extraCardDraw>0&&n.push("+".concat(e.extraCardDraw," Card Draw")),n.length>0?n.join(", "):"None"})()]})]})]})})},ye=Object.freeze({FIRE:Object.freeze(["ICE","WATER"]),ICE:Object.freeze(["ELECTRICITY","FIRE"]),WATER:Object.freeze(["EARTH","ELECTRICITY"]),ELECTRICITY:Object.freeze(["EARTH","WATER"]),EARTH:Object.freeze(["FIRE","ICE"]),LIGHT:Object.freeze(["DARK"]),DARK:Object.freeze(["LIGHT"]),METEOR:Object.freeze(["EARTH"]),TECHNOLOGY:Object.freeze([]),POWER:Object.freeze([]),NEUTRAL:Object.freeze([])}),be=(e,t,n,a)=>{if(console.log("\ud83c\udfaf selectAICard called with:",{handSize:null===e||void 0===e?void 0:e.length,strategy:t}),!e||!Array.isArray(e)||0===e.length)return console.warn("\u26a0\ufe0f selectAICard: Invalid or empty hand, returning 0"),0;t&&"object"===typeof t||(console.warn("\u26a0\ufe0f selectAICard: Invalid strategy, using defaults"),t={aggressiveness:.7,conservativeness:.2,counterPriority:.5,preferredElements:["FIRE","EARTH"]});try{const a=e.map((e,a)=>{var r;if(!e||"object"!==typeof e)return console.warn("\u26a0\ufe0f Invalid card at index",a),{index:a,score:0};let l=e.strength;if(null!==(r=t.preferredElements)&&void 0!==r&&r.includes(e.element)&&(l+=3),t.aggressiveness>.5&&(l+=.5*e.strength),t.counterPriority&&n&&n.element){const a=ye[e.element];a&&Array.isArray(a)&&a.includes(n.element)&&(l+=5*t.counterPriority)}return l+=2*Math.random(),{index:a,score:l}});if(a.sort((e,t)=>t.score-e.score),Math.random()<t.aggressiveness)return a[0].index;if(Math.random()<t.conservativeness){const e=a.slice(Math.floor(a.length/3),Math.floor(2*a.length/3));if(e.length>0)return e[Math.floor(Math.random()*e.length)].index}const r=a.slice(0,Math.ceil(a.length/2)),l=r[Math.floor(Math.random()*r.length)].index;return console.log("\u2705 selectAICard selected index:",l,"from hand of",e.length),l}catch(r){return console.error("\u274c Error in selectAICard:",r),0}};const Ee=class{constructor(){this.baseUrl=window.location.origin+"/api",this.listeners={},this.mockMode=!0,this.mockState={rooms:{},nextRoomId:1},this.handleMessage=this.handleMessage.bind(this),this.notifyListeners=this.notifyListeners.bind(this),this.cardGenerationCache=new Map,this.cacheMaxSize=100}connect(){return new Promise(e=>{this.baseUrl=window.location.origin+"/api",console.log("Game client configured for mock mode"),this.mockMode=!0,e()})}mockCommand(e){var t;const n=e.split(" ");switch(n[0]){case"CREATE_ROOM":const e="room_".concat(this.mockState.nextRoomId++);return this.mockState.rooms[e]={roomId:e,players:[],gameStarted:!1,gameOver:!1,winner:null,playedCards:[],currentRound:0,maxRounds:5,battlePhase:!1},{type:"ROOM_CREATED",roomId:e};case"JOIN_ROOM":const[,d,f,m]=n,h=this.mockState.rooms[d];if(h&&!h.gameStarted){if(0===h.players.length&&h.players.push({id:f,name:m,score:0,hand:[],deck:[],playedCards:[],active:!0,isAI:!1,chosenCard:null,cardCount:5}),1===h.players.length){const e=Object.keys(p),t=e[Math.floor(Math.random()*e.length)],n=p[t],a=n.strategy||{};h.players.push({id:"ai",name:n.name||"Computer",score:0,hand:[],deck:[],playedCards:[],active:!1,isAI:!0,chosenCard:null,cardCount:5,personalityKey:t,aggressiveness:a.aggressiveness||.7,conservativeness:a.conservativeness||.2,counterPriority:a.counterPriority||.5,preferredElements:a.preferredElements||["FIRE","EARTH"],comboFocus:a.comboFocus||.3,avatar:n.avatar||"\ud83e\udd16",difficulty:n.difficulty||"Medium"}),console.log("\ud83e\udd16 Created AI player:",{name:n.name,difficulty:n.difficulty,personality:t})}return{type:"JOIN_RESULT",success:!0}}return{type:"JOIN_RESULT",success:!1};case"START_GAME":const[,g]=n,v=this.mockState.rooms[g];return v&&v.players.length>=2?(v.cardSelectionPhase=!0,v.gameStarted=!1,v.players.forEach(e=>{if(e.hand=this.generateAdvancedCards(10),e.deck=[],e.cardCount=10,e.selectedHand=!1,e.isAI){e.hand=e.hand.slice(0,5),e.deck=this.generateAdvancedCards(10),e.cardCount=5,e.selectedHand=!0}e.playedCards=[],e.graveyard=[],e.lastPlayedElement=null}),this.initializeStatusEffects(v),c({type:"GAME_STARTED",success:!0},v)):{type:"GAME_STARTED",success:!1};case"SELECT_CARDS":const[,y,b,...E]=n,x=this.mockState.rooms[y];if(x&&x.cardSelectionPhase){const e=x.players.find(e=>e.id===b);if(e&&!e.selectedHand){const t=E.map(e=>parseInt(e)),n=t.map(t=>e.hand[t]),a=e.hand.filter((e,n)=>!t.includes(n));return e.hand=n,e.deck=a,e.deck.push(...this.generateAdvancedCards(5)),e.cardCount=5,e.selectedHand=!0,e.playedCards=[],e.graveyard=[],e.lastPlayedElement=null,x.players.every(e=>e.selectedHand)&&(x.cardSelectionPhase=!1,x.gameStarted=!1,x.needsCoinToss=!0,x.currentRound=1,x.roundStartTime=Date.now(),x.maxRounds=5,x.currentRound=0,x.battlePhase=!1,x.lastMatchBonus=null,x.lastComboBonus=null,x.modifiers=[],x.graveyard={player:[],ai:[]},x.meteorAttacks={player1:0,player2:0},x.players.forEach(e=>e.active=!1)),c({type:"CARDS_SELECTED",success:!0},x)}}return{type:"CARDS_SELECTED",success:!1};case"COIN_TOSS":const[,S,k]=n,N=this.mockState.rooms[S];if(N&&N.needsCoinToss){const e=Math.random()<.5,t=N.players.find(e=>e.id===k),n=N.players.find(e=>e.isAI);return t.active=e,n.active=!e,N.firstPlayer=e?t.id:n.id,N.needsCoinToss=!1,N.gameStarted=!0,console.log("\ud83e\ude99 Coin toss completed:",e?"Player":"AI","goes first"),console.log("\ud83c\udfae Active states after coin toss:",{playerActive:t.active,aiActive:n.active,firstPlayer:N.firstPlayer}),!e&&n&&n.hand.length>0?(console.log("\ud83e\udd16 AI won coin toss, will play first card after intro sequence..."),this.notifyListeners("GAME_UPDATE",N),setTimeout(()=>{this.triggerAIFirstMove(S)},15e3)):(console.log("\ud83d\udc64 Player won coin toss, player goes first"),this.notifyListeners("GAME_UPDATE",N)),c({type:"COIN_TOSS_COMPLETE",success:!0,winner:e?"player":"ai",firstPlayer:N.firstPlayer,playerActive:t.active,aiActive:n.active},N)}return{type:"COIN_TOSS_COMPLETE",success:!1};case"CHOOSE_CARD":const[,w,C,T]=n,A=this.mockState.rooms[w];if(A&&A.gameStarted){var a;const e=A.players.find(e=>e.id===C),t=A.players.find(e=>e.isAI);if(console.log("\ud83c\udccf Card chosen:",{player:null===e||void 0===e?void 0:e.name,cardIndex:T,hand:null===e||void 0===e||null===(a=e.hand)||void 0===a?void 0:a.length}),e&&e.active&&0===e.hand.length){if(!(e.deck&&e.deck.length>0)){console.log("\u26a0\ufe0f Player has no cards to play, checking game over...");if(0===t.hand.length&&(!t.deck||0===t.deck.length)){A.gameOver=!0;const n=e.playedCards.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0),a=t.playedCards.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0);return console.log("\ud83d\udcca Final strengths:",{playerTotal:n,aiTotal:a,playerScore:e.score,aiScore:t.score}),A.winner=n>a?e.name:a>n?t.name:"Tie",console.log("\ud83c\udfc1 Game over! Both players out of cards. Winner:",A.winner),this.notifyListeners("GAME_UPDATE",A),{type:"GAME_OVER",winner:A.winner}}return e.active=!1,t.active=!0,this.notifyListeners("GAME_UPDATE",A),{type:"CARD_PLAY_FAILED",reason:"NO_CARDS"}}{var r;console.log("\ud83c\udfb4 Player hand empty, auto-drawing from reserve deck");const t=e.deck.shift();e.hand.push(t),e.cardCount=e.hand.length+((null===(r=e.deck)||void 0===r?void 0:r.length)||0),console.log("\u2705 Player drew card, now has ".concat(e.hand.length," in hand")),this.notifyListeners("GAME_UPDATE",A)}}if(e&&e.active&&e.hand.length>parseInt(T)){var l;const n=this.getActiveStatusEffects(A,e).find(e=>"FREEZE"===e.type);if(n){console.log("\u2744\ufe0f Player is frozen and cannot play cards!");const e="player";return A.statusEffects[e]=A.statusEffects[e].filter(e=>e.id!==n.id),{type:"CARD_PLAY_FAILED",reason:"FROZEN"}}this.getActiveStatusEffects(A,e).find(e=>"FATIGUE"===e.type)&&e.score>0&&(e.score=Math.max(0,e.score-1),console.log("\ud83d\ude34 Fatigue: Player paid 1 score to play card"));const a=this.getActiveStatusEffects(A,e).find(e=>"CONFUSION"===e.type);let r=parseInt(T);a&&(r=Math.floor(Math.random()*e.hand.length),console.log("\ud83d\ude35\u200d\ud83d\udcab Confusion: Random card selected instead!")),e.chosenCard=e.hand[r],e.hand.splice(r,1),e.cardCount--,e.active=!1,A.battlePhase=!0,A.pendingAbility&&!A.deferredAbility&&(console.log("\u26a0\ufe0f Clearing stale pendingAbility before battle"),delete A.pendingAbility),e.playedCards.push(e.chosenCard),A.playedCards.push({playerId:e.id,playerName:e.name,card:e.chosenCard,round:A.currentRound+1}),console.log("\ud83d\udd04 Player card played, triggering AI..."),this.notifyListeners("GAME_UPDATE",A),console.log("\ud83d\udd0d About to start AI timeout chain. Current state:",{battlePhase:A.battlePhase,playerActive:e.active,aiActive:null===t||void 0===t?void 0:t.active,aiExists:!!t,aiHandSize:null===t||void 0===t||null===(l=t.hand)||void 0===l?void 0:l.length});setTimeout(()=>{var n;if(console.log("\u23f0 AI activation timeout triggered (6000ms after player card)"),console.log("\ud83d\udd0d Checking AI availability:",{aiExists:!!t,aiHandLength:null===t||void 0===t||null===(n=t.hand)||void 0===n?void 0:n.length,aiObject:t?{id:t.id,name:t.name,active:t.active,cardCount:t.cardCount}:"null"}),t&&t.hand.length>0){console.log("\ud83e\udd16 AI starting turn...",{aiHandSize:t.hand.length,aiActive:t.active,playerActive:e.active}),t.active=!0,this.notifyListeners("GAME_UPDATE",A),console.log("\ud83d\udce4 AI activation notified"),console.log("\u23f1\ufe0f About to create AI card selection timeout (2000ms)...");setTimeout(()=>{console.log("\u23f0 AI card selection timeout fired (2000ms)");try{if(A.gameOver)return void console.log("\ud83d\uded1 Game already over, skipping AI turn");if(console.log("\ud83d\udd35 AI card selection timeout started (500ms delay)"),!t.hand||0===t.hand.length){if(!(t.deck&&t.deck.length>0)){console.log("\ud83d\udeab AI has no cards in hand or deck, skipping turn...");if(0===e.hand.length&&(!e.deck||0===e.deck.length)){A.gameOver=!0;const n=e.playedCards.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0),a=t.playedCards.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0);return console.log("\ud83d\udcca Final strengths:",{playerTotal:n,aiTotal:a,playerScore:e.score,aiScore:t.score}),A.winner=n>a?e.name:a>n?t.name:"Tie",console.log("\ud83c\udfc1 Game over! Both players out of cards. Winner:",A.winner),void this.notifyListeners("GAME_UPDATE",A)}return console.log("\u23ed\ufe0f AI skipping turn (no cards), switching to player"),e.active=!0,t.active=!1,A.battlePhase=!1,A.currentRound++,void this.notifyListeners("GAME_UPDATE",A)}{var n;console.log("\ud83c\udfb4 AI hand empty, drawing from reserve deck");const e=t.deck.shift();t.hand.push(e),t.cardCount=t.hand.length+((null===(n=t.deck)||void 0===n?void 0:n.length)||0),console.log("\u2705 AI drew card, now has ".concat(t.hand.length," in hand"))}}if(!Array.isArray(t.hand))return console.error("\u274c AI hand is not an array!"),t.hand=[],e.active=!0,t.active=!1,A.battlePhase=!1,void this.notifyListeners("GAME_UPDATE",A);const r=this.getActiveStatusEffects(A,t).find(e=>"FREEZE"===e.type);if(r){console.log("\u2744\ufe0f AI is frozen and skips turn!");const n="ai";return A.statusEffects[n]=A.statusEffects[n].filter(e=>e.id!==r.id),void setTimeout(()=>{A.currentRound++,e.active=!0,t.active=!1,this.notifyListeners("GAME_UPDATE",A)},1e3)}let l;this.getActiveStatusEffects(A,t).find(e=>"FATIGUE"===e.type)&&t.score>0&&(t.score=Math.max(0,t.score-1),console.log("\ud83d\ude34 AI Fatigue: Paid 1 score to play card"));if(this.getActiveStatusEffects(A,t).find(e=>"CONFUSION"===e.type))l=Math.floor(Math.random()*t.hand.length),console.log("\ud83d\ude35\u200d\ud83d\udcab AI Confusion: Random card selection");else try{const n={aggressiveness:t.aggressiveness||.7,conservativeness:t.conservativeness||.2,counterPriority:t.counterPriority||.5,preferredElements:t.preferredElements||["FIRE","EARTH"],comboFocus:t.comboFocus||.3};console.log("\ud83e\udd16 AI decision process:",{aiName:t.name,difficulty:t.difficulty,handSize:t.hand.length,strategy:n,playerLastCard:e.chosenCard?"".concat(e.chosenCard.element," (").concat(e.chosenCard.strength,")"):"none"}),l=be(t.hand,n,e.chosenCard);const a=t.hand[l];console.log("\ud83e\udd16 Smart AI selected:",{cardIndex:l,card:"".concat(a.element," (").concat(a.strength,")"),personality:t.personalityKey||"default",reasoning:"strategic selection"})}catch(a){console.warn("\u26a0\ufe0f AI selection failed, falling back to random:",a),l=Math.floor(Math.random()*t.hand.length)}(l<0||l>=t.hand.length)&&(console.error("\u274c Invalid AI card index, using 0:",l),l=0);const s=t.hand[l];if(!s||"object"!==typeof s)return console.error("\u274c AI card at index does not exist or is invalid!",{index:l,handLength:t.hand.length,selectedCard:s,hand:t.hand}),e.active=!0,t.active=!1,A.battlePhase=!1,void this.notifyListeners("GAME_UPDATE",A);if(!s.element||"number"!==typeof s.strength)return console.error("\u274c AI card missing required properties!",s),e.active=!0,t.active=!1,A.battlePhase=!1,void this.notifyListeners("GAME_UPDATE",A);console.log("\ud83e\udd16 AI playing card at index:",l,"from hand of",t.hand.length),t.chosenCard=t.hand[l],t.hand.splice(l,1),t.cardCount--,t.active=!1;const o=t.chosenCard.element,i=t.chosenCard.strength,c={FIRE:["\ud83d\udd25 Feel the heat!","Time to burn!","Ignite and fight!"],ICE:["\u2744\ufe0f Freeze in place!","Chill out!","Ice cold strategy!"],WATER:["\ud83c\udf0a Ride the wave!","Flowing to victory!","Tsunami incoming!"],ELECTRICITY:["\u26a1 Shocking power!","Electrifying!","Lightning strikes!"],EARTH:["\ud83c\udf0d Rock solid!","Ground and pound!","Earth shaker!"],POWER:["\u2b50 Ultimate power!","This ends now!","Witness true strength!"],LIGHT:["\u2728 Blinding brilliance!","Light conquers all!","Divine judgment!"],DARK:["\ud83c\udf11 Embrace the void!","Darkness rises!","Shadow strike!"]}[o]||["Here's my move!","Take this!","My turn!"],u=c[Math.floor(Math.random()*c.length)];console.log("\ud83e\udd16 ".concat(t.name,': "').concat(u,'" (').concat(o," ").concat(i,")")),console.log("\u2705 AI card played successfully, preparing battle resolution..."),t.lastPlayedElement=o,console.log("\ud83e\udd16 AI played card:",t.chosenCard),t.playedCards.push(t.chosenCard),A.playedCards.push({playerId:t.id,playerName:t.name,card:t.chosenCard,round:A.currentRound+1}),console.log("\ud83d\udce2 AI card added to played cards, notifying listeners..."),this.notifyListeners("GAME_UPDATE",A),console.log("\u2705 Listeners notified, starting battle resolution timer (6000ms - 6 seconds)..."),console.log("\u23f1\ufe0f About to create setTimeout for battle resolution...");setTimeout(()=>{if(console.log("\u23f0 Battle timeout triggered after 6 seconds"),A.gameOver)console.log("\ud83d\uded1 Game already over, skipping battle resolution");else{console.log("\ud83d\udcca Battle timeout state check:",{playerCard:!!e.chosenCard,aiCard:!!t.chosenCard,battlePhase:A.battlePhase});try{var n,a;if(console.log("\u2694\ufe0f Starting battle resolution..."),!e.chosenCard||!t.chosenCard)throw console.error("\u274c Missing cards!",{playerCard:e.chosenCard,aiCard:t.chosenCard}),new Error("Missing player or AI card");A.currentRound++;let l=e.chosenCard.strength,s=t.chosenCard.strength;const o=e.chosenCard,i=t.chosenCard;console.log("\u2694\ufe0f Resolving battle:",{player:"".concat(o.element," (").concat(l,")"),ai:"".concat(i.element," (").concat(s,")"),aiPersonality:t.name}),this.processStatusEffects(A,e),this.processStatusEffects(A,t),l=this.applyStatusModifiersToCard(A,o,e),s=this.applyStatusModifiersToCard(A,i,t);const c={};e.playedCards.forEach(e=>{e&&e.element&&(c[e.element]=(c[e.element]||0)+1)});const u={};t.playedCards.forEach(e=>{e&&e.element&&(u[e.element]=(u[e.element]||0)+1)});const d=c[o.element]||0;d>=2&&d<=4&&(l*=2,A.lastMatchBonus={element:o.element,player:e.name,count:d,timestamp:Date.now()},console.log("\ud83c\udfaf Player element match bonus! ".concat(d,"x ").concat(o.element," cards - Double strength!")));const f=u[i.element]||0;f>=2&&f<=4&&(s*=2,A.lastMatchBonus={element:i.element,player:t.name,count:f,timestamp:Date.now()},console.log("\ud83e\udd16 AI element match bonus! ".concat(f,"x ").concat(i.element," cards - Double strength!")));const m={FIRE:["ICE","WATER"],ICE:["ELECTRICITY","FIRE"],WATER:["EARTH","ELECTRICITY"],ELECTRICITY:["EARTH","WATER"],EARTH:["FIRE","ICE"],LIGHT:["DARK"],DARK:["LIGHT"],METEOR:["EARTH"],POWER:["DARK"],TECHNOLOGY:[],NEUTRAL:[]};null!==(n=m[o.element])&&void 0!==n&&n.includes(i.element)&&(l+=3,o.isCounter=!0,console.log("\u2694\ufe0f Player counter bonus! +3 strength")),null!==(a=m[i.element])&&void 0!==a&&a.includes(o.element)&&(s+=3,i.isCounter=!0,console.log("\ud83e\udd16 AI counter bonus! +3 strength"));const p=this.getActiveStatusEffects(A,e).some(e=>"CRITICAL_HIT"===e.type),h=this.getActiveStatusEffects(A,t).some(e=>"CRITICAL_HIT"===e.type);p&&(l*=2,console.log("\ud83d\udca5 Player critical hit! Double damage!")),h&&(s*=2,console.log("\ud83d\udca5 AI critical hit! Double damage!"));try{console.log("\ud83c\udfad About to apply element abilities..."),this.applyElementAbilities(A,o,i,e,t),console.log("\u2705 Element abilities applied successfully")}catch(r){console.error("\u274c ERROR applying element abilities:",r),console.error("Ability error stack:",r.stack)}o.modifiedStrength=l,i.modifiedStrength=s;const g=(e,t)=>{const n=this.getActiveStatusEffects(A,t).find(e=>"SHIELD"===e.type);if(n){const a=Math.min(n.value,e);if(n.value-=a,n.value<=0){const e=t.isAI?"ai":"player";A.statusEffects[e]=A.statusEffects[e].filter(e=>e.id!==n.id)}return console.log("\ud83d\udee1\ufe0f Shield absorbed ".concat(a," damage")),Math.max(0,e-a)}return e},v=g(l,t),y=g(s,e);if(v>y){e.score++,o.winner=!0;const n=this.getActiveStatusEffects(A,t).find(e=>"VULNERABILITY"===e.type);n&&(t.score=Math.max(0,t.score-n.value),console.log("\ud83c\udfaf Vulnerability caused extra ".concat(n.value," damage to AI"))),console.log("\ud83c\udf89 Player wins round!")}else if(y>v){t.score++,i.winner=!0;const n=this.getActiveStatusEffects(A,e).find(e=>"VULNERABILITY"===e.type);n&&(e.score=Math.max(0,e.score-n.value),console.log("\ud83c\udfaf Vulnerability caused extra ".concat(n.value," damage to player"))),console.log("\ud83e\udd16 AI wins round!")}else o.tie=!0,i.tie=!0,console.log("\ud83e\udd1d Round tie!");const b=e=>{const t=e.isAI?"ai":"player";A.statusEffects[t]=A.statusEffects[t].filter(e=>!["CRITICAL_HIT"].includes(e.type)||e.appliedThisTurn)};b(e),b(t),e.lastPlayedElement=o.element,t.lastPlayedElement=i.element,console.log("\ud83d\udd04 Checking game over conditions...");const E=0===e.hand.length&&(!e.deck||0===e.deck.length),x=0===t.hand.length&&(!t.deck||0===t.deck.length);if(E&&x){A.gameOver=!0;const n=e.playedCards.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0),a=t.playedCards.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0);return console.log("\ud83d\udcca Final strengths:",{playerTotal:n,aiTotal:a,playerScore:e.score,aiScore:t.score}),A.winner=n>a?e.name:a>n?t.name:"Tie",console.log("\ud83c\udfc1 Game over! All cards played. Winner:",A.winner),console.log("\ud83d\udce4 Notifying listeners of GAME OVER immediately..."),this.notifyListeners("GAME_UPDATE",A),void console.log("\u2705 Game over notification sent")}console.log("\u25b6\ufe0f Setting up next round...",{currentRound:A.currentRound,maxRounds:A.maxRounds,deferredAbility:A.deferredAbility}),console.log("\u23f1\ufe0f About to create next round timeout (6000ms)...");setTimeout(()=>{if(console.log("\ud83d\udd04 Next round timeout triggered - clearing cards and resetting turn"),A.gameOver)return void console.log("\ud83d\uded1 Game already over, skipping next round setup");console.log("\ud83d\udcca Pre-reset state:",{round:A.currentRound,playerActive:e.active,aiActive:t.active,playerHandSize:e.hand.length,aiHandSize:t.hand.length,battlePhase:A.battlePhase}),e.chosenCard=null,t.chosenCard=null;const n=this.getActiveStatusEffects(A,e).find(e=>"FREEZE"===e.type),a=this.getActiveStatusEffects(A,t).find(e=>"FREEZE"===e.type);if(n){e.active=!1,t.active=!0;const a="player";A.statusEffects[a]=A.statusEffects[a].filter(e=>e.id!==n.id),console.log("\u2744\ufe0f Player was frozen, AI goes first")}else if(a){e.active=!0,t.active=!1;const n="ai";A.statusEffects[n]=A.statusEffects[n].filter(e=>e.id!==a.id),console.log("\u2744\ufe0f AI was frozen, Player goes first")}else e.active=!0,t.active=!1,console.log("\u2705 Normal turn order - Player goes first");A.battlePhase=!1,A.deferredAbility&&(A.pendingAbility=A.deferredAbility,delete A.deferredAbility,console.log("\ud83c\udf0d EARTH: Activated deferred ability after battle"),console.log("\ud83d\udccb Pending ability:",A.pendingAbility),e.active=!1,t.active=!1,console.log("\u23f8\ufe0f Waiting for EARTH ability resolution before continuing"));const r=0===e.hand.length&&(!e.deck||0===e.deck.length),l=0===t.hand.length&&(!t.deck||0===t.deck.length);if(r&&l){A.gameOver=!0;const n=e.playedCards.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0),a=t.playedCards.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0);return console.log("\ud83d\udcca Final strengths:",{playerTotal:n,aiTotal:a,playerScore:e.score,aiScore:t.score}),A.winner=n>a?e.name:a>n?t.name:"Tie",console.log("\ud83c\udfc1 Game over! Both players out of cards at start of round. Winner:",A.winner),this.notifyListeners("GAME_UPDATE",A),void console.log("\u2705 Game over notification sent")}console.log("\u27a1\ufe0f Next round starting (Round "+A.currentRound+")...",{round:A.currentRound,playerActive:e.active,aiActive:t.active,battlePhase:A.battlePhase}),console.log("\ud83d\udce4 Notifying listeners for new round..."),this.notifyListeners("GAME_UPDATE",A),console.log("\u2705 New round notification sent")},6e3);console.log("\ud83d\udce4 Notifying listeners of battle result..."),this.notifyListeners("GAME_UPDATE",A),console.log("\u2705 Battle resolution complete")}catch(l){console.error("\u274c BATTLE RESOLUTION ERROR:",l),console.error("Error stack:",l.stack),console.error("Game state:",{round:A.currentRound,playerCard:e.chosenCard,aiCard:t.chosenCard,playerScore:e.score,aiScore:t.score}),A.battlePhase=!1,e.chosenCard=null,t.chosenCard=null,e.active=!0,t.active=!1,this.notifyListeners("GAME_UPDATE",A)}}},6e3)}catch(r){console.error("\u274c AI PLAY ERROR:",r),console.error("AI Play error stack:",r.stack),e.active=!0,t.active=!1,A.battlePhase=!1,this.notifyListeners("GAME_UPDATE",A)}},2e3)}else{var a,r;console.log("\u23ed\ufe0f AI has no cards, skipping turn...",{aiExists:!!t,aiHandLength:null===t||void 0===t||null===(a=t.hand)||void 0===a?void 0:a.length,aiDeckLength:(null===t||void 0===t||null===(r=t.deck)||void 0===r?void 0:r.length)||0});if(0===e.hand.length&&(!e.deck||0===e.deck.length)){A.gameOver=!0;const n=e.playedCards.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0),a=t.playedCards.reduce((e,t)=>e+(t.modifiedStrength||t.strength||0),0);A.winner=n>a?e.name:a>n?t.name:"Tie",console.log("\ud83c\udfc1 Game over! Both players out of cards. Winner:",A.winner),this.notifyListeners("GAME_UPDATE",A)}else console.log("\u23ed\ufe0f Skipping AI turn, returning control to player"),e.active=!0,t.active=!1,A.battlePhase=!1,A.currentRound++,this.notifyListeners("GAME_UPDATE",A)}},6e3);return{type:"CARD_CHOSEN",success:!0}}var s;console.log("\u274c Invalid card choice:",{playerActive:null===e||void 0===e?void 0:e.active,handLength:null===e||void 0===e||null===(s=e.hand)||void 0===s?void 0:s.length,cardIndex:parseInt(T)})}else console.log("\u274c Room not found or game not started:",{roomFound:!!A,gameStarted:null===A||void 0===A?void 0:A.gameStarted});return{type:"CARD_CHOSEN",success:!1};case"GET_STATE":const[,j]=n,R=this.mockState.rooms[j];return R?(this.emit("gameState",R),R):{error:"Room not found"};case"DRAW_FROM_RESERVE":const[,P,I,O]=n,M=this.mockState.rooms[P];if(console.log("\ud83c\udccf DRAW_FROM_RESERVE received:",{roomId:P,playerId:I,cardIndex:O,roomExists:!!M,gameStarted:null===M||void 0===M?void 0:M.gameStarted,players:null===M||void 0===M||null===(t=M.players)||void 0===t?void 0:t.map(e=>{var t;return{id:e.id,name:e.name,isAI:e.isAI,deckSize:null===(t=e.deck)||void 0===t?void 0:t.length}})}),M&&M.gameStarted){var o;const e=M.players.find(e=>e.id===I);if(console.log("\ud83c\udccf DRAW_FROM_RESERVE player check:",{playerFound:!!e,playerId:I,playerName:null===e||void 0===e?void 0:e.name,deckExists:!(null===e||void 0===e||!e.deck),deckIsArray:Array.isArray(null===e||void 0===e?void 0:e.deck),deckSize:(null===e||void 0===e||null===(o=e.deck)||void 0===o?void 0:o.length)||0,requestedIndex:O}),e&&e.deck&&e.deck.length>0){const t=Math.min(parseInt(O)||0,e.deck.length-1);console.log("\ud83c\udccf Drawing card at index:",t,"from deck of",e.deck.length);const n=e.deck.splice(t,1)[0];if(!n)return console.error("\u274c Failed to draw card - card is null/undefined"),{type:"CARD_DRAWN",success:!1};e.hand.push(n),e.cardCount++,M.pendingAbility&&delete M.pendingAbility,console.log("\u2705 EARTH: Drew card from reserve deck:",n.element,"- Hand now has",e.hand.length,"cards");const a=M.players.find(e=>!e.isAI),r=M.players.find(e=>e.isAI);return a.active=!0,r.active=!1,console.log("\u27a1\ufe0f Player active after EARTH card draw, ready for next turn"),this.notifyListeners("GAME_UPDATE",M),{type:"CARD_DRAWN",success:!0}}var i,u;console.error("\u274c Cannot draw from reserve:",{playerExists:!!e,deckExists:!(null===e||void 0===e||!e.deck),deckSize:(null===e||void 0===e||null===(i=e.deck)||void 0===i?void 0:i.length)||0,deckEmpty:0===(null===e||void 0===e||null===(u=e.deck)||void 0===u?void 0:u.length)})}else console.error("\u274c DRAW_FROM_RESERVE failed - room validation:",{roomExists:!!M,gameStarted:null===M||void 0===M?void 0:M.gameStarted});return{type:"CARD_DRAWN",success:!1};case"SKIP_ABILITY":const[,_,L]=n,D=this.mockState.rooms[_];if(D&&D.pendingAbility&&D.pendingAbility.playerId===L){delete D.pendingAbility,console.log("\u23ed\ufe0f Ability skipped");const e=D.players.find(e=>!e.isAI),t=D.players.find(e=>e.isAI);return e.active=!0,t.active=!1,console.log("\u27a1\ufe0f Player active after skipping ability, ready for next turn"),this.notifyListeners("GAME_UPDATE",D),{type:"ABILITY_SKIPPED",success:!0}}return{type:"ABILITY_SKIPPED",success:!1};case"FORFEIT_TURN":const[,F,z]=n,B=this.mockState.rooms[F];if(B&&B.gameStarted){const e=B.players.find(e=>e.id===z),t=B.players.find(e=>e.id!==z);if(e&&e.active)return console.log("\u23ed\ufe0f Player forfeited turn"),e.score=Math.max(0,e.score-1),e.active=!1,e.chosenCard=null,t&&(t.active=!0,t.chosenCard=null),B.battlePhase=!1,this.notifyListeners("GAME_UPDATE",B),{type:"TURN_FORFEITED",success:!0}}return{type:"TURN_FORFEITED",success:!1};default:return{type:"SUCCESS",message:"Mock command processed"}}}initializeStatusEffects(e){e.statusEffectId=1,e.statusEffects={player:[],ai:[]},e.availableStatusEffects={STRENGTH_BOOST:{type:"buff",name:"Strength Boost",icon:"\ud83d\udcaa",description:"+{value} strength for {duration} turns",stackable:!0},SHIELD:{type:"buff",name:"Shield",icon:"\ud83d\udee1\ufe0f",description:"Absorb next {value} damage",stackable:!0},BARRIER:{type:"buff",name:"Barrier",icon:"\ud83d\udd30",description:"Immune to debuffs for {duration} turns",stackable:!1},DOUBLE_STRIKE:{type:"buff",name:"Double Strike",icon:"\u2694\ufe0f",description:"Play 2 cards this turn",stackable:!1},REGENERATION:{type:"buff",name:"Regeneration",icon:"\ud83d\udc9a",description:"+{value} score each turn for {duration} turns",stackable:!0},ELEMENT_MASTERY:{type:"buff",name:"Element Mastery",icon:"\ud83d\udd2e",description:"All {element} cards get +{value} strength",stackable:!1},DRAW_POWER:{type:"buff",name:"Draw Power",icon:"\ud83d\udcda",description:"Draw {value} extra cards",stackable:!0},TURN_EXTENSION:{type:"buff",name:"Turn Extension",icon:"\u23f0",description:"Get +{value} seconds on turns",stackable:!1},PIERCING:{type:"buff",name:"Piercing",icon:"\ud83d\udde1\ufe0f",description:"Ignore opponent shields for {duration} turns",stackable:!1},CRITICAL_HIT:{type:"buff",name:"Critical Strike",icon:"\ud83d\udca5",description:"Next attack deals double damage",stackable:!1},CLEANSE:{type:"buff",name:"Cleanse",icon:"\u2728",description:"Remove all debuffs",instant:!0},REFLECT:{type:"buff",name:"Reflect",icon:"\ud83e\ude9e",description:"Reflect {value}% damage back for {duration} turns",stackable:!1},WEAKNESS:{type:"debuff",name:"Weakness",icon:"\ud83d\ude35",description:"-{value} strength for {duration} turns",stackable:!0},BURN:{type:"debuff",name:"Burn",icon:"\ud83d\udd25",description:"Lose {value} HP each turn for {duration} turns (DoT)",stackable:!0},FREEZE:{type:"debuff",name:"Freeze",icon:"\ud83e\uddca",description:"Cannot play cards for {duration} turns",stackable:!1},STUN:{type:"debuff",name:"Stun",icon:"\ud83d\udcab",description:"Skip next turn completely",stackable:!1},CONFUSION:{type:"debuff",name:"Confusion",icon:"\ud83d\ude35\u200d\ud83d\udcab",description:"Random card selection for {duration} turns",stackable:!1},SILENCE:{type:"debuff",name:"Silence",icon:"\ud83d\udd07",description:"No element abilities for {duration} turns",stackable:!1},FATIGUE:{type:"debuff",name:"Fatigue",icon:"\ud83d\ude34",description:"Cards cost {value} score to play for {duration} turns",stackable:!0},CURSE:{type:"debuff",name:"Curse",icon:"\ud83d\udc79",description:"All cards have -{value} strength for {duration} turns",stackable:!0},POISON:{type:"debuff",name:"Poison",icon:"\u2620\ufe0f",description:"Lose {value} HP per turn, cards lose strength",stackable:!0},VULNERABILITY:{type:"debuff",name:"Vulnerability",icon:"\ud83c\udfaf",description:"Take +{value}% damage for {duration} turns",stackable:!1},BLEED:{type:"debuff",name:"Bleed",icon:"\ud83e\ude78",description:"Lose {value} HP at turn end for {duration} turns",stackable:!0},SLOW:{type:"debuff",name:"Slow",icon:"\ud83d\udc0c",description:"Turn timer reduced by {value} seconds",stackable:!1}}}applyStatusEffect(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const s=t.isAI?"ai":"player",o=e.availableStatusEffects[n];if("debuff"===(null===o||void 0===o?void 0:o.type)){if(e.statusEffects[s].some(e=>"BARRIER"===e.type))return console.log("\ud83d\udd30 ".concat(t.name,"'s barrier blocked ").concat(n,"!")),!1}if("CLEANSE"===n){const n=e.statusEffects[s].filter(t=>{const n=e.availableStatusEffects[t.type];return"debuff"===(null===n||void 0===n?void 0:n.type)});return e.statusEffects[s]=e.statusEffects[s].filter(t=>{const n=e.availableStatusEffects[t.type];return"debuff"!==(null===n||void 0===n?void 0:n.type)}),console.log("\u2728 ".concat(t.name," cleansed ").concat(n.length," debuffs!")),!0}const i={id:e.statusEffectId++,type:n,value:a,duration:r,element:l,turnsRemaining:r,appliedThisTurn:!0,totalDamageDealt:0},c=e.statusEffects[s].find(e=>e.type===n&&e.element===l);return c?null!==o&&void 0!==o&&o.stackable?(c.value+=a,c.turnsRemaining=Math.max(c.turnsRemaining,r)):(c.turnsRemaining=r,c.value=Math.max(c.value,a)):e.statusEffects[s].push(i),console.log("\u2728 Applied ".concat(n," to ").concat(t.name,": ").concat(a," for ").concat(r," turns")),!0}processStatusEffects(e,t){const n=t.isAI?"ai":"player",a=e.statusEffects[n];let r=[];const l=a.some(e=>"STUN"===e.type&&!e.appliedThisTurn),s=a.some(e=>"FREEZE"===e.type&&!e.appliedThisTurn);return a.forEach(e=>{if(e.appliedThisTurn)e.appliedThisTurn=!1;else{switch(e.type){case"REGENERATION":t.score+=e.value,console.log("\ud83d\udc9a ".concat(t.name," regenerated ").concat(e.value," HP"));break;case"BURN":const n=e.value;t.score=Math.max(0,t.score-n),e.totalDamageDealt+=n,r.push({type:"BURN",damage:n}),console.log("\ud83d\udd25 ".concat(t.name," burned for ").concat(n," HP (Total: ").concat(e.totalDamageDealt,")"));break;case"BLEED":const a=e.value;t.score=Math.max(0,t.score-a),e.totalDamageDealt+=a,r.push({type:"BLEED",damage:a}),console.log("\ud83e\ude78 ".concat(t.name," bled for ").concat(a," HP (Total: ").concat(e.totalDamageDealt,")"));break;case"POISON":const l=e.value;t.score=Math.max(0,t.score-l),e.totalDamageDealt+=l,t.hand.length>0&&t.hand.forEach(e=>{e.modifiedStrength?e.modifiedStrength=Math.max(1,e.modifiedStrength-1):e.modifiedStrength=Math.max(1,e.strength-1)}),r.push({type:"POISON",damage:l}),console.log("\u2620\ufe0f ".concat(t.name," poisoned for ").concat(l," HP and cards weakened (Total: ").concat(e.totalDamageDealt,")"));break;case"STUN":console.log("\ud83d\udcab ".concat(t.name," is stunned!"));break;case"FREEZE":console.log("\ud83e\uddca ".concat(t.name," is frozen!"));break;case"FATIGUE":console.log("\ud83d\ude34 ".concat(t.name," is fatigued (costs ").concat(e.value," HP per card)"));break;case"BARRIER":console.log("\ud83d\udd30 ".concat(t.name," has barrier protection"))}e.turnsRemaining--}}),e.statusEffects[n]=a.filter(e=>e.turnsRemaining>0),{isStunned:l,isFrozen:s,canAct:!l&&!s,damageLog:r}}hasStatusEffect(e,t,n){const a=t.isAI?"ai":"player";return e.statusEffects[a].some(e=>e.type===n)}removeStatusEffect(e,t,n){const a=t.isAI?"ai":"player",r=e.statusEffects[a].filter(e=>e.type===n);return e.statusEffects[a]=e.statusEffects[a].filter(e=>e.type!==n),r.length}absorbDamageWithShield(e,t,n){const a=t.isAI?"ai":"player",r=e.statusEffects[a].filter(e=>"SHIELD"===e.type);let l=n;for(let s of r){if(l<=0)break;const e=Math.min(s.value,l);s.value-=e,l-=e,console.log("\ud83d\udee1\ufe0f ".concat(t.name,"'s shield absorbed ").concat(e," damage (").concat(s.value," remaining)"))}return e.statusEffects[a]=e.statusEffects[a].filter(e=>"SHIELD"!==e.type||e.value>0),{absorbedDamage:n-l,actualDamage:l}}applyStatusModifiersToCard(e,t,n){const a=n.isAI?"ai":"player",r=e.statusEffects[a];let l=t.strength;return r.forEach(e=>{switch(e.type){case"STRENGTH_BOOST":l+=e.value,console.log("\ud83d\udcaa ".concat(n.name," strength boost: +").concat(e.value));break;case"WEAKNESS":l=Math.max(1,l-e.value),console.log("\ud83d\ude35 ".concat(n.name," weakness: -").concat(e.value));break;case"CURSE":l=Math.max(1,l-e.value),console.log("\ud83d\udc79 ".concat(n.name," cursed: -").concat(e.value));break;case"ELEMENT_MASTERY":e.element===t.element&&(l+=e.value,console.log("\ud83d\udd2e ".concat(n.name," element mastery (").concat(e.element,"): +").concat(e.value)))}}),l}triggerAIFirstMove(e){var t;console.log("\ud83c\udfaf triggerAIFirstMove called with roomId:",e);const n=this.mockState.rooms[e];if(!n||!n.gameStarted)return void console.error("\u274c Room not found or game not started:",{roomExists:!!n,gameStarted:null===n||void 0===n?void 0:n.gameStarted});const a=n.players.find(e=>e.isAI),r=n.players.find(e=>!e.isAI);if(console.log("\ud83d\udd0d AI and player found:",{aiExists:!!a,playerExists:!!r,aiActive:null===a||void 0===a?void 0:a.active,aiHandLength:null===a||void 0===a||null===(t=a.hand)||void 0===t?void 0:t.length}),a&&a.active){if(0===a.hand.length){if(!(a.deck&&a.deck.length>0))return void console.log("\u26a0\ufe0f AI has no cards available to play");{var l;console.log("\ud83c\udfb4 AI hand empty on first move, drawing from reserve deck");const e=a.deck.shift();a.hand.push(e),a.cardCount=a.hand.length+((null===(l=a.deck)||void 0===l?void 0:l.length)||0),console.log("\u2705 AI drew card, now has ".concat(a.hand.length," in hand"))}}console.log("\ud83e\udd16 AI making first move..."),this.notifyListeners("GAME_UPDATE",n),setTimeout(()=>{try{let t;console.log("\u23f0 AI first move timeout triggered");try{const e={aggressiveness:a.aggressiveness||.7,conservativeness:a.conservativeness||.2,counterPriority:a.counterPriority||.5,preferredElements:a.preferredElements||["FIRE","EARTH"],comboFocus:a.comboFocus||.3};t=be(a.hand,e,null),console.log("\ud83e\udd16 Smart AI selected card index:",t)}catch(e){console.warn("\u26a0\ufe0f AI selection failed, falling back to random:",e),t=Math.floor(Math.random()*a.hand.length)}(t<0||t>=a.hand.length)&&(console.error("\u274c Invalid AI card index in first move:",t),t=0),a.chosenCard=a.hand[t],a.hand.splice(t,1),a.cardCount--,a.lastPlayedElement=a.chosenCard.element,console.log("\ud83e\udd16 AI played first card:",a.chosenCard),a.playedCards.push(a.chosenCard),n.playedCards.push({playerId:a.id,playerName:a.name,card:a.chosenCard,round:n.currentRound+1}),a.active=!1,r.active=!0,console.log("\u2705 AI first move complete, switching to player turn"),this.notifyListeners("GAME_UPDATE",n)}catch(t){console.error("\u274c ERROR in AI first move:",t),console.error("First move error stack:",t.stack),a.active=!1,r.active=!0,this.notifyListeners("GAME_UPDATE",n)}},1500)}else{var s;console.log("\u26a0\ufe0f triggerAIFirstMove called but AI should not play:",{aiExists:!!a,aiActive:null===a||void 0===a?void 0:a.active,handLength:null===a||void 0===a||null===(s=a.hand)||void 0===s?void 0:s.length})}}getActiveStatusEffects(e,t){const n=t.isAI?"ai":"player";return e.statusEffects[n]||[]}generateAdvancedCards(e){const t=["FIRE","ICE","WATER","ELECTRICITY","EARTH","POWER","LIGHT","DARK","NEUTRAL","TECHNOLOGY","METEOR"],n=["COMMON","UNCOMMON","RARE","LEGENDARY"],a=[.5,.3,.15,.05],r=[];for(let l=0;l<e;l++){const e=t[Math.floor(Math.random()*t.length)];let s="COMMON";const o=Math.random();let i,c=0;for(let t=0;t<n.length;t++)if(c+=a[t],o<=c){s=n[t];break}switch(s){case"LEGENDARY":i=8+Math.floor(3*Math.random());break;case"RARE":i=6+Math.floor(3*Math.random());break;case"UNCOMMON":i=4+Math.floor(3*Math.random());break;default:i=2+Math.floor(3*Math.random())}const u={element:e,strength:i,tier:s,id:Date.now()+"_"+l+"_"+Math.random().toString(36).substr(2,9),evolved:!1,isCounter:!1};"NEUTRAL"===e?u.neutralAbility=Math.random()>.5?"COPY":"BOOST":"TECHNOLOGY"===e&&(u.techAbility=Math.random()>.5?"SHIELD":"CREATE"),r.push(u)}return r}applyElementAbilities(e,t,n,a,r){console.log("\ud83c\udfad Applying element abilities with status effects...");const l=this.getActiveStatusEffects(e,a).some(e=>"SILENCE"===e.type),s=this.getActiveStatusEffects(e,r).some(e=>"SILENCE"===e.type);if("FIRE"===t.element&&!l)if(this.applyStatusEffect(e,r,"BURN",2,3),r.hand&&Array.isArray(r.hand)&&r.hand.length>0){if(r.hand.filter(e=>e&&"number"===typeof e.strength).length>0){const e=r.hand.reduce((e,t,n,a)=>t&&a[e]?t.strength<a[e].strength?n:e:n,0);r.hand.splice(e,1),r.cardCount=Math.max(0,r.cardCount-1),console.log("\ud83d\udd25 FIRE: Applied burn debuff and destroyed weakest card from hand")}}else console.log("\ud83d\udd25 FIRE: Applied burn debuff but no cards in hand to burn");if("FIRE"===n.element&&!s)if(this.applyStatusEffect(e,a,"BURN",2,3),a.hand&&Array.isArray(a.hand)&&a.hand.length>0){if(a.hand.filter(e=>e&&"number"===typeof e.strength).length>0){const e=a.hand.reduce((e,t,n,a)=>t&&a[e]?t.strength<a[e].strength?n:e:n,0);a.hand.splice(e,1),a.cardCount=Math.max(0,a.cardCount-1),console.log("\ud83d\udd25 FIRE: AI applied burn debuff and destroyed weakest card from hand")}}else console.log("\ud83d\udd25 FIRE: AI applied burn debuff but no cards in hand to burn");if("ICE"!==t.element||l||(this.applyStatusEffect(e,r,"FREEZE",1,1),this.applyStatusEffect(e,r,"WEAKNESS",2,2),console.log("\u2744\ufe0f ICE: Applied freeze and weakness debuffs")),"ICE"!==n.element||s||(this.applyStatusEffect(e,a,"FREEZE",1,1),this.applyStatusEffect(e,a,"WEAKNESS",2,2),console.log("\u2744\ufe0f ICE: AI applied freeze and weakness debuffs")),"WATER"!==t.element||l||(this.applyStatusEffect(e,r,"VULNERABILITY",2,3),r.score>0&&(r.score--,console.log("\ud83d\udca7 WATER: Applied vulnerability debuff and reduced score"))),"WATER"!==n.element||s||(this.applyStatusEffect(e,a,"VULNERABILITY",2,3),a.score>0&&(a.score--,console.log("\ud83d\udca7 WATER: AI applied vulnerability debuff and reduced score"))),"ELECTRICITY"===t.element&&!l&&(this.applyStatusEffect(e,r,"CONFUSION",1,2),r.hand&&Array.isArray(r.hand)&&r.hand.length>0)){if(r.hand.filter(e=>e&&"number"===typeof e.strength).length>0){const e=r.hand.reduce((e,t,n,a)=>t&&a[e]?t.strength>a[e].strength?n:e:n,0);r.hand[e]&&"number"===typeof r.hand[e].strength&&(r.hand[e].strength>1?(r.hand[e].strength--,console.log("\u26a1 ELECTRICITY: Applied confusion and damaged strongest card")):(r.hand.splice(e,1),r.cardCount=Math.max(0,r.cardCount-1),console.log("\u26a1 ELECTRICITY: Applied confusion and destroyed weak card")))}}if("ELECTRICITY"===n.element&&!s&&(this.applyStatusEffect(e,a,"CONFUSION",1,2),a.hand&&Array.isArray(a.hand)&&a.hand.length>0)){if(a.hand.filter(e=>e&&"number"===typeof e.strength).length>0){const e=a.hand.reduce((e,t,n,a)=>t&&a[e]?t.strength>a[e].strength?n:e:n,0);a.hand[e]&&"number"===typeof a.hand[e].strength&&(a.hand[e].strength>1?(a.hand[e].strength--,console.log("\u26a1 ELECTRICITY: AI applied confusion and damaged strongest card")):(a.hand.splice(e,1),a.cardCount=Math.max(0,a.cardCount-1),console.log("\u26a1 ELECTRICITY: AI applied confusion and destroyed weak card")))}}var o,i;"EARTH"!==t.element||l||(this.applyStatusEffect(e,a,"DRAW_POWER",1,2),(null===(o=a.deck)||void 0===o?void 0:o.length)>0?(e.deferredAbility={type:"EARTH_DRAW",playerId:a.id,playerName:a.name},console.log("\ud83c\udf0d EARTH: Applied draw power buff and deferred card selection until after battle")):console.log("\ud83c\udf0d EARTH: Applied draw power buff but no reserve deck available"));if("EARTH"===n.element&&!s&&(this.applyStatusEffect(e,r,"DRAW_POWER",1,2),(null===(i=r.deck)||void 0===i?void 0:i.length)>0)){const e=Math.floor(Math.random()*r.deck.length),t=r.deck.splice(e,1)[0];r.hand.push(t),r.cardCount++,console.log("\ud83c\udf0d EARTH: AI drew card from reserve deck automatically")}if("POWER"===t.element&&!l){const t=this.generateAdvancedCards(1)[0];a.playedCards.push(t),e.playedCards.push({playerId:a.id,playerName:a.name+" (POWER)",card:t,round:e.currentRound,isGenerated:!0}),console.log("\u2b50 POWER: Generated random card on arena:",t.element,t.strength),this.applyStatusEffect(e,a,"STRENGTH_BOOST",2,2)}if("POWER"===n.element&&!s){const t=this.generateAdvancedCards(1)[0];r.playedCards.push(t),e.playedCards.push({playerId:r.id,playerName:r.name+" (POWER)",card:t,round:e.currentRound,isGenerated:!0}),console.log("\u2b50 POWER: AI generated random card on arena:",t.element,t.strength),this.applyStatusEffect(e,r,"STRENGTH_BOOST",2,2)}if("TECHNOLOGY"===t.element&&!l){if(this.applyStatusEffect(e,a,"SHIELD",3,3),this.applyStatusEffect(e,r,"SILENCE",1,2),a.hand&&Array.isArray(a.hand)){const e=a.hand.filter(e=>e&&"EARTH"===e.element);e.forEach(e=>{e&&(e.modifiedStrength=(e.modifiedStrength||e.strength)+2)}),e.length>0&&console.log("\ud83d\udd27 TECHNOLOGY: Protected ".concat(e.length," EARTH cards (+2 strength each)"))}if(a.hand.length<7){const e=this.generateAdvancedCards(1)[0];a.hand.push(e),a.cardCount++,console.log("\ud83d\udd27 TECHNOLOGY: Applied shield, silenced opponent, created card")}}if("TECHNOLOGY"===n.element&&!s){if(this.applyStatusEffect(e,r,"SHIELD",3,3),this.applyStatusEffect(e,a,"SILENCE",1,2),r.hand&&Array.isArray(r.hand)){const e=r.hand.filter(e=>e&&"EARTH"===e.element);e.forEach(e=>{e&&(e.modifiedStrength=(e.modifiedStrength||e.strength)+2)}),e.length>0&&console.log("\ud83d\udd27 TECHNOLOGY: AI protected ".concat(e.length," EARTH cards (+2 strength each)"))}if(r.hand.length<7){const e=this.generateAdvancedCards(1)[0];r.hand.push(e),r.cardCount++,console.log("\ud83d\udd27 TECHNOLOGY: AI applied shield, silenced player, created card")}}if("METEOR"===t.element&&!l){this.applyStatusEffect(e,r,"FATIGUE",1,3),e.meteorAttacks.player1=(e.meteorAttacks.player1||0)+1;const t=e.meteorAttacks.player1;if(e.meteorDamageEvents||(e.meteorDamageEvents=[]),r.playedCards&&Array.isArray(r.playedCards)){const t=r.playedCards.filter(e=>e&&"EARTH"===e.element&&"number"===typeof e.strength),n=[];t.length>0&&(t.forEach((e,t)=>{if(!e||"number"!==typeof e.strength)return;e.strength;(e.modifiedStrength||e.strength)>0&&(void 0!==e.modifiedStrength?e.modifiedStrength=Math.max(0,e.modifiedStrength-1):e.modifiedStrength=Math.max(0,e.strength-1),e.meteorDamaged=!0,e.meteorDamage=(e.meteorDamage||0)+1,n.push({cardIndex:r.playedCards.indexOf(e),damage:1,destroyed:!1}))}),e.meteorDamageEvents.push({timestamp:Date.now(),targetPlayer:r.id,playerName:r.name,damagedCards:n,totalCards:t.length,cardsDestroyed:0}),console.log("\u2604\ufe0f METEOR: Attacked ".concat(t.length," EARTH cards in arena (-1 strength each)")))}r.score=Math.max(0,r.score-t),console.log("\u2604\ufe0f METEOR: Applied fatigue and dealt ".concat(t," cumulative damage"))}if("METEOR"===n.element&&!s){this.applyStatusEffect(e,a,"FATIGUE",1,3),e.meteorAttacks.player2=(e.meteorAttacks.player2||0)+1;const t=e.meteorAttacks.player2;if(e.meteorDamageEvents||(e.meteorDamageEvents=[]),a.playedCards&&Array.isArray(a.playedCards)){const t=a.playedCards.filter(e=>e&&"EARTH"===e.element&&"number"===typeof e.strength),n=[];t.length>0&&(t.forEach((e,t)=>{if(!e||"number"!==typeof e.strength)return;e.strength;(e.modifiedStrength||e.strength)>0&&(void 0!==e.modifiedStrength?e.modifiedStrength=Math.max(0,e.modifiedStrength-1):e.modifiedStrength=Math.max(0,e.strength-1),e.meteorDamaged=!0,e.meteorDamage=(e.meteorDamage||0)+1,n.push({cardIndex:a.playedCards.indexOf(e),damage:1,destroyed:!1}))}),e.meteorDamageEvents.push({timestamp:Date.now(),targetPlayer:a.id,playerName:a.name,damagedCards:n,totalCards:t.length,cardsDestroyed:0}),console.log("\u2604\ufe0f METEOR: AI attacked ".concat(t.length," EARTH cards in arena (-1 strength each)")))}a.score=Math.max(0,a.score-t),console.log("\u2604\ufe0f METEOR: AI applied fatigue and dealt ".concat(t," cumulative damage"))}"NEUTRAL"!==t.element||l||("COPY"===t.neutralAbility?(t.element=n.element,t.evolved=!0,console.log("\ud83d\udd2e NEUTRAL: Copied opponent's element")):"BOOST"===t.neutralAbility&&(t.modifiedStrength=(t.modifiedStrength||t.strength)+3,console.log("\ud83d\udd2e NEUTRAL: Boosted strength by +3"))),"NEUTRAL"!==n.element||s||("COPY"===n.neutralAbility?(n.element=t.element,n.evolved=!0,console.log("\ud83d\udd2e NEUTRAL: AI copied player's element")):"BOOST"===n.neutralAbility&&(n.modifiedStrength=(n.modifiedStrength||n.strength)+3,console.log("\ud83d\udd2e NEUTRAL: AI boosted strength by +3"))),"LIGHT"!==t.element||l||(this.applyStatusEffect(e,a,"REGENERATION",2,4),this.applyStatusEffect(e,a,"PIERCING",1,3),a.score+=1,console.log("\u2728 LIGHT: Applied regeneration and piercing, healed 1 score")),"LIGHT"!==n.element||s||(this.applyStatusEffect(e,r,"REGENERATION",2,4),this.applyStatusEffect(e,r,"PIERCING",1,3),r.score+=1,console.log("\u2728 LIGHT: AI applied regeneration and piercing, healed 1 score")),"DARK"!==t.element||l||(this.applyStatusEffect(e,r,"CURSE",2,3),this.applyStatusEffect(e,r,"POISON",1,4),console.log("\ud83c\udf11 DARK: Applied curse and poison debuffs")),"DARK"!==n.element||s||(this.applyStatusEffect(e,a,"CURSE",2,3),this.applyStatusEffect(e,a,"POISON",1,4),console.log("\ud83c\udf11 DARK: AI applied curse and poison debuffs")),"NEUTRAL"===n.element&&("COPY"===n.neutralAbility?(n.element=t.element,n.evolved=!0,console.log("\ud83d\udd2e NEUTRAL: AI copied player's element")):"BOOST"===n.neutralAbility&&(n.modifiedStrength=(n.modifiedStrength||n.strength)+3,console.log("\ud83d\udd2e NEUTRAL: AI boosted strength by +3")))}notifyListeners(e,t){if(console.log("Notifying listeners:",e,t),this.listeners[e]){const a=this.listeners[e];for(let e=0;e<a.length;e++)if("function"===typeof a[e])try{a[e](t)}catch(n){console.error("Error in listener callback:",n)}}if("GAME_UPDATE"===e&&t){const e=JSON.parse(JSON.stringify(t));console.log("\ud83d\udd04 Emitting gameState with new reference",{gameOver:e.gameOver,winner:e.winner}),this.emit("gameState",e)}}async send(e){if(console.log("\ud83c\udfae GameClient sending command:",e),this.mockMode){console.log("Mock mode - processing command:",e);const t=this.mockCommand(e);return this.handleMessage(t),t}try{const t=await fetch("".concat(this.baseUrl,"/command"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:e})}),n=await t.json();return this.handleMessage(n),n}catch(t){console.error("Failed to send command, switching to mock mode:",t),this.mockMode=!0;const n=this.mockCommand(e);return this.handleMessage(n),n}}createRoom(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CHAOS";return new Promise(t=>{this.once("ROOM_CREATED",e=>t(e)),this.send("CREATE_ROOM ".concat(e))})}joinRoom(e,t,n){return new Promise(a=>{this.once("JOIN_RESULT",e=>a(e.success)),this.send("JOIN_ROOM ".concat(e," ").concat(t," ").concat(n))})}startGame(e){return new Promise(t=>{this.once("GAME_STARTED",e=>t(e.success)),this.send("START_GAME ".concat(e))})}selectCards(e,t,n){return new Promise(a=>{this.once("CARDS_SELECTED",e=>a(e.success)),this.send("SELECT_CARDS ".concat(e," ").concat(t," ").concat(n.join(" ")))})}completeCoinToss(e,t){return new Promise(n=>{this.once("COIN_TOSS_COMPLETE",e=>n(e)),this.send("COIN_TOSS ".concat(e," ").concat(t))})}playCard(e,t,n){return new Promise(a=>{this.once("CARD_CHOSEN",e=>a(e.success)),this.send("CHOOSE_CARD ".concat(e," ").concat(t," ").concat(n))})}drawFromReserve(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(a=>{this.once("CARD_DRAWN",e=>a(e.success)),this.send("DRAW_FROM_RESERVE ".concat(e," ").concat(t," ").concat(n))})}skipAbility(e,t){return new Promise(n=>{this.once("ABILITY_SKIPPED",e=>n(e.success)),this.send("SKIP_ABILITY ".concat(e," ").concat(t))})}forfeitTurn(e,t){return new Promise(n=>{this.once("TURN_FORFEITED",e=>n(e.success)),this.send("FORFEIT_TURN ".concat(e," ").concat(t))})}getGameState(e){return this.send("GET_STATE ".concat(e))}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}once(e,t){const n=a=>{t(a),this.off(e,n)};this.on(e,n)}off(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(e=>e!==t))}emit(e,t){this.listeners[e]&&this.listeners[e].forEach(e=>{try{e(t)}catch(n){console.error("Error in event listener:",n)}})}handleMessage(e){e.type&&this.emit(e.type,e),void 0!==e.roomId&&void 0!==e.players&&this.emit("gameState",e)}disconnect(){console.log("Game client disconnected")}};const xe=new class{constructor(){this.config={maxInputLength:1e3,allowedCommands:["CREATE_ROOM","JOIN_ROOM","START_GAME","PLAY_CARD","GET_STATE","SELECT_CARDS","COIN_TOSS"],rateLimitWindow:6e4,maxRequestsPerWindow:30,enableCSRFProtection:!0,enableXSSProtection:!0},this.requestHistory=new Map,this.init()}init(){"undefined"!==typeof document&&(this.setupContentSecurityPolicy(),this.preventClickjacking(),this.disableDebugFeatures())}setupContentSecurityPolicy(){const e=document.createElement("meta");e.httpEquiv="Content-Security-Policy",e.content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' fonts.googleapis.com; font-src 'self' fonts.gstatic.com; img-src 'self' data: blob:; connect-src 'self' ws: wss:;",document.head&&!document.head.querySelector('meta[http-equiv="Content-Security-Policy"]')&&document.head.appendChild(e)}preventClickjacking(){try{window.self!==window.top&&(window.top.location=window.self.location)}catch(e){0}}disableDebugFeatures(){"undefined"!==typeof console&&(console.log=()=>{},console.warn=()=>{},console.error=()=>{},console.debug=()=>{}),document.addEventListener("contextmenu",e=>e.preventDefault()),document.addEventListener("keydown",e=>{if("F12"===e.key||e.ctrlKey&&e.shiftKey&&"I"===e.key||e.ctrlKey&&e.shiftKey&&"C"===e.key||e.ctrlKey&&e.shiftKey&&"J"===e.key||e.ctrlKey&&"U"===e.key)return e.preventDefault(),!1})}sanitizeInput(e){if("string"!==typeof e)throw new Error("Input must be a string");if(e.length>this.config.maxInputLength)throw new Error("Input exceeds maximum length");return e.replace(/[<>"'&]/g,"").replace(/[\x00-\x1f\x7f-\x9f]/g,"").trim()}validateCommand(e){const t=this.sanitizeInput(e),n=t.split(" ")[0];if(!this.config.allowedCommands.includes(n))throw new Error("Invalid command: ".concat(n));return t}checkRateLimit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";const t=Date.now(),n=t-this.config.rateLimitWindow;this.requestHistory.has(e)||this.requestHistory.set(e,[]);const a=this.requestHistory.get(e).filter(e=>e>n);if(a.length>=this.config.maxRequestsPerWindow)throw new Error("Rate limit exceeded. Please slow down.");return a.push(t),this.requestHistory.set(e,a),!0}logSecurityEvent(e){(new Date).toISOString(),"undefined"!==typeof navigator&&navigator.userAgent,"undefined"!==typeof window&&window.location.href}processSecureCommand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{this.checkRateLimit(t||"anonymous");const n=this.validateCommand(e);return this.logSecurityEvent("command_processed",{command:n.split(" ")[0],userId:t||"anonymous"}),n}catch(n){throw this.logSecurityEvent("security_violation",{error:n.message,command:null===e||void 0===e?void 0:e.substring(0,100),userId:t||"anonymous"}),n}}};const Se=function(){var e,t,n,r,l,s,o;const[i,f]=(0,a.useState)(!0);(0,a.useEffect)(()=>{try{xe.logSecurityEvent("app_initialized",{version:{NODE_ENV:"production",PUBLIC_URL:"/nebula-elemental-battle",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEBUG_MODE:"false",REACT_APP_DONATION_LINKS:'{"paypal":"https://paypal.me/ColinNebula","kofi":"https://ko-fi.com/ColinNebula","github":"https://github.com/sponsors/ColinNebula"}',REACT_APP_ENABLE_AI_OPPONENTS:"true",REACT_APP_ENABLE_DONATIONS:"true",REACT_APP_ENABLE_PWA:"true",REACT_APP_ENABLE_SECURITY_HEADERS:"true",REACT_APP_MOCK_BACKEND:"true"}.REACT_APP_VERSION||"1.0.0",environment:"production"})}catch(e){console.error("Security initialization failed:",e)}},[]);const[p]=(0,a.useState)(()=>new Ee),h=(0,a.useRef)(!1),[v,y]=(0,a.useState)(!0),[b,k]=(0,a.useState)(!0),[N,C]=(0,a.useState)(!1),[T,A]=(0,a.useState)(!1),[j,R]=(0,a.useState)(!1),[P,I]=(0,a.useState)(null),[O,M]=(0,a.useState)(()=>(()=>{try{const e=localStorage.getItem("storyModeProgress");if(e)return JSON.parse(e);const t=localStorage.getItem("storyModeBackup");if(t){const e=JSON.parse(t);return console.log("\u26a0\ufe0f Recovered story progress from backup:",e),localStorage.setItem("storyModeProgress",JSON.stringify(e.progress)),e.progress}}catch(e){console.error("Error recovering story progress:",e)}return[]})()),[_,L]=(0,a.useState)(!1),[D,F]=(0,a.useState)(!1),[z,W]=(0,a.useState)(null),[K,Q]=(0,a.useState)(null),[ce,ue]=(0,a.useState)(!1),[de,fe]=(0,a.useState)(null),[me]=(0,a.useState)(()=>"player_"+Math.random().toString(36).substr(2,9)),[pe,ye]=(0,a.useState)(null),[be,Se]=(0,a.useState)(!1),[ke,Ne]=(0,a.useState)(!1),[we,Ce]=(0,a.useState)(!1),[Te,Ae]=(0,a.useState)(!1),[je,Re]=(0,a.useState)(!1),[Pe,Ie]=(0,a.useState)(!1),[Oe,Me]=(0,a.useState)(!1),[_e,Le]=(0,a.useState)(()=>(()=>{try{const e=J();if(e&&void 0!==e.totalGames)return e;const t=localStorage.getItem("profileBackup");if(t){const e=JSON.parse(t);return console.log("\u26a0\ufe0f Recovered player profile from backup"),X(e),e}}catch(e){console.error("Error recovering profile:",e)}return J()})()),[De,Fe]=(0,a.useState)(null),[ze,Be]=(0,a.useState)(null),[Ue,He]=(0,a.useState)(()=>{const e=localStorage.getItem("playerInventory");return e?JSON.parse(e):ge()}),[Ge,We]=(0,a.useState)(()=>{const e=localStorage.getItem("gameSettings"),t=w();return e?c(c({},JSON.parse(e)),t):{soundEnabled:!0,musicEnabled:!0,animationsEnabled:!0,timerEnabled:!0,keyboardEnabled:!0,colorblindMode:t.colorblindMode,highContrast:t.highContrast,textSize:t.textSize,showElementIcons:t.showElementIcons}});(0,a.useEffect)(()=>{(()=>{const e=B();H(e.colorTheme),G(e.handTheme)})(),w()},[]),(0,a.useEffect)(()=>{Ge.colorblindMode&&E(Ge.colorblindMode),void 0!==Ge.highContrast&&x(Ge.highContrast),Ge.textSize&&S(Ge.textSize),void 0!==Ge.showElementIcons&&localStorage.setItem("showElementIcons",Ge.showElementIcons),window.dispatchEvent(new Event("settingsUpdated"))},[Ge.colorblindMode,Ge.highContrast,Ge.textSize,Ge.showElementIcons]),(0,a.useEffect)(()=>{localStorage.setItem("playerInventory",JSON.stringify(Ue))},[Ue]),(0,a.useEffect)(()=>{const e="2.0.0";if(localStorage.getItem("appVersion")!==e){console.log("Version changed, updating app version...");const t=localStorage.getItem("playerThemes"),n=localStorage.getItem("playerProfile"),a=localStorage.getItem("storyModeProgress"),r=localStorage.getItem("storyModeBackup"),l=localStorage.getItem("tutorialCompleted"),s=localStorage.getItem("gameSettings"),o=["playerThemes","playerProfile","storyModeProgress","storyModeBackup","tutorialCompleted","gameSettings"];return Object.keys(localStorage).forEach(e=>{o.includes(e)||localStorage.removeItem(e)}),t&&localStorage.setItem("playerThemes",t),n&&localStorage.setItem("playerProfile",n),a&&localStorage.setItem("storyModeProgress",a),r&&localStorage.setItem("storyModeBackup",r),l&&localStorage.setItem("tutorialCompleted",l),s&&localStorage.setItem("gameSettings",s),localStorage.setItem("appVersion",e),void console.log("\u2705 User data preserved during version update")}if(h.current)return void console.log("Skipping duplicate connection attempt");h.current=!0,console.log("Initializing game client connection..."),p.connect("localhost",3011).then(()=>{console.log("Connected to game server")}).catch(e=>{console.error("Failed to connect:",e)});const t=e=>{ye(e)};p.on("gameState",t);return localStorage.getItem("tutorialCompleted")||Ne(!0),()=>{console.log("Cleaning up game client..."),p.off("gameState",t),p.disconnect()}},[]),(0,a.useEffect)(()=>{localStorage.setItem("gameSettings",JSON.stringify(Ge))},[Ge]),(0,a.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(Se(!1),Ce(!1),Ne(!1),Ae(!1),Re(!1)),"s"!==e.key&&"S"!==e.key||(!ce||null!==pe&&void 0!==pe&&pe.gameOver)&&(e.preventDefault(),Se(!0)),"t"!==e.key&&"T"!==e.key||(!ce||null!==pe&&void 0!==pe&&pe.gameOver)&&(e.preventDefault(),Ne(!0)),"p"!==e.key&&"P"!==e.key||(!ce||null!==pe&&void 0!==pe&&pe.gameOver)&&(e.preventDefault(),Ce(!0)),"u"!==e.key&&"U"!==e.key||(!ce||null!==pe&&void 0!==pe&&pe.gameOver)&&(e.preventDefault(),Ae(!0)),"h"!==e.key&&"H"!==e.key||(!ce||null!==pe&&void 0!==pe&&pe.gameOver)&&(e.preventDefault(),Re(!0))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[ce,null===pe||void 0===pe?void 0:pe.gameOver]),(0,a.useEffect)(()=>{if(pe&&(!pe.gameStarted||pe.cardSelectionPhase||De||Fe(Date.now()),pe.lastMatchBonus&&(()=>{const e=Z();e.matchBonusCount++,ee(e)})(),pe.pendingAbility&&pe.pendingAbility.playerId===me&&(()=>{const e=Z();e.specialAbilitiesUsed++,ee(e)})(),pe.gameOver&&De)){var e,t;const n=null===(e=pe.players)||void 0===e?void 0:e.find(e=>!e.isAI),a=null===(t=pe.players)||void 0===t?void 0:t.find(e=>e.isAI);if(n&&a){let e;e=pe.winner===n.name||pe.winner!==a.name&&null,((e,t,n,a,r)=>{const l=Z(),s=r?Math.floor((Date.now()-r)/1e3):null;l.gamesPlayed++,l.totalRoundsPlayed+=a,!0===e?(l.gamesWon++,l.currentWinStreak++,l.longestWinStreak=Math.max(l.longestWinStreak,l.currentWinStreak),s&&(!l.fastestWin||s<l.fastestWin)&&(l.fastestWin=s)):!1===e?(l.gamesLost++,l.currentWinStreak=0):l.gamesTied++,l.highestScore=Math.max(l.highestScore,t),l.lastPlayed=Date.now(),ee(l)})(e,n.score,a.score,pe.currentRound||0,De);const t=(e=>{const t=J();t.totalGames++,e.won?(t.wins++,t.winStreak++,t.firstWin||(t.firstWin=!0),e.playerScore>0&&0===e.aiScore&&(t.perfectGame=!0)):e.lost?(t.losses++,t.winStreak=0):t.ties++,t.lastPlayed=Date.now(),X(t);const n=c(c({},t),{},{lastGameResult:e,backupTimestamp:Date.now()});return localStorage.setItem("profileBackup",JSON.stringify(n)),console.log("\u2705 Player Profile Autosaved:",t.totalGames,"games played"),t})({won:!0===e,lost:!1===e,tied:null===e,playerScore:n.score,aiScore:a.score}),r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=B();let a=0;e.won?(a=10,e.playerScore>e.aiScore+2&&(a+=5),e.playerScore>0&&0===e.aiScore&&(a+=10),t&&(a+=5)):e.tied&&(a=3);const r=c(c({},n),{},{coins:n.coins+a});return U(r),{coinsEarned:a,totalCoins:r.coins}}({won:!0===e,lost:!1===e,tied:null===e,playerScore:n.score,aiScore:a.score},!!P);if(r.coinsEarned>0&&console.log("\ud83e\ude99 Earned ".concat(r.coinsEarned," coins! Total: ").concat(r.totalCoins)),!0===e||null===e){const t=Math.floor((_e.gamesPlayed||0)/10)+1;he(t,!0===e).forEach(e=>{"currency"===e.type?(Ue.addCurrency(e.amount),console.log("\ud83d\udcb0 Earned ".concat(e.amount," gold!"))):(Ue.addItem(e),console.log("\u2728 Obtained: ".concat(e.name," (").concat(e.rarity,")")))}),He(c({},Ue))}Le(t),P&&!0===e&&!O.includes(P)&&M(e=>{const t=[...e,P].sort((e,t)=>e-t);localStorage.setItem("storyModeProgress",JSON.stringify(t));const n={progress:t,timestamp:Date.now(),completedStage:P};return localStorage.setItem("storyModeBackup",JSON.stringify(n)),localStorage.setItem("playerProfile",JSON.stringify(_e)),console.log("\u2705 Story Progress Autosaved: Stage ".concat(P," completed")),9===P&&setTimeout(()=>{L(!0)},2e3),t}),Fe(null)}}},[pe,De,me,P]);const qe=()=>{ue(!1),R(!1),Me(!1),I(null),ye(null),fe(null),k(!1),C(!1),A(!0)},Ve=e=>{console.log("\ud83d\udd04 Starting polling for room:",e),p.getGameState(e);const t=setInterval(()=>{p.getGameState(e)},2e3);window.gameStateInterval=t},Ye=async()=>{if(de){await p.startGame(de)||alert("Failed to start game. Need at least 2 players.")}};return v?(0,u.jsxs)("div",{className:"App","data-testid":"app-container",children:[b&&(0,u.jsx)(le,{onComplete:()=>{k(!1),C(!1),A(!0),R(!1),ue(!1),I(null)},isReturning:N}),!b&&T&&!ce&&!be&&!ke&&!we&&!Te&&!je&&(0,u.jsx)(ae,{}),_&&(0,u.jsx)(re,{onClose:()=>{L(!1),R(!0)}}),(0,u.jsx)(Y,{isOpen:be,onClose:()=>Se(!1),settings:Ge,onSettingsChange:e=>{We(e),localStorage.setItem("gameSettings",JSON.stringify(e))}}),(0,u.jsx)($,{isOpen:ke,onClose:()=>Ne(!1)}),(0,u.jsx)(te,{isOpen:we,onClose:()=>Ce(!1)}),je&&(0,u.jsx)(oe,{onClose:()=>Re(!1)}),Pe&&(0,u.jsx)(ve,{inventory:Ue,onUseConsumable:e=>{console.log("Using consumable:",e)},onEquipItem:(e,t)=>{console.log("Equipped:",e,"Unequipped:",t)},onUnequipItem:e=>{console.log("Unequipped:",e)},onAddToActiveDeck:e=>{console.log("Added to deck:",e)},onClose:()=>Ie(!1)}),Te&&(0,u.jsx)("div",{className:"modal-overlay",onClick:()=>Ae(!1),children:(0,u.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("button",{className:"modal-close",onClick:()=>Ae(!1),children:"\u2715"}),(0,u.jsx)(ne,{player:(null===pe||void 0===pe||null===(e=pe.players)||void 0===e?void 0:e.find(e=>!e.isAI))||{name:_e.name||"Player"},isAI:!1,stats:_e})]})}),b||!T||ce?b||!j||ce?b||!Oe||ce?b?null:(0,u.jsxs)(u.Fragment,{children:[(!ce||(null===pe||void 0===pe?void 0:pe.gameOver)||(null===pe||void 0===pe?void 0:pe.cardSelectionPhase))&&(0,u.jsxs)("div",{className:"top-menu",children:[(0,u.jsx)("button",{className:"menu-button",onClick:()=>{A(!0),Me(!1)},title:"Main Menu",children:"\ud83c\udfe0"}),(0,u.jsx)("button",{className:"menu-button",onClick:()=>Ne(!0),title:"Tutorial (T)",children:"\u2753"}),(0,u.jsx)("button",{className:"menu-button",onClick:()=>Ce(!0),title:"Statistics (P)",children:"\ud83d\udcca"}),(0,u.jsx)("button",{className:"menu-button",onClick:()=>Ae(!0),title:"Profile (U)",children:"\ud83d\udc64"}),(0,u.jsx)("button",{className:"menu-button",onClick:()=>Re(!0),title:"Theme Shop (H)",children:"\ud83c\udfa8"}),(0,u.jsx)("button",{className:"menu-button",onClick:()=>Se(!0),title:"Settings (S)",children:"\u2699\ufe0f"})]}),null===pe||void 0===pe||!pe.cardSelectionPhase||null!==pe&&void 0!==pe&&pe.gameStarted?D?(0,u.jsx)(se,{playerName:(null===pe||void 0===pe||null===(r=pe.players)||void 0===r||null===(l=r.find(e=>e.id===me))||void 0===l?void 0:l.name)||"Player",opponentName:(null===pe||void 0===pe||null===(s=pe.players)||void 0===s||null===(o=s.find(e=>e.id!==me))||void 0===o?void 0:o.name)||"Opponent",onComplete:async e=>{if(console.log("Coin toss result:",e?"Player goes first":"Opponent goes first"),F(!1),de){const a=await p.completeCoinToss(de,me);var t,n;if(a&&a.success)W(e?me:null===pe||void 0===pe||null===(t=pe.players)||void 0===t||null===(n=t.find(e=>e.id!==me))||void 0===n?void 0:n.id),console.log("\u2705 Coin toss completed, game should be active now");else console.error("\u274c Failed to complete coin toss"),F(!1)}}}):(0,u.jsx)(q,{gameState:pe,currentPlayerId:me,onPlayCard:async e=>{if(de){var t,n;const a=null===pe||void 0===pe||null===(t=pe.players)||void 0===t?void 0:t.find(e=>e.id===me),r=null===a||void 0===a||null===(n=a.hand)||void 0===n?void 0:n[e];if(console.log("\ud83c\udfb4 Playing card:",{cardIndex:e,card:r,isMyTurn:null===a||void 0===a?void 0:a.active}),null===a||void 0===a||!a.active)return void console.log("\u274c Not your turn - waiting...");const l=await p.playCard(de,me,e);console.log("\u2705 Play card result:",l),p.getGameState(de),r&&setTimeout(()=>{var e,t;const n=pe,a=null===n||void 0===n||null===(e=n.players)||void 0===e?void 0:e.find(e=>!e.isAI),l=null===n||void 0===n||null===(t=n.players)||void 0===t?void 0:t.find(e=>e.isAI);if(null!==a&&void 0!==a&&a.chosenCard&&null!==l&&void 0!==l&&l.chosenCard){const e=a.chosenCard.strength>l.chosenCard.strength;((e,t)=>{const n=Z();n.totalCardsPlayed++,n.elementStats[e]&&(n.elementStats[e].played++,t&&n.elementStats[e].won++),ee(n)})(r.element,e)}},6e3)}},onStartGame:Ye,onPlayAgain:()=>{window.gameStateInterval&&clearInterval(window.gameStateInterval),P?(ue(!1),fe(null),ye(null),Fe(null),Be(null),I(null),R(!0)):K?(ye(null),Fe(null),Be(null),Ye()):(ue(!1),fe(null),ye(null),Fe(null),Be(null),A(!0))},onDrawFromReserve:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(de){await p.drawFromReserve(de,me,e)?p.getGameState(de):alert("Failed to draw from reserve.")}},onSkipAbility:async()=>{de&&(await p.skipAbility(de,me),p.getGameState(de))},onForfeit:async()=>{de&&await p.forfeitTurn(de,me)},onQuit:qe,settings:Ge,isStoryMode:!!P}):(0,u.jsx)(V,{hand:(null===(t=pe.players)||void 0===t||null===(n=t.find(e=>e.id===me))||void 0===n?void 0:n.hand)||[],onConfirmSelection:async e=>{if(console.log("\ud83c\udfb4 Selecting cards:",e),de)try{const t=await p.selectCards(de,me,e);console.log("\ud83c\udfb4 Card selection result:",t),t?(console.log("\u2705 Cards selected successfully, showing coin toss"),F(!0)):alert("Failed to select cards.")}catch(t){console.error("\u274c Error selecting cards:",t),alert("Failed to select cards.")}},onBack:()=>{window.gameStateInterval&&clearInterval(window.gameStateInterval),ue(!1),fe(null),ye(null),Fe(null),A(!0)}})]}):(0,u.jsx)(m,{onSinglePlayer:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CHAOS";console.log("\ud83c\udfaf Starting single player game:",{playerName:e,aiPersonality:t});try{const n=await p.createRoom(t);if(console.log("\ud83c\udfe0 Room created:",n),n&&n.roomId){if(fe(n.roomId),await p.joinRoom(n.roomId,me,e),await p.startGame(n.roomId),A(!1),Me(!1),R(!1),k(!1),ue(!0),Fe(Date.now()),console.log("\ud83d\udd04 Starting game state polling for room:",n.roomId),Ve(n.roomId),e!==_e.name){const t=c(c({},_e),{},{name:e});Le(t),localStorage.setItem("playerProfile",JSON.stringify(t))}}else console.error("\ud83d\udea8 No room ID returned from createRoom")}catch(n){console.error("\ud83d\udea8 Error creating single player game:",n)}},onMultiplayer:async e=>{alert("Multiplayer mode coming soon! Play Single Player for now.")},onBack:()=>{Me(!1),A(!0)}}):(0,u.jsx)(g,{onStartBattle:async(e,t)=>{I(t),Q(e),R(!1);const n=_e.name||"Player";try{const t=await p.createRoom(e);t&&t.roomId&&(fe(t.roomId),await p.joinRoom(t.roomId,me,n),await p.startGame(t.roomId),ue(!0),Fe(Date.now()),Ve(t.roomId))}catch(a){console.error("Error starting story battle:",a)}},onBack:()=>{R(!1),A(!0)},completedStages:O}):(0,u.jsx)(d,{onPlayGame:()=>{console.log("\ud83c\udfae Play Game clicked - navigating to lobby"),A(!1),R(!1),k(!1),Me(!0)},onStoryMode:()=>{A(!1),R(!0)},onShowTutorial:()=>Ne(!0),onShowStats:()=>Ce(!0),onShowProfile:()=>Ae(!0),onShowThemeShop:()=>Re(!0),onShowInventory:()=>Ie(!0),onShowSettings:()=>Se(!0),onQuit:qe}),i&&!b&&T&&!ce&&!be&&!ke&&!we&&!Te&&!je&&!j&&!_&&!Oe&&(0,u.jsx)(ie,{onClose:()=>f(!1)})]}):(0,u.jsx)("div",{className:"App",children:(0,u.jsxs)("div",{className:"connecting",children:[(0,u.jsx)("h2",{children:"Connecting to game server..."}),(0,u.jsx)("p",{children:"Make sure the C++ server is running on port 8080"})]})})},ke=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,206)).then(t=>{let{getCLS:n,getFID:a,getFCP:r,getLCP:l,getTTFB:s}=t;n(e),a(e),r(e),l(e),s(e)})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.createRoot(document.getElementById("root")).render((0,u.jsx)(Se,{})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)}),ke()})();